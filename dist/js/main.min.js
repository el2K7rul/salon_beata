window.onload=function(){function t(e){e.classList.remove("error-display"),e.textContent=""}function r(e,t){e.classList.add("error-display"),e.textContent=t}var n=document.querySelector(".body"),o=document.querySelector(".burger"),s=document.querySelectorAll(".burger__bars"),c=document.querySelector(".nav"),l=document.querySelector(".nav-desktop"),e=document.querySelectorAll(".nav-mobile__link"),i=document.querySelector(".arrowup"),a=document.querySelector(".footer__bottom--date"),d=document.querySelectorAll(".section"),u=document.querySelector(".error-msg"),m=document.querySelector(".error-msg-tel"),v=document.querySelector(".email"),f=document.querySelector(".telNum"),h=document.querySelector(".submit"),y=(new Date).getFullYear(),L=(a.textContent=y.toString(),window.addEventListener("scroll",function(){var t=window.scrollY;d.forEach(function(e){!e.classList.contains("white-section")&&e.offsetTop<=t+30?s.forEach(function(e){return e.classList.add("white-burger")}):e.classList.contains("white-section")&&e.offsetTop<=t+100&&s.forEach(function(e){return e.classList.remove("white-burger")})}),480<window.scrollY?i.classList.add("active"):i.classList.remove("active")}),o.addEventListener("click",function(){c.classList.toggle("active"),o.classList.toggle("active"),n.classList.toggle("disable-scroll"),e.forEach(function(e){e.addEventListener("click",function(){c.classList.remove("active"),o.classList.remove("active"),n.classList.remove("disable-scroll")})})}),h.addEventListener("click",function(e){e.preventDefault(),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(v.value)?t(u):r(u,"wpisz poprawny adres email."),/^[0-9\+]{8,13}$/.test(f.value)?t(m):r(m,"wpisz poprawny nr tel.")}),document.querySelector(".carousel")),a=document.querySelector(".btn-one"),g=(document.querySelector(".btn-two"),document.querySelector(".btn-three"),document.querySelector(".btn-four"),document.querySelectorAll(".thumbnail-img")),y=(document.querySelector(".gallery-color"),document.querySelector(".gallery-barber"),document.querySelector(".gallery-style"),L.querySelectorAll(".img"),document.querySelectorAll(".arrow"));function b(e,t){var r=document.createElement("img");r.src=e.src,r.id=t,r.classList.add("img"),L.appendChild(r),setTimeout(function(){r.classList.add("show-image")},1)}y.forEach(function(t){t.addEventListener("click",function(){var e;(e=t).classList.contains("left-btn")?console.log("left"):e.classList.contains("right-btn")&&console.log("right")})}),g.forEach(function(n,o){return n.addEventListener("click",function(){var e,t,r;e=n,t=o,0!==L.childElementCount&&(e.classList.remove("show-image"),L.removeChild(L.firstElementChild)),b(e,t),r=o,g.forEach(function(e,t){return r===t?e.classList.remove("thumbnail-disabled"):e.classList.add("thumbnail-disabled")})})}),document.addEventListener("click",function(e){(e.target.classList.contains("gallery")&&n.classList.contains("disable-scroll")||n.classList.contains("carousel"))&&(haircutGallery.classList.remove("display-gallery"),n.classList.remove("disable-scroll"),l.classList.remove("nav-transition"))}),a.addEventListener("click",function(){n.classList.add("disable-scroll"),haircutGallery.classList.add("display-gallery"),l.classList.add("nav-transition")})};var observer=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&e.target.classList.add("show")})}),hiddenElementsLeft=document.querySelectorAll(".hidden"),hiddenElementsRight=document.querySelectorAll(".hidden-right"),hiddenVanishedElements=document.querySelectorAll(".hidden-vanished");hiddenElementsLeft.forEach(function(e){return observer.observe(e)}),hiddenElementsRight.forEach(function(e){return observer.observe(e)}),hiddenVanishedElements.forEach(function(e){return observer.observe(e)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwiY2xlYXJFcnJvciIsImVsIiwic3VibWl0QnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNob3dFcnJvciIsImlucHV0IiwibXNnIiwiZm9ybUJveCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnVyZ2VyIiwiYm9keSIsImFsbEJ1cmdlckJhcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmF2TW9iaWxlIiwibmF2RGVza3RvcCIsImFycm93VXAiLCJmb290ZXJEYXRlIiwiYWxsU2VjdGlvbnMiLCJlcnJvck1zZyIsImVycm9yTXNnVGVsIiwiZW1haWwiLCJ0ZWxOdW0iLCJjdXJyZW50RGF0ZSIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImNhcm91c2VsIiwiY3VycmVudFllYXIiLCJ0b1N0cmluZyIsInZhbGlkTnVtIiwiZm9yRWFjaCIsInNjcm9sbFkiLCJzZWN0aW9uIiwib2Zmc2V0VG9wIiwiYmFyIiwiaGFuZGxlQXJyb3dVcCIsImNvbnRhaW5zIiwiY3VycmVudFNlY3Rpb24iLCJoYW5kbGVOYXYiLCJyZW1vdmUiLCJ0b2dnbGUiLCJhbGxOYXZMaW5rcyIsImxpbmsiLCJ3b3JrQnRuVGhyZWUiLCJ3b3JrQnRuRm91ciIsInRlc3QiLCJoYWlyY3V0R2FsbGVyeVRodW1ibmFpbCIsInZhbHVlIiwiY29sb3JHYWxsZXJ5IiwiaGFuZGxlQXJyb3dBY3Rpb24iLCJpY29uIiwiaWQiLCJjcmVhdGVJbWFnZSIsInRodW1ibmFpbCIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJpbmRleCIsImltZyIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJzZXRUaW1lb3V0IiwiaGFuZGxlQWN0aXZhdGVUaHVtYm5haWwiLCJhcnJvd0ljb25zIiwid29ya0J0bk9uZSIsImNvbnNvbGUiLCJsb2ciLCJjdXJyZW50SW5kZXgiLCJjaGlsZEVsZW1lbnRDb3VudCIsImZpcnN0RWxlbWVudENoaWxkIiwiZW50cmllcyIsInRhcmdldCIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJoYWlyY3V0R2FsbGVyeSIsImhpZGRlbkVsZW1lbnRzTGVmdCIsImhpZGRlbkVsZW1lbnRzUmlnaHQiLCJoaWRkZW5WYW5pc2hlZEVsZW1lbnRzIiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsIm9ic2VydmUiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFPQyxPQUFTLFdBOEZLLFNBQWJDLEVBQWNDLEdBYXBCQyxFQUFVQyxVQUFBQSxPQUFpQixlQUFTLEVBQ2xDQyxFQUFFQyxZQUFnQixFQVZwQixDQWFFLFNBQUFDLEVBQUFDLEVBQUFDLEdBRUZDLEVBQUFDLFVBQUFDLElBQUEsZUFBQSxFQVZFRixFQUFRRyxZQUFjSixDQVl4QixDQW5IRlYsSUFBT0MsRUFBTWMsU0FBR0MsY0FBWSxPQUFBLEVBQzFCQyxFQUFBRixTQUFBQyxjQUFBLFNBQUEsRUFDTUUsRUFBZ0JGLFNBQUFBLGlCQUFzQixlQUFBLEVBQ3RDQyxFQUFTRixTQUFTQyxjQUFjLE1BQVUsRUFDMUNHLEVBQWFKLFNBQVdDLGNBQUNJLGNBQWlCLEVBQzFDQyxFQUFZTixTQUFTQyxpQkFBcUIsbUJBQUEsRUFDMUNNLEVBQVVQLFNBQVdDLGNBQWMsVUFBQyxFQUVwQ08sRUFBVVIsU0FBU0MsY0FBYyx1QkFBVyxFQUU1Q1EsRUFBYVQsU0FBU0MsaUJBQWMsVUFBQSxFQUNwQ1MsRUFBV1YsU0FBV0MsY0FBQ0ksWUFBaUIsRUFDeENNLEVBQVdYLFNBQVNDLGNBQWMsZ0JBQWEsRUFDL0NXLEVBQUFBLFNBQWNaLGNBQVNDLFFBQWMsRUFDckNZLEVBQVFiLFNBQVNDLGNBQWMsU0FBUyxFQUN4Q2EsRUFBU2QsU0FBU0MsY0FBYyxTQUFVLEVBSTFDYyxHQUROLElBQUFDLE1BQzhCQyxZQUFBLEVBNEc5QkMsR0F4R0VULEVBQVdWLFlBQWNvQixFQUFZQyxTQUFTLEVBK0No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bUJBQW1CNUMsUUFBUSxTQUFDbEMsR0FBRSxPQUFLaUYsU0FBU0UsUUFBUW5GLENBQUUsQ0FBQyxDQUFBLEVBQ3ZEK0Usb0JBQW9CN0MsUUFBUSxTQUFDbEMsR0FBRSxPQUFLaUYsU0FBU0UsUUFBUW5GLENBQUUsQ0FBQyxDQUFBLEVBQ3hEZ0YsdUJBQXVCOUMsUUFBUSxTQUFDbEMsR0FBRSxPQUFLaUYsU0FBU0UsUUFBUW5GLENBQUUsQ0FBQyxDQUFBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAvL3NlbGVjdG9yc1xyXG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJvZHlcIik7XHJcbiAgY29uc3QgYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJcIik7XHJcbiAgY29uc3QgYWxsQnVyZ2VyQmFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyX19iYXJzXCIpO1xyXG4gIGNvbnN0IG5hdk1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2XCIpO1xyXG4gIGNvbnN0IG5hdkRlc2t0b3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdi1kZXNrdG9wXCIpO1xyXG4gIGNvbnN0IGFsbE5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXYtbW9iaWxlX19saW5rXCIpO1xyXG4gIGNvbnN0IGFycm93VXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFycm93dXBcIik7XHJcblxyXG4gIGNvbnN0IGZvb3RlckRhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9fYm90dG9tLS1kYXRlXCIpO1xyXG4gIGNvbnN0IGFsbFNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zZWN0aW9uXCIpO1xyXG4gIGNvbnN0IGVycm9yTXNnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvci1tc2dcIik7XHJcbiAgY29uc3QgZXJyb3JNc2dUZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yLW1zZy10ZWxcIik7XHJcbiAgY29uc3QgZW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVtYWlsXCIpO1xyXG4gIGNvbnN0IHRlbE51bSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGVsTnVtXCIpO1xyXG4gIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0XCIpO1xyXG5cclxuICAvLyBmb290ZXJcclxuICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgY29uc3QgY3VycmVudFllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG5cclxuICBjb25zdCBoYW5kbGVGb290ZXJZZWFyID0gKCkgPT4ge1xyXG4gICAgZm9vdGVyRGF0ZS50ZXh0Q29udGVudCA9IGN1cnJlbnRZZWFyLnRvU3RyaW5nKCk7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlRm9vdGVyWWVhcigpO1xyXG4gIC8vIE5BVlxyXG5cclxuICBjb25zdCBoYW5kbGVOYXYgPSAoKSA9PiB7XHJcbiAgICBuYXZNb2JpbGUuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgIGJ1cmdlci5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcblxyXG4gICAgYWxsTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xyXG4gICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgbmF2TW9iaWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgYnVyZ2VyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICBjb25zdCBoYW5kbGVBcnJvd1VwID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudFNlY3Rpb24gPSB3aW5kb3cuc2Nyb2xsWTtcclxuICAgIGlmIChjdXJyZW50U2VjdGlvbiA+IDQ4MCkge1xyXG4gICAgICBhcnJvd1VwLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcnJvd1VwLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlT2JzZXJ2ZXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50U2VjdGlvbiA9IHdpbmRvdy5zY3JvbGxZO1xyXG5cclxuICAgIGFsbFNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgICFzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucyhcIndoaXRlLXNlY3Rpb25cIikgJiZcclxuICAgICAgICBzZWN0aW9uLm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIDMwXHJcbiAgICAgICkge1xyXG4gICAgICAgIGFsbEJ1cmdlckJhcnMuZm9yRWFjaCgoYmFyKSA9PiBiYXIuY2xhc3NMaXN0LmFkZChcIndoaXRlLWJ1cmdlclwiKSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJ3aGl0ZS1zZWN0aW9uXCIpICYmXHJcbiAgICAgICAgc2VjdGlvbi5vZmZzZXRUb3AgPD0gY3VycmVudFNlY3Rpb24gKyAxMDBcclxuICAgICAgKSB7XHJcbiAgICAgICAgYWxsQnVyZ2VyQmFycy5mb3JFYWNoKChiYXIpID0+IGJhci5jbGFzc0xpc3QucmVtb3ZlKFwid2hpdGUtYnVyZ2VyXCIpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBoYW5kbGVBcnJvd1VwKCk7XHJcbiAgfTtcclxuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlT2JzZXJ2ZXIpO1xyXG4gIGJ1cmdlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlTmF2KTtcclxuXHJcbiAgLy8gZm9ybSB2YWxpZGF0b3JcclxuXHJcbiAgY29uc3QgY2hlY2tUZWxOdW0gPSAodGVsTnVtKSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZE51bSA9IC9eWzAtOVxcK117OCwxM30kLztcclxuXHJcbiAgICBpZiAodmFsaWROdW0udGVzdCh0ZWxOdW0udmFsdWUpKSB7XHJcbiAgICAgIGNsZWFyRXJyb3IoZXJyb3JNc2dUZWwpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2hvd0Vycm9yKGVycm9yTXNnVGVsLCBcIndwaXN6IHBvcHJhd255IG5yIHRlbC5cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2hlY2tNYWlsID0gKGVtYWlsKSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZE1haWwgPSAvXltcXHctXFwuXStAKFtcXHctXStcXC4pK1tcXHctXXsyLDR9JC87XHJcblxyXG4gICAgaWYgKHZhbGlkTWFpbC50ZXN0KGVtYWlsLnZhbHVlKSkge1xyXG4gICAgICBjbGVhckVycm9yKGVycm9yTXNnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dFcnJvcihlcnJvck1zZywgXCJ3cGlzeiBwb3ByYXdueSBhZHJlcyBlbWFpbC5cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuICBjb25zdCBjbGVhckVycm9yID0gKGVsKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtQm94ID0gZWw7XHJcbiAgICBmb3JtQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvci1kaXNwbGF5XCIpO1xyXG4gICAgZm9ybUJveC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2hvd0Vycm9yID0gKGlucHV0LCBtc2cpID0+IHtcclxuICAgIGNvbnN0IGZvcm1Cb3ggPSBpbnB1dDtcclxuICAgIGZvcm1Cb3guY2xhc3NMaXN0LmFkZChcImVycm9yLWRpc3BsYXlcIik7XHJcbiAgICBmb3JtQm94LnRleHRDb250ZW50ID0gbXNnO1xyXG4gIH07XHJcblxyXG4gIC8vIGV2ZW50IGxpc3RlbmVyc1xyXG4gIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNoZWNrTWFpbChlbWFpbCk7XHJcbiAgICBjaGVja1RlbE51bSh0ZWxOdW0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tIEdBTExFUlkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgY29uc3QgY2Fyb3VzZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcm91c2VsXCIpO1xyXG4gIGNvbnN0IHdvcmtCdG5PbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1vbmVcIik7XHJcbiAgY29uc3Qgd29ya0J0blR3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLXR3b1wiKTtcclxuICBjb25zdCB3b3JrQnRuVGhyZWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi10aHJlZVwiKTtcclxuICBjb25zdCB3b3JrQnRuRm91ciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLWZvdXJcIik7XHJcbiAgY29uc3QgaGFpcmN1dEdhbGxlcnlUaHVtYm5haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRodW1ibmFpbC1pbWdcIik7XHJcbiAgY29uc3QgY29sb3JHYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5LWNvbG9yXCIpO1xyXG4gIGNvbnN0IGJhcmJlckdhbGxlcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnktYmFyYmVyXCIpO1xyXG4gIGNvbnN0IHN0eWxlR2FsbGVyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeS1zdHlsZVwiKTtcclxuICBjb25zdCBpbWFnZXMgPSBjYXJvdXNlbC5xdWVyeVNlbGVjdG9yQWxsKFwiLmltZ1wiKTtcclxuICBjb25zdCBhcnJvd0ljb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hcnJvd1wiKTtcclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlQXJyb3dBY3Rpb24oaWNvbikge1xyXG4gICAgaWYgKGljb24uY2xhc3NMaXN0LmNvbnRhaW5zKFwibGVmdC1idG5cIikpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJsZWZ0XCIpO1xyXG4gICAgfSBlbHNlIGlmIChpY29uLmNsYXNzTGlzdC5jb250YWlucyhcInJpZ2h0LWJ0blwiKSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInJpZ2h0XCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgY3JlYXRlSW1hZ2UgPSAodGh1bWJuYWlsLCBpbmRleCkgPT4ge1xyXG4gICAgY29uc3QgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgIGltZy5zcmMgPSB0aHVtYm5haWwuc3JjO1xyXG4gICAgaW1nLmlkID0gaW5kZXg7XHJcbiAgICBpbWcuY2xhc3NMaXN0LmFkZChcImltZ1wiKTtcclxuICAgIGNhcm91c2VsLmFwcGVuZENoaWxkKGltZyk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgaW1nLmNsYXNzTGlzdC5hZGQoXCJzaG93LWltYWdlXCIpO1xyXG4gICAgfSwgMSk7XHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlRGlzcGxheUltYWdlKHRodW1ibmFpbCwgaW5kZXgpIHtcclxuICAgIGlmIChjYXJvdXNlbC5jaGlsZEVsZW1lbnRDb3VudCA9PT0gMCkge1xyXG4gICAgICBjcmVhdGVJbWFnZSh0aHVtYm5haWwsIGluZGV4KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRodW1ibmFpbC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1pbWFnZVwiKTtcclxuICAgICAgY2Fyb3VzZWwucmVtb3ZlQ2hpbGQoY2Fyb3VzZWwuZmlyc3RFbGVtZW50Q2hpbGQpO1xyXG4gICAgICBjcmVhdGVJbWFnZSh0aHVtYm5haWwsIGluZGV4KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZUFjdGl2YXRlVGh1bWJuYWlsKGN1cnJlbnRJbmRleCkge1xyXG4gICAgaGFpcmN1dEdhbGxlcnlUaHVtYm5haWwuZm9yRWFjaCgodGh1bWJuYWlsLCBpbmRleCkgPT5cclxuICAgICAgY3VycmVudEluZGV4ID09PSBpbmRleFxyXG4gICAgICAgID8gdGh1bWJuYWlsLmNsYXNzTGlzdC5yZW1vdmUoXCJ0aHVtYm5haWwtZGlzYWJsZWRcIilcclxuICAgICAgICA6IHRodW1ibmFpbC5jbGFzc0xpc3QuYWRkKFwidGh1bWJuYWlsLWRpc2FibGVkXCIpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gZXZlbnQgbGlzdGVuZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgYXJyb3dJY29ucy5mb3JFYWNoKChpY29uKSA9PiB7XHJcbiAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBoYW5kbGVBcnJvd0FjdGlvbihpY29uKSk7XHJcbiAgfSk7XHJcblxyXG4gIGhhaXJjdXRHYWxsZXJ5VGh1bWJuYWlsLmZvckVhY2goKHRodW1ibmFpbCwgaW5kZXgpID0+XHJcbiAgICB0aHVtYm5haWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgaGFuZGxlRGlzcGxheUltYWdlKHRodW1ibmFpbCwgaW5kZXgpO1xyXG4gICAgICBoYW5kbGVBY3RpdmF0ZVRodW1ibmFpbChpbmRleCk7XHJcbiAgICB9KVxyXG4gICk7XHJcblxyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgaWYgKFxyXG4gICAgICAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZ2FsbGVyeVwiKSAmJiBib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImRpc2FibGUtc2Nyb2xsXCIpKSB8fFxyXG4gICAgICBib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImNhcm91c2VsXCIpXHJcbiAgICApIHtcclxuICAgICAgaGFpcmN1dEdhbGxlcnkuY2xhc3NMaXN0LnJlbW92ZShcImRpc3BsYXktZ2FsbGVyeVwiKTtcclxuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcbiAgICAgIG5hdkRlc2t0b3AuY2xhc3NMaXN0LnJlbW92ZShcIm5hdi10cmFuc2l0aW9uXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB3b3JrQnRuT25lLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICB7XHJcbiAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICBoYWlyY3V0R2FsbGVyeS5jbGFzc0xpc3QuYWRkKFwiZGlzcGxheS1nYWxsZXJ5XCIpO1xyXG4gICAgICBuYXZEZXNrdG9wLmNsYXNzTGlzdC5hZGQoXCJuYXYtdHJhbnNpdGlvblwiKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tZmFkZUlOIGFuaW0gLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5jb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcykgPT4ge1xyXG4gIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuY29uc3QgaGlkZGVuRWxlbWVudHNMZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oaWRkZW5cIik7XHJcbmNvbnN0IGhpZGRlbkVsZW1lbnRzUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhpZGRlbi1yaWdodFwiKTtcclxuY29uc3QgaGlkZGVuVmFuaXNoZWRFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGlkZGVuLXZhbmlzaGVkXCIpO1xyXG5oaWRkZW5FbGVtZW50c0xlZnQuZm9yRWFjaCgoZWwpID0+IG9ic2VydmVyLm9ic2VydmUoZWwpKTtcclxuaGlkZGVuRWxlbWVudHNSaWdodC5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xyXG5oaWRkZW5WYW5pc2hlZEVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiBvYnNlcnZlci5vYnNlcnZlKGVsKSk7XHJcbiJdfQ==
