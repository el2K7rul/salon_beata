window.onload=function(){function t(e){e.classList.remove("error-display"),e.textContent=""}function o(e,t){e.classList.add("error-display"),e.textContent=t}var r=document.querySelector(".burger"),n=document.querySelectorAll(".burger__bars"),s=document.querySelector(".body"),c=document.querySelector(".nav"),i=document.querySelector(".nav-desktop"),e=document.querySelectorAll(".nav-mobile__link"),a=document.querySelector(".arrowup"),d=document.querySelector(".footer__bottom--date"),u=document.querySelectorAll(".section"),m=document.querySelector(".error-msg"),f=document.querySelector(".error-msg-tel"),v=document.querySelector(".email"),h=document.querySelector(".telNum"),L=document.querySelector(".submit"),y=(new Date).getFullYear(),L=(window.addEventListener("scroll",function(){var t=window.scrollY;u.forEach(function(e){!e.classList.contains("white-section")&&e.offsetTop<=t+30?n.forEach(function(e){return e.classList.add("white-burger")}):e.classList.contains("white-section")&&e.offsetTop<=t+30&&n.forEach(function(e){return e.classList.remove("white-burger")})}),480<window.scrollY?a.classList.add("active"):a.classList.remove("active")}),r.addEventListener("click",function(){c.classList.toggle("active"),r.classList.toggle("active"),s.classList.toggle("disable-scroll"),e.forEach(function(e){e.addEventListener("click",function(){c.classList.remove("active"),r.classList.remove("active"),s.classList.remove("disable-scroll")})})}),L.addEventListener("click",function(e){e.preventDefault(),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(v.value)?t(m):o(m,"wpisz poprawny adres email."),/^[0-9\+]{8,13}$/.test(h.value)?t(f):o(f,"wpisz poprawny nr tel.")}),d.textContent=y.toString(),document.querySelector(".carousel")),d=document.querySelector(".btn-one"),b=(document.querySelector(".btn-two"),document.querySelector(".btn-three"),document.querySelector(".btn-four"),document.querySelector(".gallery")),g=L.querySelectorAll(".img"),y=document.querySelectorAll(".arrow"),w=document.querySelector(".carousel-thumbnails"),S=document.querySelectorAll(".thumbnail-img"),q=0;function E(e){var t;"left"===e.id&&0<q?q--:"left"===e.id&&0===q?(q=S.length-1,q--):"right"===e.id&&q<S.length-1?q++:q=0,t=q,l=2,"left"===(e=e).id===l?w.scroll({top:0,left:-78.75,behavior:"smooth"}):(e.id,t===l&&w.scroll({top:0,left:78.75,behavior:"smooth"})),p(q),console.log("index post: ".concat(q))}function p(r){g.forEach(function(e,t){var o;r===t?(e.classList.add("show-image"),o=t,S.forEach(function(e,t){return o===t?e.classList.remove("thumbnail-disabled"):e.classList.add("thumbnail-disabled")})):e.classList.remove("show-image")})}S.forEach(function(e,t){return e.addEventListener("click",function(){return(q=t)&&p(q)})}),y.forEach(function(e){e.addEventListener("click",function(){return E(e)})}),document.addEventListener("click",function(e){(e.target.classList.contains("gallery")&&s.classList.contains("disable-scroll")||s.classList.contains("carousel"))&&(b.classList.remove("display-gallery"),s.classList.remove("disable-scroll"),i.classList.remove("nav-transition"))}),d.addEventListener("click",function(){s.classList.add("disable-scroll"),b.classList.add("display-gallery"),i.classList.add("nav-transition")})};var observer=new IntersectionObserver(function(e){e.forEach(function(e){console.log(e),e.isIntersecting?e.target.classList.add("show"):e.target.classList.remove("show")})}),hiddenElementsLeft=document.querySelectorAll(".hidden"),hiddenElementsRight=document.querySelectorAll(".hidden-right"),hiddenVanishedElements=document.querySelectorAll(".hidden-vanished");hiddenElementsLeft.forEach(function(e){return observer.observe(e)}),hiddenElementsRight.forEach(function(e){return observer.observe(e)}),hiddenVanishedElements.forEach(function(e){return observer.observe(e)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwiY2xlYXJFcnJvciIsImVsIiwiZm9ybUJveCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJidXJnZXIiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0IiwibXNnIiwiY2hlY2tUZWxOdW0iLCJhZGQiLCJ0ZXh0Q29udGVudCIsImhhbmRsZUZvb3RlclllYXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhbGxCdXJnZXJCYXJzIiwicXVlcnlTZWxlY3RvckFsbCIsImJvZHkiLCJuYXZNb2JpbGUiLCJuYXZEZXNrdG9wIiwiYWxsTmF2TGlua3MiLCJhcnJvd1VwIiwiZm9vdGVyRGF0ZSIsImFsbFNlY3Rpb25zIiwiZXJyb3JNc2ciLCJlcnJvck1zZ1RlbCIsInRlbE51bSIsImN1cnJlbnREYXRlIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwiY2Fyb3VzZWwiLCJjdXJyZW50U2VjdGlvbiIsImNvbnRhaW5zIiwiZm9yRWFjaCIsInNlY3Rpb24iLCJiYXIiLCJoYW5kbGVBcnJvd1VwIiwic2Nyb2xsWSIsInRvZ2dsZSIsImxpbmsiLCJzdWJtaXRCdG4iLCJ3b3JrQnRuT25lIiwiZSIsIndvcmtCdG5Ud28iLCJ3b3JrQnRuVGhyZWUiLCJ2YWx1ZSIsInNob3dFcnJvciIsInRlc3QiLCJ3b3JrQnRuRm91ciIsImN1cnJlbnRZZWFyIiwiaGFuZGxlQXJyb3dBY3Rpb24iLCJpbmRleCIsInRodW1ibmFpbEltYWdlcyIsImFycm93SWNvbnMiLCJpZCIsImhhbmRsZURpc3BsYXlJbWFnZSIsImljb24iLCJoYW5kbGVTd2lwZVRodW1ibmFpbHMiLCJsZW5ndGgiLCJ0aHVtYm5haWxzQ2Fyb3VzZWwiLCJsZWZ0IiwibCIsImN1cnJlbnRJbmRleCIsInRvcCIsImltYWdlIiwiYmVoYXZpb3IiLCJoYW5kbGVBY3RpdmF0ZVRodW1ibmFpbCIsImNvbnNvbGUiLCJpbWFnZXMiLCJ0aHVtYm5haWwiLCJ0aHVtYm5haWxJbmRleCIsImdhbGxlcnkiLCJvYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsImhpZGRlbkVsZW1lbnRzUmlnaHQiLCJoaWRkZW5FbGVtZW50c0xlZnQiLCJvYnNlcnZlIiwiZW50cmllcyIsImxvZyIsInRhcmdldCIsImhpZGRlblZhbmlzaGVkRWxlbWVudHMiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFPQyxPQUFTLFdBbUdiLFNBQUFDLEVBQUFDLEdBRURDLEVBQUFDLFVBQUFDLE9BQUEsZUFBQSxFQUNBTixFQUFPTyxZQUFpQixFQUN4QkMsQ0FFa0IsU0FBZEMsRUFBZUMsRUFBQ0MsR0FFbEJDLEVBQUFBLFVBQWtCQyxJQUFDLGVBQUEsRUFDbkJULEVBQUFVLFlBQUFILENBRUZJLENBOUdGZixJQUFPQyxFQUFTZSxTQUFBQyxjQUFZLFNBQUEsRUFDMUJDLEVBQUFGLFNBQUFHLGlCQUFBLGVBQUEsRUFDTVgsRUFBU1EsU0FBU0MsY0FBYyxPQUFBLEVBQ2hDQyxFQUFhRixTQUFHQSxjQUFTRyxNQUFpQixFQUMxQ0MsRUFBZUosU0FBQ0MsY0FBc0IsY0FBQSxFQUN0Q0ksRUFBWUwsU0FBU0MsaUJBQXFCLG1CQUFBLEVBQzFDSyxFQUFVTixTQUFXQyxjQUFjLFVBQUMsRUFDcENNLEVBQWNQLFNBQVNHLGNBQUFBLHVCQUFxQyxFQUM1REssRUFBVVIsU0FBU0MsaUJBQWMsVUFBVyxFQUM1Q1EsRUFBYVQsU0FBU0MsY0FBYyxZQUFBLEVBQ3BDUyxFQUFjVixTQUFTRyxjQUFnQixnQkFBWSxFQUNuRFEsRUFBUVgsU0FBV0MsY0FBYyxRQUFDLEVBQ2xDVyxFQUFXWixTQUFHQSxjQUFTQyxTQUFjLEVBRXJDWSxFQUFTYixTQUFTQyxjQUFjLFNBQVUsRUFLMUNhLEdBRE4sSUFBQUMsTUFDOEJDLFlBQUEsRUE0RzlCQyxHQXpCQWpDLE9BQU9PLGlCQUFpQixTQWhERixXQUZwQixJQUlJMkIsRUFBUzdCLE9BQVU4QixRQUZ2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eUMsR0FDZlAsUUFBUWEsSUFBSU4sQ0FBSyxFQUNiQSxFQUFNQyxlQUNSRCxFQUFNTyxPQUFPL0UsVUFBVVEsSUFBSSxNQUFNLEVBRWpDZ0UsRUFBTU8sT0FBTy9FLFVBQVVDLE9BQU8sTUFBTSxDQUV4QyxDQUFDLENBQ0gsQ0FBQyxFQUVLMEUsbUJBQXFCaEUsU0FBU0csaUJBQWlCLFNBQVMsRUFDeEQ0RCxvQkFBc0IvRCxTQUFTRyxpQkFBaUIsZUFBZSxFQUMvRGtFLHVCQUF5QnJFLFNBQVNHLGlCQUFpQixrQkFBa0IsRUFDM0U2RCxtQkFBbUI1QyxRQUFRLFNBQUNqQyxHQUFFLE9BQUt3RSxTQUFTTSxRQUFROUUsQ0FBRSxDQUFDLENBQUEsRUFDdkQ0RSxvQkFBb0IzQyxRQUFRLFNBQUNqQyxHQUFFLE9BQUt3RSxTQUFTTSxRQUFROUUsQ0FBRSxDQUFDLENBQUEsRUFDeERrRix1QkFBdUJqRCxRQUFRLFNBQUNqQyxHQUFFLE9BQUt3RSxTQUFTTSxRQUFROUUsQ0FBRSxDQUFDLENBQUEiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gIC8vc2VsZWN0b3JzXHJcbiAgY29uc3QgYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJcIik7XHJcbiAgY29uc3QgYWxsQnVyZ2VyQmFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyX19iYXJzXCIpO1xyXG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJvZHlcIik7XHJcbiAgY29uc3QgbmF2TW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZcIik7XHJcbiAgY29uc3QgbmF2RGVza3RvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2LWRlc2t0b3BcIik7XHJcbiAgY29uc3QgYWxsTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdi1tb2JpbGVfX2xpbmtcIik7XHJcbiAgY29uc3QgYXJyb3dVcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyb3d1cFwiKTtcclxuICBjb25zdCBmb290ZXJEYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb290ZXJfX2JvdHRvbS0tZGF0ZVwiKTtcclxuICBjb25zdCBhbGxTZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2VjdGlvblwiKTtcclxuICBjb25zdCBlcnJvck1zZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3ItbXNnXCIpO1xyXG4gIGNvbnN0IGVycm9yTXNnVGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvci1tc2ctdGVsXCIpO1xyXG4gIGNvbnN0IGVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbWFpbFwiKTtcclxuICBjb25zdCB0ZWxOdW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRlbE51bVwiKTtcclxuXHJcbiAgY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXRcIik7XHJcblxyXG4gIC8vdmFyaWFibGVzXHJcbiAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IGN1cnJlbnRZZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKTtcclxuXHJcbiAgLy9mdW5jdGlvbnNcclxuXHJcbiAgY29uc3QgaGFuZGxlRm9vdGVyWWVhciA9ICgpID0+IHtcclxuICAgIGZvb3RlckRhdGUudGV4dENvbnRlbnQgPSBjdXJyZW50WWVhci50b1N0cmluZygpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZU5hdiA9ICgpID0+IHtcclxuICAgIG5hdk1vYmlsZS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgYnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICBib2R5LmNsYXNzTGlzdC50b2dnbGUoXCJkaXNhYmxlLXNjcm9sbFwiKTtcclxuXHJcbiAgICBhbGxOYXZMaW5rcy5mb3JFYWNoKChsaW5rKSA9PiB7XHJcbiAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBuYXZNb2JpbGUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICBidXJnZXIuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlLXNjcm9sbFwiKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIGNvbnN0IGhhbmRsZUFycm93VXAgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50U2VjdGlvbiA9IHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgaWYgKGN1cnJlbnRTZWN0aW9uID4gNDgwKSB7XHJcbiAgICAgIGFycm93VXAuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFycm93VXAuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKHdpbmRvdy5zY3JvbGxZKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVPYnNlcnZlciA9ICgpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRTZWN0aW9uID0gd2luZG93LnNjcm9sbFk7XHJcblxyXG4gICAgYWxsU2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgIXNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKFwid2hpdGUtc2VjdGlvblwiKSAmJlxyXG4gICAgICAgIHNlY3Rpb24ub2Zmc2V0VG9wIDw9IGN1cnJlbnRTZWN0aW9uICsgMzBcclxuICAgICAgKSB7XHJcbiAgICAgICAgYWxsQnVyZ2VyQmFycy5mb3JFYWNoKChiYXIpID0+IGJhci5jbGFzc0xpc3QuYWRkKFwid2hpdGUtYnVyZ2VyXCIpKTtcclxuICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucyhcIndoaXRlLXNlY3Rpb25cIikgJiZcclxuICAgICAgICBzZWN0aW9uLm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIDMwXHJcbiAgICAgICkge1xyXG4gICAgICAgIGFsbEJ1cmdlckJhcnMuZm9yRWFjaCgoYmFyKSA9PiBiYXIuY2xhc3NMaXN0LnJlbW92ZShcIndoaXRlLWJ1cmdlclwiKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaGFuZGxlQXJyb3dVcCgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNoZWNrVGVsTnVtID0gKHRlbE51bSkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWROdW0gPSAvXlswLTlcXCtdezgsMTN9JC87XHJcblxyXG4gICAgaWYgKHZhbGlkTnVtLnRlc3QodGVsTnVtLnZhbHVlKSkge1xyXG4gICAgICBjbGVhckVycm9yKGVycm9yTXNnVGVsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dFcnJvcihlcnJvck1zZ1RlbCwgXCJ3cGlzeiBwb3ByYXdueSBuciB0ZWwuXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNoZWNrTWFpbCA9IChlbWFpbCkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWRNYWlsID0gL15bXFx3LVxcLl0rQChbXFx3LV0rXFwuKStbXFx3LV17Miw0fSQvO1xyXG5cclxuICAgIGlmICh2YWxpZE1haWwudGVzdChlbWFpbC52YWx1ZSkpIHtcclxuICAgICAgY2xlYXJFcnJvcihlcnJvck1zZyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzaG93RXJyb3IoZXJyb3JNc2csIFwid3Bpc3ogcG9wcmF3bnkgYWRyZXMgZW1haWwuXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgY2xlYXJFcnJvciA9IChlbCkgPT4ge1xyXG4gICAgY29uc3QgZm9ybUJveCA9IGVsO1xyXG4gICAgZm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3ItZGlzcGxheVwiKTtcclxuICAgIGZvcm1Cb3gudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtQm94ID0gaW5wdXQ7XHJcbiAgICBmb3JtQm94LmNsYXNzTGlzdC5hZGQoXCJlcnJvci1kaXNwbGF5XCIpO1xyXG4gICAgZm9ybUJveC50ZXh0Q29udGVudCA9IG1zZztcclxuICB9O1xyXG5cclxuICAvLyBldmVudCBsaXN0ZW5lcnNcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVPYnNlcnZlcik7XHJcbiAgYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVOYXYpO1xyXG4gIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNoZWNrTWFpbChlbWFpbCk7XHJcbiAgICBjaGVja1RlbE51bSh0ZWxOdW0pO1xyXG4gIH0pO1xyXG5cclxuICBoYW5kbGVGb290ZXJZZWFyKCk7XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0gR0FMTEVSWSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICBjb25zdCBjYXJvdXNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2Fyb3VzZWxcIik7XHJcbiAgY29uc3Qgd29ya0J0bk9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLW9uZVwiKTtcclxuICBjb25zdCB3b3JrQnRuVHdvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tdHdvXCIpO1xyXG4gIGNvbnN0IHdvcmtCdG5UaHJlZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLXRocmVlXCIpO1xyXG4gIGNvbnN0IHdvcmtCdG5Gb3VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tZm91clwiKTtcclxuICBjb25zdCBnYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5XCIpO1xyXG4gIGNvbnN0IGltYWdlcyA9IGNhcm91c2VsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaW1nXCIpO1xyXG4gIGNvbnN0IGFycm93SWNvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFycm93XCIpO1xyXG4gIGNvbnN0IHRodW1ibmFpbHNDYXJvdXNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2Fyb3VzZWwtdGh1bWJuYWlsc1wiKTtcclxuICBjb25zdCB0aHVtYm5haWxJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRodW1ibmFpbC1pbWdcIik7XHJcblxyXG4gIGxldCBpbmRleCA9IDA7XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZUFycm93QWN0aW9uKGljb24pIHtcclxuICAgIC8vIGhhbmRsZVN3aXBlVGh1bWJuYWlscyhpY29uLCBpbmRleCk7XHJcbiAgICBpZiAoaWNvbi5pZCA9PT0gXCJsZWZ0XCIgJiYgaW5kZXggPiAwKSB7XHJcbiAgICAgIGluZGV4LS07XHJcbiAgICB9IGVsc2UgaWYgKGljb24uaWQgPT09IFwibGVmdFwiICYmIGluZGV4ID09PSAwKSB7XHJcbiAgICAgIGluZGV4ID0gdGh1bWJuYWlsSW1hZ2VzLmxlbmd0aCAtIDE7XHJcbiAgICAgIGluZGV4LS07XHJcbiAgICB9IGVsc2UgaWYgKGljb24uaWQgPT09IFwicmlnaHRcIiAmJiBpbmRleCA8IHRodW1ibmFpbEltYWdlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgIGluZGV4Kys7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpbmRleCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU3dpcGVUaHVtYm5haWxzKGljb24sIGluZGV4KTtcclxuICAgIGhhbmRsZURpc3BsYXlJbWFnZShpbmRleCk7XHJcbiAgICBjb25zb2xlLmxvZyhgaW5kZXggcG9zdDogJHtpbmRleH1gKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZVN3aXBlVGh1bWJuYWlscyhpY29uLCBpbmRleCkge1xyXG4gICAgbCA9IDI7XHJcblxyXG4gICAgaWYgKChpY29uLmlkID09PSBcImxlZnRcIikgPT09IGwpIHtcclxuICAgICAgdGh1bWJuYWlsc0Nhcm91c2VsLnNjcm9sbCh7XHJcbiAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgIGxlZnQ6IC03OC43NSxcclxuICAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2UgaWYgKChpY29uLmlkID09PSBcInJpZ2h0XCIsIGluZGV4ID09PSBsKSkge1xyXG4gICAgICB0aHVtYm5haWxzQ2Fyb3VzZWwuc2Nyb2xsKHtcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgbGVmdDogNzguNzUsXHJcbiAgICAgICAgYmVoYXZpb3I6IFwic21vb3RoXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlRGlzcGxheUltYWdlKGN1cnJlbnRJbmRleCkge1xyXG4gICAgaW1hZ2VzLmZvckVhY2goKGltYWdlLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoY3VycmVudEluZGV4ID09PSBpbmRleCkge1xyXG4gICAgICAgIGltYWdlLmNsYXNzTGlzdC5hZGQoXCJzaG93LWltYWdlXCIpLCBoYW5kbGVBY3RpdmF0ZVRodW1ibmFpbChpbmRleCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LnJlbW92ZShcInNob3ctaW1hZ2VcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlQWN0aXZhdGVUaHVtYm5haWwoY3VycmVudEluZGV4KSB7XHJcbiAgICB0aHVtYm5haWxJbWFnZXMuZm9yRWFjaCgodGh1bWJuYWlsLCBpbmRleCkgPT5cclxuICAgICAgY3VycmVudEluZGV4ID09PSBpbmRleFxyXG4gICAgICAgID8gdGh1bWJuYWlsLmNsYXNzTGlzdC5yZW1vdmUoXCJ0aHVtYm5haWwtZGlzYWJsZWRcIilcclxuICAgICAgICA6IHRodW1ibmFpbC5jbGFzc0xpc3QuYWRkKFwidGh1bWJuYWlsLWRpc2FibGVkXCIpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gZXZlbnQgbGlzdGVuZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgdGh1bWJuYWlsSW1hZ2VzLmZvckVhY2goKHRodW1ibmFpbCwgdGh1bWJuYWlsSW5kZXgpID0+XHJcbiAgICB0aHVtYm5haWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IChpbmRleCA9IHRodW1ibmFpbEluZGV4KSAmJiBoYW5kbGVEaXNwbGF5SW1hZ2UoaW5kZXgpKVxyXG4gICk7XHJcblxyXG4gIGFycm93SWNvbnMuZm9yRWFjaCgoaWNvbikgPT4ge1xyXG4gICAgaWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gaGFuZGxlQXJyb3dBY3Rpb24oaWNvbikpO1xyXG4gIH0pO1xyXG5cclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGlmIChcclxuICAgICAgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImdhbGxlcnlcIikgJiYgYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJkaXNhYmxlLXNjcm9sbFwiKSkgfHxcclxuICAgICAgYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJvdXNlbFwiKVxyXG4gICAgKSB7XHJcbiAgICAgIGdhbGxlcnkuY2xhc3NMaXN0LnJlbW92ZShcImRpc3BsYXktZ2FsbGVyeVwiKTtcclxuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcbiAgICAgIG5hdkRlc2t0b3AuY2xhc3NMaXN0LnJlbW92ZShcIm5hdi10cmFuc2l0aW9uXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB3b3JrQnRuT25lLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICB7XHJcbiAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICBnYWxsZXJ5LmNsYXNzTGlzdC5hZGQoXCJkaXNwbGF5LWdhbGxlcnlcIik7XHJcbiAgICAgIG5hdkRlc2t0b3AuY2xhc3NMaXN0LmFkZChcIm5hdi10cmFuc2l0aW9uXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1mYWRlSU4gYW5pbSAtLS0tLS0tLS0tLS0tLS1cclxuXHJcbmNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzKSA9PiB7XHJcbiAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZW50cnkpO1xyXG4gICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XHJcbiAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcblxyXG5jb25zdCBoaWRkZW5FbGVtZW50c0xlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhpZGRlblwiKTtcclxuY29uc3QgaGlkZGVuRWxlbWVudHNSaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGlkZGVuLXJpZ2h0XCIpO1xyXG5jb25zdCBoaWRkZW5WYW5pc2hlZEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oaWRkZW4tdmFuaXNoZWRcIik7XHJcbmhpZGRlbkVsZW1lbnRzTGVmdC5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xyXG5oaWRkZW5FbGVtZW50c1JpZ2h0LmZvckVhY2goKGVsKSA9PiBvYnNlcnZlci5vYnNlcnZlKGVsKSk7XHJcbmhpZGRlblZhbmlzaGVkRWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IG9ic2VydmVyLm9ic2VydmUoZWwpKTtcclxuIl19
