window.onload=function(){function t(e){e.classList.remove("error-display"),e.textContent=""}function o(e,t){e.classList.add("error-display"),e.textContent=t}var r=document.querySelector(".burger"),c=document.querySelectorAll(".burger__bars"),s=document.querySelector(".body"),l=document.querySelector(".nav"),n=document.querySelector(".nav-desktop"),e=document.querySelectorAll(".nav-mobile__link"),i=document.querySelector(".arrowup"),a=document.querySelector(".footer__bottom--date"),u=document.querySelectorAll(".section"),d=document.querySelector(".error-msg"),m=document.querySelector(".error-msg-tel"),f=document.querySelector(".email"),v=document.querySelector(".telNum"),y=document.querySelector(".submit"),L=(new Date).getFullYear(),y=(window.addEventListener("scroll",function(){var t=window.scrollY;u.forEach(function(e){!e.classList.contains("white-section")&&e.offsetTop<=t+30?c.forEach(function(e){return e.classList.add("white-burger")}):e.classList.contains("white-section")&&e.offsetTop<=t+30&&c.forEach(function(e){return e.classList.remove("white-burger")})}),480<window.scrollY?i.classList.add("active"):i.classList.remove("active")}),r.addEventListener("click",function(){l.classList.toggle("active"),r.classList.toggle("active"),s.classList.toggle("disable-scroll"),e.forEach(function(e){e.addEventListener("click",function(){l.classList.remove("active"),r.classList.remove("active"),s.classList.remove("disable-scroll")})})}),y.addEventListener("click",function(e){e.preventDefault(),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(f.value)?t(d):o(d,"wpisz poprawny adres email."),/^[0-9\+]{8,13}$/.test(v.value)?t(m):o(m,"wpisz poprawny nr tel.")}),a.textContent=L.toString(),document.querySelector(".carousel")),a=document.querySelector(".btn-one"),g=(document.querySelector(".btn-two"),document.querySelector(".btn-three"),document.querySelector(".btn-four"),document.querySelector(".gallery")),b=y.querySelectorAll(".img"),L=document.querySelectorAll(".arrow"),h=document.querySelector(".carousel-thumbnails"),w=document.querySelectorAll(".thumbnail-img"),S=2;function q(e){var t;"left"===(t=e).id?h.scroll({top:0,left:-78.75,behavior:"smooth"}):"right"===t.id&&h.scroll({top:0,left:78.75,behavior:"smooth"}),"left"===e.id&&0<S?S--:"left"===e.id&&0===S?(S=9,S--):"right"===e.id&&S<8?S++:S=0,p(S),console.log(S),console.log(e.id)}function p(r){b.forEach(function(e,t){var o;r===t?(e.classList.add("show-image"),o=t,w.forEach(function(e,t){return o===t?e.classList.remove("thumbnail-disabled"):e.classList.add("thumbnail-disabled")})):e.classList.remove("show-image")})}w.forEach(function(e,t){return e.addEventListener("click",function(){return(S=t)&&p(S)})}),L.forEach(function(e){e.addEventListener("click",function(){return q(e)})}),document.addEventListener("click",function(e){(e.target.classList.contains("gallery")&&s.classList.contains("disable-scroll")||s.classList.contains("carousel"))&&(g.classList.remove("display-gallery"),s.classList.remove("disable-scroll"),n.classList.remove("nav-transition"))}),a.addEventListener("click",function(){s.classList.add("disable-scroll"),g.classList.add("display-gallery"),n.classList.add("nav-transition")})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwiY2xlYXJFcnJvciIsImVsIiwiZm9ybUJveCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJidXJnZXIiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0IiwibXNnIiwiY2hlY2tUZWxOdW0iLCJhZGQiLCJ0ZXh0Q29udGVudCIsImhhbmRsZUZvb3RlclllYXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhbGxCdXJnZXJCYXJzIiwicXVlcnlTZWxlY3RvckFsbCIsImJvZHkiLCJuYXZNb2JpbGUiLCJuYXZEZXNrdG9wIiwiYWxsTmF2TGlua3MiLCJhcnJvd1VwIiwiZm9vdGVyRGF0ZSIsImFsbFNlY3Rpb25zIiwiZXJyb3JNc2ciLCJlcnJvck1zZ1RlbCIsInRlbE51bSIsImN1cnJlbnREYXRlIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwiY2Fyb3VzZWwiLCJjdXJyZW50U2VjdGlvbiIsImNvbnRhaW5zIiwiZm9yRWFjaCIsInNlY3Rpb24iLCJiYXIiLCJoYW5kbGVBcnJvd1VwIiwic2Nyb2xsWSIsInRvZ2dsZSIsImxpbmsiLCJzdWJtaXRCdG4iLCJ3b3JrQnRuT25lIiwiZSIsIndvcmtCdG5Ud28iLCJ3b3JrQnRuVGhyZWUiLCJ2YWx1ZSIsInNob3dFcnJvciIsInRlc3QiLCJ3b3JrQnRuRm91ciIsImN1cnJlbnRZZWFyIiwiaGFuZGxlQXJyb3dBY3Rpb24iLCJoYW5kbGVTd2lwZVRodW1ibmFpbHMiLCJpbmRleCIsImFycm93SWNvbnMiLCJpZCIsInRodW1ibmFpbEltYWdlcyIsImljb24iLCJjdXJyZW50SW5kZXgiLCJ0aHVtYm5haWxzQ2Fyb3VzZWwiLCJzY3JvbGwiLCJpbWFnZSIsInRvcCIsImJlaGF2aW9yIiwiaGFuZGxlQWN0aXZhdGVUaHVtYm5haWwiLCJsZWZ0IiwiaGFuZGxlRGlzcGxheUltYWdlIiwiY29uc29sZSIsImxvZyIsInRodW1ibmFp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QUN4RCxVQUFBQSxPQUFpQixZQUFTLENBQTZCLENBQUEsQ0FDOUQsQ0FOQW1ELEVBdUJlckQsUUFBUyxTQUFDUSxFQUFJNEQsR0FBaUIsT0FDNUNGLEVBQUFoRSxpQkFBQSxRQUFBLFdBQUEsT0FBQWdELEVBQUFrQixJQUFBTCxFQUFBYixDQUFBLENBQUEsQ0FBQSxDQUFBLENBQ0YsRUFyQkFDLEVBQVdwQixRQUFRLFNBQUN1QixHQUNsQkEsRUFBS3BELGlCQUFpQixRQUFTLFdBQUEsT0FBTThDLEVBQWtCTSxDQUFJLENBQUMsQ0FBQSxDQUM5RCxDQUFDLEVBRUQzQyxTQUFTVCxpQkFBaUIsUUFBUyxTQUFDc0MsSUFFL0JBLEVBQUU2QixPQUFPckUsVUFBVThCLFNBQVMsU0FBUyxHQUFLZixFQUFLZixVQUFVOEIsU0FBUyxnQkFBZ0IsR0FDbkZmLEVBQUtmLFVBQVU4QixTQUFTLFVBQVUsS0FFbEN3QyxFQUFRdEUsVUFBVUMsT0FBTyxpQkFBaUIsRUFDMUNjLEVBQUtmLFVBQVVDLE9BQU8sZ0JBQWdCLEVBQ3RDZ0IsRUFBV2pCLFVBQVVDLE9BQU8sZ0JBQWdCLEVBRWhELENBQUMsRUFFRHNDLEVBQVdyQyxpQkFBaUIsUUFBUyxXQUVqQ2EsRUFBS2YsVUFBVVEsSUFBSSxnQkFBZ0IsRUFDbkM4RCxFQUFRdEUsVUFBVVEsSUFBSSxpQkFBaUIsRUFDdkNTLEVBQVdqQixVQUFVUSxJQUFJLGdCQUFnQixDQUU3QyxDQUFDLENBQ0giLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gIC8vc2VsZWN0b3JzXHJcbiAgY29uc3QgYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJcIik7XHJcbiAgY29uc3QgYWxsQnVyZ2VyQmFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyX19iYXJzXCIpO1xyXG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJvZHlcIik7XHJcbiAgY29uc3QgbmF2TW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZcIik7XHJcbiAgY29uc3QgbmF2RGVza3RvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2LWRlc2t0b3BcIik7XHJcbiAgY29uc3QgYWxsTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdi1tb2JpbGVfX2xpbmtcIik7XHJcbiAgY29uc3QgYXJyb3dVcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyb3d1cFwiKTtcclxuICBjb25zdCBmb290ZXJEYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb290ZXJfX2JvdHRvbS0tZGF0ZVwiKTtcclxuICBjb25zdCBhbGxTZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2VjdGlvblwiKTtcclxuICBjb25zdCBlcnJvck1zZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3ItbXNnXCIpO1xyXG4gIGNvbnN0IGVycm9yTXNnVGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvci1tc2ctdGVsXCIpO1xyXG4gIGNvbnN0IGVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbWFpbFwiKTtcclxuICBjb25zdCB0ZWxOdW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRlbE51bVwiKTtcclxuXHJcbiAgY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXRcIik7XHJcblxyXG4gIC8vdmFyaWFibGVzXHJcbiAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IGN1cnJlbnRZZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKTtcclxuXHJcbiAgLy9mdW5jdGlvbnNcclxuXHJcbiAgY29uc3QgaGFuZGxlRm9vdGVyWWVhciA9ICgpID0+IHtcclxuICAgIGZvb3RlckRhdGUudGV4dENvbnRlbnQgPSBjdXJyZW50WWVhci50b1N0cmluZygpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZU5hdiA9ICgpID0+IHtcclxuICAgIG5hdk1vYmlsZS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgYnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICBib2R5LmNsYXNzTGlzdC50b2dnbGUoXCJkaXNhYmxlLXNjcm9sbFwiKTtcclxuXHJcbiAgICBhbGxOYXZMaW5rcy5mb3JFYWNoKChsaW5rKSA9PiB7XHJcbiAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBuYXZNb2JpbGUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICBidXJnZXIuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlLXNjcm9sbFwiKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIGNvbnN0IGhhbmRsZUFycm93VXAgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50U2VjdGlvbiA9IHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgaWYgKGN1cnJlbnRTZWN0aW9uID4gNDgwKSB7XHJcbiAgICAgIGFycm93VXAuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFycm93VXAuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKHdpbmRvdy5zY3JvbGxZKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVPYnNlcnZlciA9ICgpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRTZWN0aW9uID0gd2luZG93LnNjcm9sbFk7XHJcblxyXG4gICAgYWxsU2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgIXNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKFwid2hpdGUtc2VjdGlvblwiKSAmJlxyXG4gICAgICAgIHNlY3Rpb24ub2Zmc2V0VG9wIDw9IGN1cnJlbnRTZWN0aW9uICsgMzBcclxuICAgICAgKSB7XHJcbiAgICAgICAgYWxsQnVyZ2VyQmFycy5mb3JFYWNoKChiYXIpID0+IGJhci5jbGFzc0xpc3QuYWRkKFwid2hpdGUtYnVyZ2VyXCIpKTtcclxuICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucyhcIndoaXRlLXNlY3Rpb25cIikgJiZcclxuICAgICAgICBzZWN0aW9uLm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIDMwXHJcbiAgICAgICkge1xyXG4gICAgICAgIGFsbEJ1cmdlckJhcnMuZm9yRWFjaCgoYmFyKSA9PiBiYXIuY2xhc3NMaXN0LnJlbW92ZShcIndoaXRlLWJ1cmdlclwiKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaGFuZGxlQXJyb3dVcCgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNoZWNrVGVsTnVtID0gKHRlbE51bSkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWROdW0gPSAvXlswLTlcXCtdezgsMTN9JC87XHJcblxyXG4gICAgaWYgKHZhbGlkTnVtLnRlc3QodGVsTnVtLnZhbHVlKSkge1xyXG4gICAgICBjbGVhckVycm9yKGVycm9yTXNnVGVsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dFcnJvcihlcnJvck1zZ1RlbCwgXCJ3cGlzeiBwb3ByYXdueSBuciB0ZWwuXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNoZWNrTWFpbCA9IChlbWFpbCkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWRNYWlsID0gL15bXFx3LVxcLl0rQChbXFx3LV0rXFwuKStbXFx3LV17Miw0fSQvO1xyXG5cclxuICAgIGlmICh2YWxpZE1haWwudGVzdChlbWFpbC52YWx1ZSkpIHtcclxuICAgICAgY2xlYXJFcnJvcihlcnJvck1zZyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzaG93RXJyb3IoZXJyb3JNc2csIFwid3Bpc3ogcG9wcmF3bnkgYWRyZXMgZW1haWwuXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgY2xlYXJFcnJvciA9IChlbCkgPT4ge1xyXG4gICAgY29uc3QgZm9ybUJveCA9IGVsO1xyXG4gICAgZm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3ItZGlzcGxheVwiKTtcclxuICAgIGZvcm1Cb3gudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtQm94ID0gaW5wdXQ7XHJcbiAgICBmb3JtQm94LmNsYXNzTGlzdC5hZGQoXCJlcnJvci1kaXNwbGF5XCIpO1xyXG4gICAgZm9ybUJveC50ZXh0Q29udGVudCA9IG1zZztcclxuICB9O1xyXG5cclxuICAvLyBldmVudCBsaXN0ZW5lcnNcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVPYnNlcnZlcik7XHJcbiAgYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVOYXYpO1xyXG4gIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNoZWNrTWFpbChlbWFpbCk7XHJcbiAgICBjaGVja1RlbE51bSh0ZWxOdW0pO1xyXG4gIH0pO1xyXG5cclxuICBoYW5kbGVGb290ZXJZZWFyKCk7XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0gR0FMTEVSWSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICBjb25zdCBjYXJvdXNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2Fyb3VzZWxcIik7XHJcbiAgY29uc3Qgd29ya0J0bk9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLW9uZVwiKTtcclxuICBjb25zdCB3b3JrQnRuVHdvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tdHdvXCIpO1xyXG4gIGNvbnN0IHdvcmtCdG5UaHJlZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLXRocmVlXCIpO1xyXG4gIGNvbnN0IHdvcmtCdG5Gb3VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tZm91clwiKTtcclxuICBjb25zdCBnYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5XCIpO1xyXG4gIGNvbnN0IGltYWdlcyA9IGNhcm91c2VsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaW1nXCIpO1xyXG4gIGNvbnN0IGFycm93SWNvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFycm93XCIpO1xyXG4gIGNvbnN0IHRodW1ibmFpbHNDYXJvdXNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2Fyb3VzZWwtdGh1bWJuYWlsc1wiKTtcclxuICBjb25zdCB0aHVtYm5haWxJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRodW1ibmFpbC1pbWdcIik7XHJcblxyXG4gIGxldCBpbmRleCA9IDI7XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZUFycm93QWN0aW9uKGljb24pIHtcclxuICAgIGhhbmRsZVN3aXBlVGh1bWJuYWlscyhpY29uKVxyXG4gICAgaWYoaWNvbi5pZCA9PT0gXCJsZWZ0XCIgJiYgaW5kZXggPiAwKSB7XHJcbiAgICAgIGluZGV4LS07XHJcbiAgICB9IGVsc2UgaWYgKGljb24uaWQgPT09IFwibGVmdFwiICYmIGluZGV4ID09PSAwKSB7XHJcbiAgICAgIGluZGV4ID0gOTtcclxuICAgICAgaW5kZXgtLTtcclxuICAgIH0gZWxzZSBpZiAoaWNvbi5pZCA9PT0gXCJyaWdodFwiICYmIGluZGV4IDwgOCkge1xyXG4gICAgICBpbmRleCsrO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaW5kZXggPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURpc3BsYXlJbWFnZShpbmRleCk7XHJcbiAgICBjb25zb2xlLmxvZyhpbmRleCk7XHJcbiAgICBjb25zb2xlLmxvZyhpY29uLmlkKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZVN3aXBlVGh1bWJuYWlscyhpY29uKXtcclxuICAgIGlmKGljb24uaWQgPT09ICdsZWZ0Jyl7XHJcbiAgICAgIHRodW1ibmFpbHNDYXJvdXNlbC5zY3JvbGwoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgbGVmdDogLTc4Ljc1LFxyXG4gICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2UgaWYoaWNvbi5pZCA9PT0gJ3JpZ2h0Jyl7XHJcbiAgICAgIHRodW1ibmFpbHNDYXJvdXNlbC5zY3JvbGwoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgbGVmdDogNzguNzUsXHJcbiAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZURpc3BsYXlJbWFnZShjdXJyZW50SW5kZXgpIHtcclxuICAgIGltYWdlcy5mb3JFYWNoKChpbWFnZSwgaW5kZXgpID0+IHtcclxuICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gaW5kZXgpIHtcclxuICAgICAgICBpbWFnZS5jbGFzc0xpc3QuYWRkKFwic2hvdy1pbWFnZVwiKSwgaGFuZGxlQWN0aXZhdGVUaHVtYm5haWwoaW5kZXgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGltYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93LWltYWdlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZUFjdGl2YXRlVGh1bWJuYWlsKGN1cnJlbnRJbmRleCkge1xyXG4gICAgdGh1bWJuYWlsSW1hZ2VzLmZvckVhY2goKHRodW1ibmFpbCwgaW5kZXgpID0+XHJcbiAgICAgIGN1cnJlbnRJbmRleCA9PT0gaW5kZXhcclxuICAgICAgICA/IHRodW1ibmFpbC5jbGFzc0xpc3QucmVtb3ZlKFwidGh1bWJuYWlsLWRpc2FibGVkXCIpXHJcbiAgICAgICAgOiB0aHVtYm5haWwuY2xhc3NMaXN0LmFkZChcInRodW1ibmFpbC1kaXNhYmxlZFwiKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIGV2ZW50IGxpc3RlbmVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gIHRodW1ibmFpbEltYWdlcy5mb3JFYWNoKCh0aHVtYm5haWwsIHRodW1ibmFpbEluZGV4KSA9PlxyXG4gICAgdGh1bWJuYWlsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiAoaW5kZXggPSB0aHVtYm5haWxJbmRleCkgJiYgaGFuZGxlRGlzcGxheUltYWdlKGluZGV4KSlcclxuICApO1xyXG5cclxuICBhcnJvd0ljb25zLmZvckVhY2goKGljb24pID0+IHtcclxuICAgIGljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGhhbmRsZUFycm93QWN0aW9uKGljb24pKTtcclxuICB9KTtcclxuXHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBpZiAoXHJcbiAgICAgIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJnYWxsZXJ5XCIpICYmIGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGlzYWJsZS1zY3JvbGxcIikpIHx8XHJcbiAgICAgIGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2Fyb3VzZWxcIilcclxuICAgICkge1xyXG4gICAgICBnYWxsZXJ5LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNwbGF5LWdhbGxlcnlcIik7XHJcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICBuYXZEZXNrdG9wLmNsYXNzTGlzdC5yZW1vdmUoXCJuYXYtdHJhbnNpdGlvblwiKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgd29ya0J0bk9uZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAge1xyXG4gICAgICBib2R5LmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlLXNjcm9sbFwiKTtcclxuICAgICAgZ2FsbGVyeS5jbGFzc0xpc3QuYWRkKFwiZGlzcGxheS1nYWxsZXJ5XCIpO1xyXG4gICAgICBuYXZEZXNrdG9wLmNsYXNzTGlzdC5hZGQoXCJuYXYtdHJhbnNpdGlvblwiKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuIl19
