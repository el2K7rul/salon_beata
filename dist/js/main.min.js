window.onload=function(){function t(e){e.classList.remove("error-display"),e.textContent=""}function o(e,t){e.classList.add("error-display"),e.textContent=t}var c=document.querySelector(".body"),n=document.querySelector(".burger"),s=document.querySelectorAll(".burger__bars"),r=document.querySelector(".nav"),l=document.querySelector(".nav-desktop"),e=document.querySelectorAll(".nav-mobile__link"),i=document.querySelector(".arrowup"),a=document.querySelector(".footer__bottom--date"),d=document.querySelectorAll(".section"),u=document.querySelector(".error-msg"),m=document.querySelector(".error-msg-tel"),f=document.querySelector(".email"),v=document.querySelector(".telNum"),L=document.querySelector(".submit"),y=(new Date).getFullYear(),a=(a.textContent=y.toString(),window.addEventListener("scroll",function(){var t=window.scrollY;d.forEach(function(e){!e.classList.contains("white-section")&&e.offsetTop<=t+30?s.forEach(function(e){return e.classList.add("white-burger")}):e.classList.contains("white-section")&&e.offsetTop<=t+100&&s.forEach(function(e){return e.classList.remove("white-burger")})}),480<window.scrollY?i.classList.add("active"):i.classList.remove("active")}),n.addEventListener("click",function(){r.classList.toggle("active"),n.classList.toggle("active"),c.classList.toggle("disable-scroll"),e.forEach(function(e){e.addEventListener("click",function(){r.classList.remove("active"),n.classList.remove("active"),c.classList.remove("disable-scroll")})})}),L.addEventListener("click",function(e){e.preventDefault(),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(f.value)?t(u):o(u,"wpisz poprawny adres email."),/^[0-9\+]{8,13}$/.test(v.value)?t(m):o(m,"wpisz poprawny nr tel.")}),document.querySelector(".carousel")),y=document.querySelectorAll(".work-btn"),L=document.querySelectorAll(".arrow"),g=document.querySelectorAll(".gallery"),h=document.getElementById("haircut"),b=document.getElementById("color"),w=document.getElementById("barber"),E=a.querySelectorAll(".img"),S=document.querySelectorAll(".thumbnail-img"),q=0;function p(c){E.forEach(function(e,t){var o;c===t?(e.classList.add("show-image"),o=t,S.forEach(function(e,t){return o===t?e.classList.remove("thumbnail-disabled"):e.classList.add("thumbnail-disabled")})):e.classList.remove("show-image")})}y.forEach(function(t){return t.addEventListener("click",function(){var e;"btn-one"===(e=t).id?(console.log("clicked one"),c.classList.add("disable-scroll"),h.classList.add("display-gallery"),l.classList.add("nav-transition")):"btn-two"===e.id?(console.log("clicked two"),c.classList.add("disable-scroll"),b.classList.add("display-gallery"),l.classList.add("nav-transition")):"btn-three"===e.id?(console.log("clicked three"),c.classList.add("disable-scroll"),w.classList.add("display-gallery"),l.classList.add("nav-transition")):console.log("clicked four")})}),S.forEach(function(e,t){return e.addEventListener("click",function(){p(q=t)})}),L.forEach(function(t){t.addEventListener("click",function(){var e;"left"===(e=t).id&&0===q?(q=4,q--):"left"===e.id&&0<q?q--:"right"===e.id&&q<3?q++:q=0,p(q),console.log("index post: ".concat(q))})}),document.addEventListener("click",function(e){(e.target.classList.contains("gallery")&&c.classList.contains("disable-scroll")||c.classList.contains("carousel"))&&(g.forEach(function(e){return e.classList.remove("display-gallery")}),c.classList.remove("disable-scroll"),l.classList.remove("nav-transition"))});var k=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&e.target.classList.add("show")})}),a=document.querySelectorAll(".hidden"),y=document.querySelectorAll(".hidden-right"),L=document.querySelectorAll(".hidden-vanished");a.forEach(function(e){return k.observe(e)}),y.forEach(function(e){return k.observe(e)}),L.forEach(function(e){return k.observe(e)})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwiY2xlYXJFcnJvciIsImVsIiwic3VibWl0QnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNob3dFcnJvciIsImlucHV0IiwibXNnIiwiZm9ybUJveCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnVyZ2VyIiwiYm9keSIsImFsbEJ1cmdlckJhcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmF2TW9iaWxlIiwibmF2RGVza3RvcCIsImFycm93VXAiLCJmb290ZXJEYXRlIiwiYWxsU2VjdGlvbnMiLCJlcnJvck1zZyIsImVycm9yTXNnVGVsIiwiZW1haWwiLCJ0ZWxOdW0iLCJjdXJyZW50RGF0ZSIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImljb24iLCJjdXJyZW50WWVhciIsInRvU3RyaW5nIiwidmFsaWROdW0iLCJmb3JFYWNoIiwic2Nyb2xsWSIsInNlY3Rpb24iLCJvZmZzZXRUb3AiLCJiYXIiLCJoYW5kbGVBcnJvd1VwIiwiY29udGFpbnMiLCJjdXJyZW50U2VjdGlvbiIsImhhbmRsZU5hdiIsInJlbW92ZSIsInRvZ2dsZSIsImFsbE5hdkxpbmtzIiwibGluayIsImdhbGxlcmllcyIsImhhaXJjdXRHYWxsZXJ5IiwidGVzdCIsImNvbG9yR2FsbGVyeSIsInZhbHVlIiwiYmFyYmVyR2FsbGVyeSIsImluZGV4IiwiYXJyb3dJY29ucyIsImlkIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbWFnZXMiLCJjYXJvdXNlbCIsImhhbmRsZURpc3BsYXlJbWFnZSIsIndvcmtCdG5zIiwiYnRuIiwiY3VycmVudEluZGV4IiwiaW1hZ2UiLCJ0aHVtYm5haWwiLCJoYW5kbGVBcnJvd0FjdGlvbiIsInRodW1ibmFpbEltYWdlcyIsImNvbnNvbGUiLCJsb2ciLCJ0aHVtYm5haWxJbmRleCIsIm9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyeSIsInRhcmdldCIsImhpZGRlbkVsZW1lbnRzUmlnaHQiLCJnYWxsZXJ5IiwiaGlkZGVuRWxlbWVudHNMZWZ0Iiwib2JzZXJ2ZSIsImVudHJpZXMiLCJpc0ludGVyc2VjdGluZyIsImhpZGRlblZhbmlzaGVkRWxlbWVudHMiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFPQyxPQUFTLFdBOEZLLFNBQWJDLEVBQWNDLEdBYXBCQyxFQUFVQyxVQUFBQSxPQUFpQixlQUFTLEVBQ2xDQyxFQUFFQyxZQUFnQixFQVZwQixDQWFFLFNBQUFDLEVBQUFDLEVBQUFDLEdBRUZDLEVBQUFDLFVBQUFDLElBQUEsZUFBQSxFQVZFRixFQUFRRyxZQUFjSixDQVl4QixDQW5IRlYsSUFBT0MsRUFBTWMsU0FBR0MsY0FBWSxPQUFBLEVBQzFCQyxFQUFBRixTQUFBQyxjQUFBLFNBQUEsRUFDTUUsRUFBZ0JGLFNBQUFBLGlCQUFzQixlQUFBLEVBQ3RDQyxFQUFTRixTQUFTQyxjQUFjLE1BQVUsRUFDMUNHLEVBQWFKLFNBQVdDLGNBQUNJLGNBQWlCLEVBQzFDQyxFQUFZTixTQUFTQyxpQkFBcUIsbUJBQUEsRUFDMUNNLEVBQVVQLFNBQVdDLGNBQWMsVUFBQyxFQUVwQ08sRUFBVVIsU0FBU0MsY0FBYyx1QkFBVyxFQUU1Q1EsRUFBYVQsU0FBU0MsaUJBQWMsVUFBQSxFQUNwQ1MsRUFBV1YsU0FBV0MsY0FBQ0ksWUFBaUIsRUFDeENNLEVBQVdYLFNBQVNDLGNBQWMsZ0JBQWEsRUFDL0NXLEVBQUFBLFNBQWNaLGNBQVNDLFFBQWMsRUFDckNZLEVBQVFiLFNBQVNDLGNBQWMsU0FBUyxFQUN4Q2EsRUFBU2QsU0FBU0MsY0FBYyxTQUFVLEVBSTFDYyxHQUROLElBQUFDLE1BQzhCQyxZQUFBLEVBK0d4QkMsR0EzR0pULEVBQVdWLFlBQWNvQixFQUFZQyxTQUFTLEVBK0NoRG5DLE9BUU1vQyxpQkFBY1AsU0F0QkxqQixXQUpiLElBT0lPLEVBQWNrQixPQUFRQyxRQUwxQmIsRUFLcUVZLFFBQUEsU0FBQUUsR0FLakVwQixDQUFBQSxFQUFBQSxVQUFja0IsU0FBUSxlQUFJLEdBUDFCRSxFQU8wQkMsV0FBUzVCLEVBQWlCLEdBQ3RETyxFQUFBa0IsUUFBQSxTQUFBSSxHQUFBLE9BQUFBLEVBQUE3QixVQUFBQyxJQUFBLGNBQUEsQ0FBQSxDQUFBLEVBRUY2QixFQUFBQSxVQUFlQyxTQUFBLGVBQUEsR0FDaEJKLEVBQUFDLFdBQUFJLEVBQUEsS0FHS3pCLEVBQUNkLFFBQWlCLFNBQUFvQyxHQUFPLE9BQUVJLEVBQUFBLFVBQVVDLE9BQUEsY0FBQSxDQUFBLENBQUEsQ0FFM0MsQ0FBQSxFQTNCUyxJQURnQjlDLE9BQUNzQyxRQUV0QmYsRUFBUVgsVUFBVWtDLElBQUFBLFFBQU8sRUFFNUJ2QixFQUFBWCxVQUFBa0MsT0FBQSxRQUFBLENBMEJELENBR21DLEVBUG5DN0IsRUFRSWYsaUJBQVd5QixRQWpESGYsV0FDVkssRUFBT0wsVUFBVW1DLE9BQU8sUUFBUyxFQUNqQzdCLEVBQUtOLFVBQVVtQyxPQUFPLFFBQUEsRUFFdEJDLEVBQUFBLFVBQVlYLE9BQVEsZ0JBQVUsRUFBOUJXLEVBRUkzQixRQUFVVCxTQUFBQSxHQURacUMsRUFFRWhDLGlCQUFpQjZCLFFBQU8sV0FDeEI1QixFQUFLTixVQUFVa0MsT0FBTyxRQUFBLEVBQ3RCN0IsRUFBQUwsVUFBQWtDLE9BQUEsUUFBQSxFQUNGNUIsRUFBQU4sVUFBQWtDLE9BQUEsZ0JBQUEsQ0FDSCxDQUFBLENBQ0QsQ0FBQSxDQURBLENBc0MyQixFQXdDM0IxQyxFQUFNOEMsaUJBQXFCOUIsUUFBQUEsU0FBQUEsR0FDM0JkLEVBQU02QyxlQUFjLEVBeEJBTCxtQ0FFbkJNLEtBdUJLQyxFQXZCTEMsS0FBQSxFQUVLOUMsRUFBU2tCLENBQUcsRUFFaEJmLEVBQVFDLEVBQWMsNkJBQWdCLEVBakJ0QixrQkFHSHdDLEtBa0NURyxFQWxDcUJELEtBQUssRUFDNUJwRCxFQUFXd0IsQ0FBUyxFQUVwQmxCLEVBQVVrQixFQUFVLHdCQUFBLENBaUN4QixDQUFBLEVBTWFYLFNBQVdDLGNBQWUsV0FBRSxHQUNyQ3dDLEVBQVN6QyxTQUFBSyxpQkFBQSxXQUFBLEVBRVZxQyxFQUFlQyxTQUFPdEMsaUJBQW1CLFFBQUUsRUFDMUNvQyxFQUFPekMsU0FBQUssaUJBQUEsVUFBQSxFQUNSK0IsRUFBaUJwQyxTQUFZNEMsZUFBZSxTQUFBLEVBQzNDSCxFQUFPekMsU0FBQTRDLGVBQUEsT0FBQSxFQUNSSixFQUFNeEMsU0FBQTRDLGVBQUEsUUFBQSxFQUVQQyxFQUFBQyxFQUFBekMsaUJBQUEsTUFBQSxFQUNBMEMsRUFBbUJOLFNBQU1wQyxpQkFBQSxnQkFBQSxFQUUzQm9DLEVBQUEsRUE0REFPLFNBQVMxQixFQUFTMkIsR0FBR0osRUFBS0ksUUFBSTNELFNBQUFBLEVBQUFBLEdBUTlCb0QsSUFBd0JRLEVBUmdDQSxJQUFvQkQsR0FBS0UsRUFBQXRELFVBQUFDLElBQUEsWUFBQSxFQVF6RG9ELEVBUnlEVCxFQVMvRXZCLEVBQUs1QixRQUFpQixTQUFBOEQsRUFBU1gsR0FBQSxPQUFBUyxJQUFNRyxFQUF3QkQsRUFBQXZELFVBQUFrQyxPQUFBLG9CQUFBLEVBQzdEcUIsRUFBQXZELFVBQUFDLElBQUEsb0JBQUEsQ0FBQSxDQUVGRSxHQVZBc0QsRUFBQUEsVUFBZ0JoQyxPQUFRLFlBQUM4QixDQWR2QixDQUFDLENBQ0gsQ0FXQUosRUFpQitFMUIsUUFBQSxTQUFBMkIsR0FBQSxPQUFBQSxFQUFBM0QsaUJBQUEsUUFBQSxXQTNFL0UsSUFnQlMyRCxFQUNPLGFBRFBBLEVBMkRzRUEsR0ExRDNFTSxJQUNGQSxRQUFBQyxJQUFBLGFBQUEsRUFDRnJELEVBQUFOLFVBQUFDLElBQUEsZ0JBQUEsRUFmSXNDLEVBQWV2QyxVQUFVQyxJQUFJLGlCQUFpQixFQWlCbERTLEVBQUFWLFVBQUFDLElBQUEsZ0JBQUEsR0FDQSxZQUFBbUQsRUFBQU4sSUFmSVksUUFBUUMsSUFBSSxhQUFhLEVBaUI3QnJELEVBQUFOLFVBQUFDLElBQUEsZ0JBQUEsRUFDQXdDLEVBQUF6QyxVQUFBQyxJQUFBLGlCQUFBLEVBQ0FTLEVBQUFWLFVBQUFDLElBQUEsZ0JBQUEsR0FDQSxjQUFBbUQsRUFBQU4sSUFDQVksUUFBQUMsSUFBQSxlQUFBLEVBQ0FyRCxFQUFBTixVQUFBQyxJQUFBLGdCQUFBLEVBQ0EwQyxFQUFBM0MsVUFBQUMsSUFBQSxpQkFBQSxFQUNBUyxFQUFBVixVQUFBQyxJQUFBLGdCQUFBLEdBRUF5RCxRQUFBQyxJQUFBLGNBQUEsQ0EwQytFLENBQUEsQ0FBQSxDQUFBLEVBZi9FRixFQWlCU3pELFFBQVVrQyxTQUFNcUIsRUFBQ0ssR0FBaUIsT0FoQnpDTCxFQWlCRTdDLGlCQUFxQndCLFFBQU8sV0FDOUJnQixFQUFBTixFQUFBZ0IsQ0FBQSxDQUNBLENBQUEsQ0FBQSxDQWhCRixFQUVBZixFQUFXcEIsUUFBUSxTQUFDSixHQWtCcEJBLEVBQU13QyxpQkFBZUMsUUFBQUEsV0FuR3JCLElBZ0IwQnpDLEVBQ1YsVUFEVUEsRUFtRndCQSxHQWxGdkN5QixJQUFtQixJQUFkRixHQUNadEMsRUFBS04sRUFDTHVDLENBQUFBLElBQ3FCdEMsU0FBckJTLEVBQVdWLElBQWMsRUFBQTRDLEVBQzFCQSxDQUFNLEdBQ08sVUFBSmUsRUFBSWIsSUFBY0YsRUFBQSxFQUMxQnRDLENBQUtOLEdBRUxVLEVBQUFBLEVBZEZ3QyxFQWdCY04sQ0FBQSxFQWZkYyxRQWdCTzFELElBQUFBLGVBQUFBLE9BQWM0QyxDQUFBLENBQUEsQ0F1RWdDLENBQUEsQ0FoQnZELENBQUMsRUFFRHpDLFNBaUJNNEQsaUJBQWEvRCxRQUFjLFNBQUFOLElBRTdCQSxFQUFBc0UsT0FBQWhFLFVBQUErQixTQUFBLFNBQUEsR0FBQXpCLEVBQUFOLFVBQUErQixTQUFBLGdCQUFBLEdBQ0Z6QixFQUFBTixVQUFBK0IsU0FBQSxVQUFBLEtBR0lrQyxFQUFBQSxRQUFBQSxTQUFtQkMsR0FBRy9ELE9BQVNLLEVBQUFBLFVBQWlCMEIsT0FBQSxpQkFBZ0IsQ0FBQSxDQUFBLEVBRXRFaUMsRUFBQUEsVUFBbUIxQyxPQUFPLGdCQUFJLEVBQUFmLEVBQUttRCxVQUFnQjNCLE9BQUksZ0JBQUEsRUFDdkQrQixDQUFBQSxFQVpBLElBYWtDSixFQUFhLElBQUNPLHFCQUFXLFNBQUFDLEdBQUNBLEVBQUE1QyxRQUFBLFNBQUFzQyxHQUM3REEsRUFBQU8sZ0JBWE9QLEVBQU1DLE9BQU9oRSxVQUFVQyxJQUFJLE1BQU0sQ0FFckMsQ0FBQyxDQUNILENBQUMsRUFFS2tFLEVBQXFCaEUsU0FBU0ssaUJBQWlCLFNBQVMsRUFDeER5RCxFQUFzQjlELFNBQVNLLGlCQUFpQixlQUFlLEVBQy9EK0QsRUFBeUJwRSxTQUFTSyxpQkFBaUIsa0JBQWtCLEVBQzNFMkQsRUFBbUIxQyxRQUFRLFNBQUNsQyxHQUFFLE9BQUtzRSxFQUFTTyxRQUFRN0UsQ0FBRSxDQUFDLENBQUEsRUFDdkQwRSxFQUFvQnhDLFFBQVEsU0FBQ2xDLEdBQUUsT0FBS3NFLEVBQVNPLFFBQVE3RSxDQUFFLENBQUMsQ0FBQSxFQUN4RGdGLEVBQXVCOUMsUUFBUSxTQUFDbEMsR0FBRSxPQUFLc0UsRUFBU08sUUFBUTdFLENBQUUsQ0FBQyxDQUFBLENBQzdEIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAvL3NlbGVjdG9yc1xyXG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJvZHlcIik7XHJcbiAgY29uc3QgYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJcIik7XHJcbiAgY29uc3QgYWxsQnVyZ2VyQmFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyX19iYXJzXCIpO1xyXG4gIGNvbnN0IG5hdk1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2XCIpO1xyXG4gIGNvbnN0IG5hdkRlc2t0b3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdi1kZXNrdG9wXCIpO1xyXG4gIGNvbnN0IGFsbE5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXYtbW9iaWxlX19saW5rXCIpO1xyXG4gIGNvbnN0IGFycm93VXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFycm93dXBcIik7XHJcblxyXG4gIGNvbnN0IGZvb3RlckRhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9fYm90dG9tLS1kYXRlXCIpO1xyXG4gIGNvbnN0IGFsbFNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zZWN0aW9uXCIpO1xyXG4gIGNvbnN0IGVycm9yTXNnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvci1tc2dcIik7XHJcbiAgY29uc3QgZXJyb3JNc2dUZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yLW1zZy10ZWxcIik7XHJcbiAgY29uc3QgZW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVtYWlsXCIpO1xyXG4gIGNvbnN0IHRlbE51bSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGVsTnVtXCIpO1xyXG4gIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0XCIpO1xyXG5cclxuICAvLyBmb290ZXJcclxuICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgY29uc3QgY3VycmVudFllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG5cclxuICBjb25zdCBoYW5kbGVGb290ZXJZZWFyID0gKCkgPT4ge1xyXG4gICAgZm9vdGVyRGF0ZS50ZXh0Q29udGVudCA9IGN1cnJlbnRZZWFyLnRvU3RyaW5nKCk7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlRm9vdGVyWWVhcigpO1xyXG4gIC8vIE5BVlxyXG5cclxuICBjb25zdCBoYW5kbGVOYXYgPSAoKSA9PiB7XHJcbiAgICBuYXZNb2JpbGUuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgIGJ1cmdlci5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcblxyXG4gICAgYWxsTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xyXG4gICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgbmF2TW9iaWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgYnVyZ2VyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICBjb25zdCBoYW5kbGVBcnJvd1VwID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudFNlY3Rpb24gPSB3aW5kb3cuc2Nyb2xsWTtcclxuICAgIGlmIChjdXJyZW50U2VjdGlvbiA+IDQ4MCkge1xyXG4gICAgICBhcnJvd1VwLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcnJvd1VwLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlT2JzZXJ2ZXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50U2VjdGlvbiA9IHdpbmRvdy5zY3JvbGxZO1xyXG5cclxuICAgIGFsbFNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgICFzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucyhcIndoaXRlLXNlY3Rpb25cIikgJiZcclxuICAgICAgICBzZWN0aW9uLm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIDMwXHJcbiAgICAgICkge1xyXG4gICAgICAgIGFsbEJ1cmdlckJhcnMuZm9yRWFjaCgoYmFyKSA9PiBiYXIuY2xhc3NMaXN0LmFkZChcIndoaXRlLWJ1cmdlclwiKSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJ3aGl0ZS1zZWN0aW9uXCIpICYmXHJcbiAgICAgICAgc2VjdGlvbi5vZmZzZXRUb3AgPD0gY3VycmVudFNlY3Rpb24gKyAxMDBcclxuICAgICAgKSB7XHJcbiAgICAgICAgYWxsQnVyZ2VyQmFycy5mb3JFYWNoKChiYXIpID0+IGJhci5jbGFzc0xpc3QucmVtb3ZlKFwid2hpdGUtYnVyZ2VyXCIpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBoYW5kbGVBcnJvd1VwKCk7XHJcbiAgfTtcclxuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlT2JzZXJ2ZXIpO1xyXG4gIGJ1cmdlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlTmF2KTtcclxuXHJcbiAgLy8gZm9ybSB2YWxpZGF0b3JcclxuXHJcbiAgY29uc3QgY2hlY2tUZWxOdW0gPSAodGVsTnVtKSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZE51bSA9IC9eWzAtOVxcK117OCwxM30kLztcclxuXHJcbiAgICBpZiAodmFsaWROdW0udGVzdCh0ZWxOdW0udmFsdWUpKSB7XHJcbiAgICAgIGNsZWFyRXJyb3IoZXJyb3JNc2dUZWwpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2hvd0Vycm9yKGVycm9yTXNnVGVsLCBcIndwaXN6IHBvcHJhd255IG5yIHRlbC5cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2hlY2tNYWlsID0gKGVtYWlsKSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZE1haWwgPSAvXltcXHctXFwuXStAKFtcXHctXStcXC4pK1tcXHctXXsyLDR9JC87XHJcblxyXG4gICAgaWYgKHZhbGlkTWFpbC50ZXN0KGVtYWlsLnZhbHVlKSkge1xyXG4gICAgICBjbGVhckVycm9yKGVycm9yTXNnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dFcnJvcihlcnJvck1zZywgXCJ3cGlzeiBwb3ByYXdueSBhZHJlcyBlbWFpbC5cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuICBjb25zdCBjbGVhckVycm9yID0gKGVsKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtQm94ID0gZWw7XHJcbiAgICBmb3JtQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvci1kaXNwbGF5XCIpO1xyXG4gICAgZm9ybUJveC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2hvd0Vycm9yID0gKGlucHV0LCBtc2cpID0+IHtcclxuICAgIGNvbnN0IGZvcm1Cb3ggPSBpbnB1dDtcclxuICAgIGZvcm1Cb3guY2xhc3NMaXN0LmFkZChcImVycm9yLWRpc3BsYXlcIik7XHJcbiAgICBmb3JtQm94LnRleHRDb250ZW50ID0gbXNnO1xyXG4gIH07XHJcblxyXG4gIC8vIGV2ZW50IGxpc3RlbmVyc1xyXG4gIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNoZWNrTWFpbChlbWFpbCk7XHJcbiAgICBjaGVja1RlbE51bSh0ZWxOdW0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tIEdBTExFUlkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgY29uc3QgY2Fyb3VzZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcm91c2VsXCIpO1xyXG4gIGNvbnN0IHdvcmtCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi53b3JrLWJ0blwiKTtcclxuXHJcbiAgY29uc3QgYXJyb3dJY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYXJyb3dcIik7XHJcbiAgY29uc3QgZ2FsbGVyaWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5nYWxsZXJ5XCIpO1xyXG4gIGNvbnN0IGhhaXJjdXRHYWxsZXJ5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoYWlyY3V0XCIpO1xyXG4gIGNvbnN0IGNvbG9yR2FsbGVyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29sb3JcIik7XHJcbiAgY29uc3QgYmFyYmVyR2FsbGVyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFyYmVyXCIpO1xyXG5cclxuICBjb25zdCBpbWFnZXMgPSBjYXJvdXNlbC5xdWVyeVNlbGVjdG9yQWxsKFwiLmltZ1wiKTtcclxuICBjb25zdCB0aHVtYm5haWxJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRodW1ibmFpbC1pbWdcIik7XHJcblxyXG4gIGxldCBpbmRleCA9IDA7XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZUFycm93QWN0aW9uKGljb24pIHtcclxuICAgIGlmIChpY29uLmlkID09PSBcImxlZnRcIiAmJiBpbmRleCA9PT0gMCkge1xyXG4gICAgICBpbmRleCA9IDQ7XHJcbiAgICAgIGluZGV4LS07XHJcbiAgICB9IGVsc2UgaWYgKGljb24uaWQgPT09IFwibGVmdFwiICYmIGluZGV4ID4gMCkge1xyXG4gICAgICBpbmRleC0tO1xyXG4gICAgfSBlbHNlIGlmIChpY29uLmlkID09PSBcInJpZ2h0XCIgJiYgaW5kZXggPCAzKSB7XHJcbiAgICAgIGluZGV4Kys7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpbmRleCA9IDA7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVEaXNwbGF5SW1hZ2UoaW5kZXgpO1xyXG4gICAgY29uc29sZS5sb2coYGluZGV4IHBvc3Q6ICR7aW5kZXh9YCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVXb3JrQnRuKGJ0bikge1xyXG4gICAgaWYgKGJ0bi5pZCA9PT0gXCJidG4tb25lXCIpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJjbGlja2VkIG9uZVwiKTtcclxuICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcbiAgICAgIGhhaXJjdXRHYWxsZXJ5LmNsYXNzTGlzdC5hZGQoXCJkaXNwbGF5LWdhbGxlcnlcIik7XHJcbiAgICAgIG5hdkRlc2t0b3AuY2xhc3NMaXN0LmFkZChcIm5hdi10cmFuc2l0aW9uXCIpO1xyXG4gICAgfSBlbHNlIGlmIChidG4uaWQgPT09IFwiYnRuLXR3b1wiKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiY2xpY2tlZCB0d29cIik7XHJcbiAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICBjb2xvckdhbGxlcnkuY2xhc3NMaXN0LmFkZChcImRpc3BsYXktZ2FsbGVyeVwiKTtcclxuICAgICAgbmF2RGVza3RvcC5jbGFzc0xpc3QuYWRkKFwibmF2LXRyYW5zaXRpb25cIik7XHJcbiAgICB9IGVsc2UgaWYgKGJ0bi5pZCA9PT0gXCJidG4tdGhyZWVcIikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImNsaWNrZWQgdGhyZWVcIik7XHJcbiAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICBiYXJiZXJHYWxsZXJ5LmNsYXNzTGlzdC5hZGQoXCJkaXNwbGF5LWdhbGxlcnlcIik7XHJcbiAgICAgIG5hdkRlc2t0b3AuY2xhc3NMaXN0LmFkZChcIm5hdi10cmFuc2l0aW9uXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coXCJjbGlja2VkIGZvdXJcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBmdW5jdGlvbiBoYW5kbGVTd2lwZVRodW1ibmFpbHMoaWNvbiwgaW5kZXgpIHtcclxuICAvLyAgIGwgPSAyO1xyXG5cclxuICAvLyAgIGlmICgoaWNvbi5pZCA9PT0gXCJsZWZ0XCIpID09PSBsKSB7XHJcbiAgLy8gICAgIHRodW1ibmFpbHNDYXJvdXNlbC5zY3JvbGwoe1xyXG4gIC8vICAgICAgIHRvcDogMCxcclxuICAvLyAgICAgICBsZWZ0OiAtNzguNzUsXHJcbiAgLy8gICAgICAgYmVoYXZpb3I6IFwic21vb3RoXCIsXHJcbiAgLy8gICAgIH0pO1xyXG4gIC8vICAgfSBlbHNlIGlmICgoaWNvbi5pZCA9PT0gXCJyaWdodFwiLCBpbmRleCA9PT0gbCkpIHtcclxuICAvLyAgICAgdGh1bWJuYWlsc0Nhcm91c2VsLnNjcm9sbCh7XHJcbiAgLy8gICAgICAgdG9wOiAwLFxyXG4gIC8vICAgICAgIGxlZnQ6IDc4Ljc1LFxyXG4gIC8vICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxyXG4gIC8vICAgICB9KTtcclxuICAvLyAgIH1cclxuICAvLyB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZURpc3BsYXlJbWFnZShjdXJyZW50SW5kZXgpIHtcclxuICAgIGltYWdlcy5mb3JFYWNoKChpbWFnZSwgaW5kZXgpID0+IHtcclxuICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gaW5kZXgpIHtcclxuICAgICAgICBpbWFnZS5jbGFzc0xpc3QuYWRkKFwic2hvdy1pbWFnZVwiKSwgaGFuZGxlQWN0aXZhdGVUaHVtYm5haWwoaW5kZXgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGltYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93LWltYWdlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZUFjdGl2YXRlVGh1bWJuYWlsKGN1cnJlbnRJbmRleCkge1xyXG4gICAgdGh1bWJuYWlsSW1hZ2VzLmZvckVhY2goKHRodW1ibmFpbCwgaW5kZXgpID0+XHJcbiAgICAgIGN1cnJlbnRJbmRleCA9PT0gaW5kZXhcclxuICAgICAgICA/IHRodW1ibmFpbC5jbGFzc0xpc3QucmVtb3ZlKFwidGh1bWJuYWlsLWRpc2FibGVkXCIpXHJcbiAgICAgICAgOiB0aHVtYm5haWwuY2xhc3NMaXN0LmFkZChcInRodW1ibmFpbC1kaXNhYmxlZFwiKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIGV2ZW50IGxpc3RlbmVycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgd29ya0J0bnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGhhbmRsZVdvcmtCdG4oYnRuKSkpO1xyXG5cclxuICB0aHVtYm5haWxJbWFnZXMuZm9yRWFjaCgodGh1bWJuYWlsLCB0aHVtYm5haWxJbmRleCkgPT5cclxuICAgIHRodW1ibmFpbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAoaW5kZXggPSB0aHVtYm5haWxJbmRleCksIGhhbmRsZURpc3BsYXlJbWFnZShpbmRleCk7XHJcbiAgICB9KVxyXG4gICk7XHJcblxyXG4gIGFycm93SWNvbnMuZm9yRWFjaCgoaWNvbikgPT4ge1xyXG4gICAgaWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gaGFuZGxlQXJyb3dBY3Rpb24oaWNvbikpO1xyXG4gIH0pO1xyXG5cclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGlmIChcclxuICAgICAgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImdhbGxlcnlcIikgJiYgYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJkaXNhYmxlLXNjcm9sbFwiKSkgfHxcclxuICAgICAgYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJvdXNlbFwiKVxyXG4gICAgKSB7XHJcbiAgICAgIGdhbGxlcmllcy5mb3JFYWNoKChnYWxsZXJ5KSA9PiBnYWxsZXJ5LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNwbGF5LWdhbGxlcnlcIikpO1xyXG4gICAgICAvLyBnYWxsZXJ5LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNwbGF5LWdhbGxlcnlcIik7XHJcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICBuYXZEZXNrdG9wLmNsYXNzTGlzdC5yZW1vdmUoXCJuYXYtdHJhbnNpdGlvblwiKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1mYWRlSU4gYW5pbSAtLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcclxuICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XHJcbiAgICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgaGlkZGVuRWxlbWVudHNMZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oaWRkZW5cIik7XHJcbiAgY29uc3QgaGlkZGVuRWxlbWVudHNSaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGlkZGVuLXJpZ2h0XCIpO1xyXG4gIGNvbnN0IGhpZGRlblZhbmlzaGVkRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhpZGRlbi12YW5pc2hlZFwiKTtcclxuICBoaWRkZW5FbGVtZW50c0xlZnQuZm9yRWFjaCgoZWwpID0+IG9ic2VydmVyLm9ic2VydmUoZWwpKTtcclxuICBoaWRkZW5FbGVtZW50c1JpZ2h0LmZvckVhY2goKGVsKSA9PiBvYnNlcnZlci5vYnNlcnZlKGVsKSk7XHJcbiAgaGlkZGVuVmFuaXNoZWRFbGVtZW50cy5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xyXG59O1xyXG4iXX0=
