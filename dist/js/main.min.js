window.onload=function(){function t(e){e.classList.remove("error-display"),e.textContent=""}function o(e,t){e.classList.add("error-display"),e.textContent=t}var r=document.querySelector(".burger"),c=document.querySelectorAll(".burger__bars"),n=document.querySelector(".body"),s=document.querySelector(".nav"),i=document.querySelector(".nav-desktop"),e=document.querySelectorAll(".nav-mobile__link"),a=document.querySelector(".arrowup"),u=document.querySelector(".footer__bottom--date"),d=document.querySelectorAll(".section"),m=document.querySelector(".error-msg"),f=document.querySelector(".error-msg-tel"),v=document.querySelector(".email"),y=document.querySelector(".telNum"),L=document.querySelector(".submit"),g=(new Date).getFullYear(),L=(window.addEventListener("scroll",function(){var t=window.scrollY;d.forEach(function(e){!e.classList.contains("white-section")&&e.offsetTop<=t+30?c.forEach(function(e){return e.classList.add("white-burger")}):e.classList.contains("white-section")&&e.offsetTop<=t+30&&c.forEach(function(e){return e.classList.remove("white-burger")})}),480<window.scrollY?a.classList.add("active"):a.classList.remove("active")}),r.addEventListener("click",function(){s.classList.toggle("active"),r.classList.toggle("active"),n.classList.toggle("disable-scroll"),e.forEach(function(e){e.addEventListener("click",function(){s.classList.remove("active"),r.classList.remove("active"),n.classList.remove("disable-scroll")})})}),L.addEventListener("click",function(e){e.preventDefault(),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(v.value)?t(m):o(m,"wpisz poprawny adres email."),/^[0-9\+]{8,13}$/.test(y.value)?t(f):o(f,"wpisz poprawny nr tel.")}),u.textContent=g.toString(),document.querySelector(".carousel")),u=document.querySelector(".btn-one"),h=(document.querySelector(".btn-two"),document.querySelector(".btn-three"),document.querySelector(".btn-four"),document.querySelector(".gallery")),b=L.querySelectorAll(".img"),g=document.querySelectorAll(".arrow"),w=document.querySelector(".carousel-thumbnails"),S=document.querySelectorAll(".thumbnail-img"),q=0;function p(e){var t;"left"===e.id&&0<q?q--:"left"===e.id&&0===q?(q=S.length-1,q--):"right"===e.id&&q<S.length-1?q++:q=0,E(q),e=e,t=q,l=S.length-3,e.id,1===t?w.scroll({top:0,left:-78.75,behavior:"smooth"}):(e.id,t===l&&w.scroll({top:0,left:78.75,behavior:"smooth"})),console.log(S.length),console.log(q)}function E(r){b.forEach(function(e,t){var o;r===t?(e.classList.add("show-image"),o=t,S.forEach(function(e,t){return o===t?e.classList.remove("thumbnail-disabled"):e.classList.add("thumbnail-disabled")})):e.classList.remove("show-image")})}S.forEach(function(e,t){return e.addEventListener("click",function(){return(q=t)&&E(q)})}),g.forEach(function(e){e.addEventListener("click",function(){return p(e)})}),document.addEventListener("click",function(e){(e.target.classList.contains("gallery")&&n.classList.contains("disable-scroll")||n.classList.contains("carousel"))&&(h.classList.remove("display-gallery"),n.classList.remove("disable-scroll"),i.classList.remove("nav-transition"))}),u.addEventListener("click",function(){n.classList.add("disable-scroll"),h.classList.add("display-gallery"),i.classList.add("nav-transition")})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwiY2xlYXJFcnJvciIsImVsIiwiZm9ybUJveCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJidXJnZXIiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0IiwibXNnIiwiY2hlY2tUZWxOdW0iLCJhZGQiLCJ0ZXh0Q29udGVudCIsImhhbmRsZUZvb3RlclllYXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhbGxCdXJnZXJCYXJzIiwicXVlcnlTZWxlY3RvckFsbCIsImJvZHkiLCJuYXZNb2JpbGUiLCJuYXZEZXNrdG9wIiwiYWxsTmF2TGlua3MiLCJhcnJvd1VwIiwiZm9vdGVyRGF0ZSIsImFsbFNlY3Rpb25zIiwiZXJyb3JNc2ciLCJlcnJvck1zZ1RlbCIsInRlbE51bSIsImN1cnJlbnREYXRlIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwiY2Fyb3VzZWwiLCJjdXJyZW50U2VjdGlvbiIsImNvbnRhaW5zIiwiZm9yRWFjaCIsInNlY3Rpb24iLCJiYXIiLCJoYW5kbGVBcnJvd1VwIiwic2Nyb2xsWSIsInRvZ2dsZSIsImxpbmsiLCJzdWJtaXRCdG4iLCJ3b3JrQnRuT25lIiwiZSIsIndvcmtCdG5Ud28iLCJ3b3JrQnRuVGhyZWUiLCJ2YWx1ZSIsInNob3dFcnJvciIsInRlc3QiLCJ3b3JrQnRuRm91ciIsImN1cnJlbnRZZWFyIiwiaGFuZGxlQXJyb3dBY3Rpb24iLCJpY29uIiwiaW5kZXgiLCJ0aHVtYm5haWxJbWFnZXMiLCJsZW5ndGgiLCJpbWFnZXMiLCJ0aHVtYm5haWxzQ2Fyb3VzZWwiLCJoYW5kbGVEaXNwbGF5SW1hZ2UiLCJjb25zb2xlIiwibG9nIiwiaWQiLCJoYW5kbGVTd2lwZVRodW1ibmFpbHMiLCJsIiwiY3VycmVudEluZGV4IiwiaW1hZ2UiLCJsZWZ0IiwiYmVoYXZpb3IiLCJoYW5kbGVBY3RpdmF0ZVRodW1ibmFpbCIsInRvcCIsInRodW1ibmFp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akMsSUFBV2pCLEVBQ2JxRSxFQUFBckUsVUFBQUMsT0FBQSxvQkFBQSxFQUNBb0UsRUFBQXJFLFVBQUFRLElBQUEsb0JBQUEsQ0FBQSxDQUVGK0IsR0FkaUN1QixFQUFNZCxVQUFBQSxPQUFrQkMsWUFBSyxDQUM1RCxDQUFBLENBRUZ0QyxDQVJBd0MsRUF3QkVwQixRQUFBLFNBQUFzQyxFQUFBRixHQUFBLE9BQ0FFLEVBQUFuRSxpQkFBQSxRQUFBLFdBQUEsT0FBQWdELEVBQUFpQixJQUFBWixFQUFBTCxDQUFBLENBQUEsQ0FBQSxDQUFBLENBQ0gsRUF0QkNrQixFQUFXckMsUUFBUSxTQUFDa0IsR0FDbEJBLEVBQUsvQyxpQkFBaUIsUUFBUyxXQUFBLE9BQU04QyxFQUFrQkMsQ0FBSSxDQUFDLENBQUEsQ0FDOUQsQ0FBQyxFQUVEdEMsU0FBU1QsaUJBQWlCLFFBQVMsU0FBQ3NDLElBRS9CQSxFQUFFOEIsT0FBT3RFLFVBQVU4QixTQUFTLFNBQVMsR0FBS2YsRUFBS2YsVUFBVThCLFNBQVMsZ0JBQWdCLEdBQ25GZixFQUFLZixVQUFVOEIsU0FBUyxVQUFVLEtBRWxDeUMsRUFBUXZFLFVBQVVDLE9BQU8saUJBQWlCLEVBQzFDYyxFQUFLZixVQUFVQyxPQUFPLGdCQUFnQixFQUN0Q2dCLEVBQVdqQixVQUFVQyxPQUFPLGdCQUFnQixFQUVoRCxDQUFDLEVBRURzQyxFQUFXckMsaUJBQWlCLFFBQVMsV0FFakNhLEVBQUtmLFVBQVVRLElBQUksZ0JBQWdCLEVBQ25DK0QsRUFBUXZFLFVBQVVRLElBQUksaUJBQWlCLEVBQ3ZDUyxFQUFXakIsVUFBVVEsSUFBSSxnQkFBZ0IsQ0FFN0MsQ0FBQyxDQUNIIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAvL3NlbGVjdG9yc1xyXG4gIGNvbnN0IGJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyXCIpO1xyXG4gIGNvbnN0IGFsbEJ1cmdlckJhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ1cmdlcl9fYmFyc1wiKTtcclxuICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ib2R5XCIpO1xyXG4gIGNvbnN0IG5hdk1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2XCIpO1xyXG4gIGNvbnN0IG5hdkRlc2t0b3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdi1kZXNrdG9wXCIpO1xyXG4gIGNvbnN0IGFsbE5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXYtbW9iaWxlX19saW5rXCIpO1xyXG4gIGNvbnN0IGFycm93VXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFycm93dXBcIik7XHJcbiAgY29uc3QgZm9vdGVyRGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9vdGVyX19ib3R0b20tLWRhdGVcIik7XHJcbiAgY29uc3QgYWxsU2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNlY3Rpb25cIik7XHJcbiAgY29uc3QgZXJyb3JNc2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yLW1zZ1wiKTtcclxuICBjb25zdCBlcnJvck1zZ1RlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3ItbXNnLXRlbFwiKTtcclxuICBjb25zdCBlbWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZW1haWxcIik7XHJcbiAgY29uc3QgdGVsTnVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50ZWxOdW1cIik7XHJcblxyXG4gIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0XCIpO1xyXG5cclxuICAvL3ZhcmlhYmxlc1xyXG4gIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuICBjb25zdCBjdXJyZW50WWVhciA9IGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCk7XHJcblxyXG4gIC8vZnVuY3Rpb25zXHJcblxyXG4gIGNvbnN0IGhhbmRsZUZvb3RlclllYXIgPSAoKSA9PiB7XHJcbiAgICBmb290ZXJEYXRlLnRleHRDb250ZW50ID0gY3VycmVudFllYXIudG9TdHJpbmcoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVOYXYgPSAoKSA9PiB7XHJcbiAgICBuYXZNb2JpbGUuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgIGJ1cmdlci5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcblxyXG4gICAgYWxsTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xyXG4gICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgbmF2TW9iaWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgYnVyZ2VyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICBjb25zdCBoYW5kbGVBcnJvd1VwID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudFNlY3Rpb24gPSB3aW5kb3cuc2Nyb2xsWTtcclxuICAgIGlmIChjdXJyZW50U2VjdGlvbiA+IDQ4MCkge1xyXG4gICAgICBhcnJvd1VwLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcnJvd1VwLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgICAvLyBjb25zb2xlLmxvZyh3aW5kb3cuc2Nyb2xsWSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlT2JzZXJ2ZXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50U2VjdGlvbiA9IHdpbmRvdy5zY3JvbGxZO1xyXG5cclxuICAgIGFsbFNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgICFzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucyhcIndoaXRlLXNlY3Rpb25cIikgJiZcclxuICAgICAgICBzZWN0aW9uLm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIDMwXHJcbiAgICAgICkge1xyXG4gICAgICAgIGFsbEJ1cmdlckJhcnMuZm9yRWFjaCgoYmFyKSA9PiBiYXIuY2xhc3NMaXN0LmFkZChcIndoaXRlLWJ1cmdlclwiKSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJ3aGl0ZS1zZWN0aW9uXCIpICYmXHJcbiAgICAgICAgc2VjdGlvbi5vZmZzZXRUb3AgPD0gY3VycmVudFNlY3Rpb24gKyAzMFxyXG4gICAgICApIHtcclxuICAgICAgICBhbGxCdXJnZXJCYXJzLmZvckVhY2goKGJhcikgPT4gYmFyLmNsYXNzTGlzdC5yZW1vdmUoXCJ3aGl0ZS1idXJnZXJcIikpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGhhbmRsZUFycm93VXAoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjaGVja1RlbE51bSA9ICh0ZWxOdW0pID0+IHtcclxuICAgIGNvbnN0IHZhbGlkTnVtID0gL15bMC05XFwrXXs4LDEzfSQvO1xyXG5cclxuICAgIGlmICh2YWxpZE51bS50ZXN0KHRlbE51bS52YWx1ZSkpIHtcclxuICAgICAgY2xlYXJFcnJvcihlcnJvck1zZ1RlbCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzaG93RXJyb3IoZXJyb3JNc2dUZWwsIFwid3Bpc3ogcG9wcmF3bnkgbnIgdGVsLlwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBjaGVja01haWwgPSAoZW1haWwpID0+IHtcclxuICAgIGNvbnN0IHZhbGlkTWFpbCA9IC9eW1xcdy1cXC5dK0AoW1xcdy1dK1xcLikrW1xcdy1dezIsNH0kLztcclxuXHJcbiAgICBpZiAodmFsaWRNYWlsLnRlc3QoZW1haWwudmFsdWUpKSB7XHJcbiAgICAgIGNsZWFyRXJyb3IoZXJyb3JNc2cpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2hvd0Vycm9yKGVycm9yTXNnLCBcIndwaXN6IHBvcHJhd255IGFkcmVzIGVtYWlsLlwiKTtcclxuICAgIH1cclxuICB9O1xyXG4gIGNvbnN0IGNsZWFyRXJyb3IgPSAoZWwpID0+IHtcclxuICAgIGNvbnN0IGZvcm1Cb3ggPSBlbDtcclxuICAgIGZvcm1Cb3guY2xhc3NMaXN0LnJlbW92ZShcImVycm9yLWRpc3BsYXlcIik7XHJcbiAgICBmb3JtQm94LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9O1xyXG5cclxuICBjb25zdCBzaG93RXJyb3IgPSAoaW5wdXQsIG1zZykgPT4ge1xyXG4gICAgY29uc3QgZm9ybUJveCA9IGlucHV0O1xyXG4gICAgZm9ybUJveC5jbGFzc0xpc3QuYWRkKFwiZXJyb3ItZGlzcGxheVwiKTtcclxuICAgIGZvcm1Cb3gudGV4dENvbnRlbnQgPSBtc2c7XHJcbiAgfTtcclxuXHJcbiAgLy8gZXZlbnQgbGlzdGVuZXJzXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlT2JzZXJ2ZXIpO1xyXG4gIGJ1cmdlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlTmF2KTtcclxuICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjaGVja01haWwoZW1haWwpO1xyXG4gICAgY2hlY2tUZWxOdW0odGVsTnVtKTtcclxuICB9KTtcclxuXHJcbiAgaGFuZGxlRm9vdGVyWWVhcigpO1xyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tIEdBTExFUlkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgY29uc3QgY2Fyb3VzZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcm91c2VsXCIpO1xyXG4gIGNvbnN0IHdvcmtCdG5PbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1vbmVcIik7XHJcbiAgY29uc3Qgd29ya0J0blR3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLXR3b1wiKTtcclxuICBjb25zdCB3b3JrQnRuVGhyZWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi10aHJlZVwiKTtcclxuICBjb25zdCB3b3JrQnRuRm91ciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLWZvdXJcIik7XHJcbiAgY29uc3QgZ2FsbGVyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeVwiKTtcclxuICBjb25zdCBpbWFnZXMgPSBjYXJvdXNlbC5xdWVyeVNlbGVjdG9yQWxsKFwiLmltZ1wiKTtcclxuICBjb25zdCBhcnJvd0ljb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hcnJvd1wiKTtcclxuICBjb25zdCB0aHVtYm5haWxzQ2Fyb3VzZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcm91c2VsLXRodW1ibmFpbHNcIik7XHJcbiAgY29uc3QgdGh1bWJuYWlsSW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50aHVtYm5haWwtaW1nXCIpO1xyXG5cclxuICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVBcnJvd0FjdGlvbihpY29uKSB7XHJcbiAgICBpZihpY29uLmlkID09PSBcImxlZnRcIiAmJiBpbmRleCA+IDApIHtcclxuICAgICAgaW5kZXgtLTtcclxuICAgIH0gZWxzZSBpZiAoaWNvbi5pZCA9PT0gXCJsZWZ0XCIgJiYgaW5kZXggPT09IDApIHtcclxuICAgICAgaW5kZXggPSB0aHVtYm5haWxJbWFnZXMubGVuZ3RoLTE7XHJcbiAgICAgIGluZGV4LS07XHJcbiAgICB9IGVsc2UgaWYgKGljb24uaWQgPT09IFwicmlnaHRcIiAmJiBpbmRleCA8IHRodW1ibmFpbEltYWdlcy5sZW5ndGgtMSkge1xyXG4gICAgICBpbmRleCsrO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaW5kZXggPSAwO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoYW5kbGVEaXNwbGF5SW1hZ2UoaW5kZXgpO1xyXG4gICAgaGFuZGxlU3dpcGVUaHVtYm5haWxzKGljb24sIGluZGV4KVxyXG4gICAgY29uc29sZS5sb2codGh1bWJuYWlsSW1hZ2VzLmxlbmd0aCk7XHJcbiAgICBjb25zb2xlLmxvZyhpbmRleCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhpbmRleCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhpY29uLmlkKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZVN3aXBlVGh1bWJuYWlscyhpY29uLCBpbmRleCl7XHJcbiAgICBsID0gKHRodW1ibmFpbEltYWdlcy5sZW5ndGggLSAzKTtcclxuXHJcbiAgICBpZihpY29uLmlkID09PSAnbGVmdCcsIGluZGV4ID09PSAxKXsgIFxyXG4gICAgICB0aHVtYm5haWxzQ2Fyb3VzZWwuc2Nyb2xsKFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRvcDogMCxcclxuICAgICAgICAgIGxlZnQ6IC03OC43NSxcclxuICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmKGljb24uaWQgPT09ICdyaWdodCcsIGluZGV4ID09PSBsKXtcclxuICAgICAgdGh1bWJuYWlsc0Nhcm91c2VsLnNjcm9sbChcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICBsZWZ0OiA3OC43NSxcclxuICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlRGlzcGxheUltYWdlKGN1cnJlbnRJbmRleCkge1xyXG4gICAgaW1hZ2VzLmZvckVhY2goKGltYWdlLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoY3VycmVudEluZGV4ID09PSBpbmRleCkge1xyXG4gICAgICAgIGltYWdlLmNsYXNzTGlzdC5hZGQoXCJzaG93LWltYWdlXCIpLCBoYW5kbGVBY3RpdmF0ZVRodW1ibmFpbChpbmRleCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LnJlbW92ZShcInNob3ctaW1hZ2VcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlQWN0aXZhdGVUaHVtYm5haWwoY3VycmVudEluZGV4KSB7XHJcbiAgICB0aHVtYm5haWxJbWFnZXMuZm9yRWFjaCgodGh1bWJuYWlsLCBpbmRleCkgPT5cclxuICAgICAgY3VycmVudEluZGV4ID09PSBpbmRleFxyXG4gICAgICAgID8gdGh1bWJuYWlsLmNsYXNzTGlzdC5yZW1vdmUoXCJ0aHVtYm5haWwtZGlzYWJsZWRcIilcclxuICAgICAgICA6IHRodW1ibmFpbC5jbGFzc0xpc3QuYWRkKFwidGh1bWJuYWlsLWRpc2FibGVkXCIpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gZXZlbnQgbGlzdGVuZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgdGh1bWJuYWlsSW1hZ2VzLmZvckVhY2goKHRodW1ibmFpbCwgdGh1bWJuYWlsSW5kZXgpID0+XHJcbiAgICB0aHVtYm5haWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IChpbmRleCA9IHRodW1ibmFpbEluZGV4KSAmJiBoYW5kbGVEaXNwbGF5SW1hZ2UoaW5kZXgpKVxyXG4gICk7XHJcblxyXG4gIGFycm93SWNvbnMuZm9yRWFjaCgoaWNvbikgPT4ge1xyXG4gICAgaWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gaGFuZGxlQXJyb3dBY3Rpb24oaWNvbikpO1xyXG4gIH0pO1xyXG5cclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGlmIChcclxuICAgICAgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImdhbGxlcnlcIikgJiYgYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJkaXNhYmxlLXNjcm9sbFwiKSkgfHxcclxuICAgICAgYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJvdXNlbFwiKVxyXG4gICAgKSB7XHJcbiAgICAgIGdhbGxlcnkuY2xhc3NMaXN0LnJlbW92ZShcImRpc3BsYXktZ2FsbGVyeVwiKTtcclxuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcbiAgICAgIG5hdkRlc2t0b3AuY2xhc3NMaXN0LnJlbW92ZShcIm5hdi10cmFuc2l0aW9uXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB3b3JrQnRuT25lLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICB7XHJcbiAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICBnYWxsZXJ5LmNsYXNzTGlzdC5hZGQoXCJkaXNwbGF5LWdhbGxlcnlcIik7XHJcbiAgICAgIG5hdkRlc2t0b3AuY2xhc3NMaXN0LmFkZChcIm5hdi10cmFuc2l0aW9uXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59OyJdfQ==
