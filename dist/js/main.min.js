window.onload=function(){function t(e){e.classList.remove("error-display"),e.textContent=""}function r(e,t){e.classList.add("error-display"),e.textContent=t}var n=document.querySelector(".body"),o=document.querySelector(".burger"),c=document.querySelectorAll(".burger__bars"),s=document.querySelector(".nav"),l=document.querySelector(".nav-desktop"),e=document.querySelectorAll(".nav-mobile__link"),i=document.querySelector(".arrowup"),a=document.querySelector(".footer__bottom--date"),d=document.querySelectorAll(".section"),u=document.querySelector(".error-msg"),m=document.querySelector(".error-msg-tel"),f=document.querySelector(".email"),v=document.querySelector(".telNum"),h=document.querySelector(".submit"),y=(new Date).getFullYear(),a=(a.textContent=y.toString(),window.addEventListener("scroll",function(){var t=window.scrollY;d.forEach(function(e){!e.classList.contains("white-section")&&e.offsetTop<=t+30?c.forEach(function(e){return e.classList.add("white-burger")}):e.classList.contains("white-section")&&e.offsetTop<=t+100&&c.forEach(function(e){return e.classList.remove("white-burger")})}),480<window.scrollY?i.classList.add("active"):i.classList.remove("active")}),o.addEventListener("click",function(){s.classList.toggle("active"),o.classList.toggle("active"),n.classList.toggle("disable-scroll"),e.forEach(function(e){e.addEventListener("click",function(){s.classList.remove("active"),o.classList.remove("active"),n.classList.remove("disable-scroll")})})}),h.addEventListener("click",function(e){e.preventDefault(),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(f.value)?t(u):r(u,"wpisz poprawny adres email."),/^[0-9\+]{8,13}$/.test(v.value)?t(m):r(m,"wpisz poprawny nr tel.")}),document.querySelector(".carousel")),y=document.querySelector(".btn-one"),L=(document.querySelector(".btn-two"),document.querySelector(".btn-three"),document.querySelector(".btn-four"),document.querySelector(".gallery-haircut")),g=(document.querySelector(".gallery-color"),a.querySelectorAll(".img")),h=document.querySelectorAll(".arrow"),b=(document.querySelector(".carousel-thumbnails"),document.querySelectorAll(".thumbnail-img")),S=0;function q(n){g.forEach(function(e,t){var r;n===t?(e.classList.add("show-image"),r=t,b.forEach(function(e,t){return r===t?e.classList.remove("thumbnail-disabled"):e.classList.add("thumbnail-disabled")})):e.classList.remove("show-image")})}b.forEach(function(e,t){return e.addEventListener("click",function(){return(S=t)&&q(S)})}),h.forEach(function(t){t.addEventListener("click",function(){var e;"left"===(e=t).id&&0<=S?S=L.length-1:"left"===e.id&&0===S?(S=b.length-1,S--):"right"===e.id&&S<b.length-1?S++:S=0,q(S),console.log("index post: ".concat(S))})}),document.addEventListener("click",function(e){(e.target.classList.contains("gallery")&&n.classList.contains("disable-scroll")||n.classList.contains("carousel"))&&(L.classList.remove("display-gallery"),n.classList.remove("disable-scroll"),l.classList.remove("nav-transition"))}),y.addEventListener("click",function(){n.classList.add("disable-scroll"),L.classList.add("display-gallery"),l.classList.add("nav-transition")})};var observer=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&e.target.classList.add("show")})}),hiddenElementsLeft=document.querySelectorAll(".hidden"),hiddenElementsRight=document.querySelectorAll(".hidden-right"),hiddenVanishedElements=document.querySelectorAll(".hidden-vanished");hiddenElementsLeft.forEach(function(e){return observer.observe(e)}),hiddenElementsRight.forEach(function(e){return observer.observe(e)}),hiddenVanishedElements.forEach(function(e){return observer.observe(e)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwiY2xlYXJFcnJvciIsImVsIiwic3VibWl0QnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNob3dFcnJvciIsImlucHV0IiwibXNnIiwiZm9ybUJveCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnVyZ2VyIiwiYm9keSIsImFsbEJ1cmdlckJhcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmF2TW9iaWxlIiwibmF2RGVza3RvcCIsImFycm93VXAiLCJmb290ZXJEYXRlIiwiYWxsU2VjdGlvbnMiLCJlcnJvck1zZyIsImVycm9yTXNnVGVsIiwiZW1haWwiLCJ0ZWxOdW0iLCJjdXJyZW50RGF0ZSIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImluZGV4IiwiY3VycmVudFllYXIiLCJ0b1N0cmluZyIsInZhbGlkTnVtIiwiZm9yRWFjaCIsInNjcm9sbFkiLCJzZWN0aW9uIiwib2Zmc2V0VG9wIiwiYmFyIiwiaGFuZGxlQXJyb3dVcCIsImNvbnRhaW5zIiwiY3VycmVudFNlY3Rpb24iLCJoYW5kbGVOYXYiLCJyZW1vdmUiLCJ0b2dnbGUiLCJhbGxOYXZMaW5rcyIsImxpbmsiLCJ3b3JrQnRuVGhyZWUiLCJ3b3JrQnRuRm91ciIsInRlc3QiLCJoYWlyY3V0R2FsbGVyeSIsInZhbHVlIiwiY29sb3JHYWxsZXJ5Iiwid29ya0J0bk9uZSIsImhhbmRsZUFycm93QWN0aW9uIiwiaWNvbiIsImxlbmd0aCIsInRodW1ibmFpbEltYWdlcyIsImltYWdlcyIsImhhbmRsZURpc3BsYXlJbWFnZSIsImN1cnJlbnRJbmRleCIsImltYWdlIiwidGh1bWJuYWlsIiwidGh1bWJuYWlsSW5kZXgiLCJhcnJvd0ljb25zIiwiaWQiLCJjb25zb2xlIiwibG9nIiwiY29uY2F0IiwidGFyZ2V0IiwiZW50cmllcyIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJoaWRkZW5FbGVtZW50c0xlZnQiLCJoaWRkZW5WYW5pc2hlZEVsZW1lbnRzIiwiaGlkZGVuRWxlbWVudHNSaWdodCIsIm9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJvYnNlcnZlIl0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBT0MsT0FBUyxXQThGSyxTQUFiQyxFQUFjQyxHQWFwQkMsRUFBVUMsVUFBQUEsT0FBaUIsZUFBUyxFQUNsQ0MsRUFBRUMsWUFBZ0IsRUFWcEIsQ0FhRSxTQUFBQyxFQUFBQyxFQUFBQyxHQUVGQyxFQUFBQyxVQUFBQyxJQUFBLGVBQUEsRUFWRUYsRUFBUUcsWUFBY0osQ0FZeEIsQ0FuSEZWLElBQU9DLEVBQU1jLFNBQUdDLGNBQVksT0FBQSxFQUMxQkMsRUFBQUYsU0FBQUMsY0FBQSxTQUFBLEVBQ01FLEVBQWdCRixTQUFBQSxpQkFBc0IsZUFBQSxFQUN0Q0MsRUFBU0YsU0FBU0MsY0FBYyxNQUFVLEVBQzFDRyxFQUFhSixTQUFXQyxjQUFDSSxjQUFpQixFQUMxQ0MsRUFBWU4sU0FBU0MsaUJBQXFCLG1CQUFBLEVBQzFDTSxFQUFVUCxTQUFXQyxjQUFjLFVBQUMsRUFFcENPLEVBQVVSLFNBQVNDLGNBQWMsdUJBQVcsRUFFNUNRLEVBQWFULFNBQVNDLGlCQUFjLFVBQUEsRUFDcENTLEVBQVdWLFNBQVdDLGNBQUNJLFlBQWlCLEVBQ3hDTSxFQUFXWCxTQUFTQyxjQUFjLGdCQUFhLEVBQy9DVyxFQUFBQSxTQUFjWixjQUFTQyxRQUFjLEVBQ3JDWSxFQUFRYixTQUFTQyxjQUFjLFNBQVMsRUFDeENhLEVBQVNkLFNBQVNDLGNBQWMsU0FBVSxFQUkxQ2MsR0FETixJQUFBQyxNQUM4QkMsWUFBQSxFQTRHMUJDLEdBeEdGVCxFQUFXVixZQUFjb0IsRUFBWUMsU0FBUyxFQStDaERuQyxPQVFNb0MsaUJBQWNQLFNBdEJMakIsV0FKYixJQU9JTyxFQUFja0IsT0FBUUMsUUFMMUJiLEVBS3FFWSxRQUFBLFNBQUFFLEdBS2pFcEIsQ0FBQUEsRUFBQUEs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U0FBU0UsUUFBUTlFLENBQUUsQ0FBQyxDQUFBLEVBQ3hEMEUsdUJBQXVCeEMsUUFBUSxTQUFDbEMsR0FBRSxPQUFLNEUsU0FBU0UsUUFBUTlFLENBQUUsQ0FBQyxDQUFBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAvL3NlbGVjdG9yc1xyXG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJvZHlcIik7XHJcbiAgY29uc3QgYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJcIik7XHJcbiAgY29uc3QgYWxsQnVyZ2VyQmFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyX19iYXJzXCIpO1xyXG4gIGNvbnN0IG5hdk1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2XCIpO1xyXG4gIGNvbnN0IG5hdkRlc2t0b3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdi1kZXNrdG9wXCIpO1xyXG4gIGNvbnN0IGFsbE5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXYtbW9iaWxlX19saW5rXCIpO1xyXG4gIGNvbnN0IGFycm93VXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFycm93dXBcIik7XHJcblxyXG4gIGNvbnN0IGZvb3RlckRhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9fYm90dG9tLS1kYXRlXCIpO1xyXG4gIGNvbnN0IGFsbFNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zZWN0aW9uXCIpO1xyXG4gIGNvbnN0IGVycm9yTXNnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvci1tc2dcIik7XHJcbiAgY29uc3QgZXJyb3JNc2dUZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yLW1zZy10ZWxcIik7XHJcbiAgY29uc3QgZW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVtYWlsXCIpO1xyXG4gIGNvbnN0IHRlbE51bSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGVsTnVtXCIpO1xyXG4gIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0XCIpO1xyXG5cclxuICAvLyBmb290ZXJcclxuICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgY29uc3QgY3VycmVudFllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG5cclxuICBjb25zdCBoYW5kbGVGb290ZXJZZWFyID0gKCkgPT4ge1xyXG4gICAgZm9vdGVyRGF0ZS50ZXh0Q29udGVudCA9IGN1cnJlbnRZZWFyLnRvU3RyaW5nKCk7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlRm9vdGVyWWVhcigpO1xyXG4gIC8vIE5BVlxyXG5cclxuICBjb25zdCBoYW5kbGVOYXYgPSAoKSA9PiB7XHJcbiAgICBuYXZNb2JpbGUuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgIGJ1cmdlci5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcblxyXG4gICAgYWxsTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xyXG4gICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgbmF2TW9iaWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgYnVyZ2VyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICBjb25zdCBoYW5kbGVBcnJvd1VwID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudFNlY3Rpb24gPSB3aW5kb3cuc2Nyb2xsWTtcclxuICAgIGlmIChjdXJyZW50U2VjdGlvbiA+IDQ4MCkge1xyXG4gICAgICBhcnJvd1VwLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcnJvd1VwLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlT2JzZXJ2ZXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50U2VjdGlvbiA9IHdpbmRvdy5zY3JvbGxZO1xyXG5cclxuICAgIGFsbFNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgICFzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucyhcIndoaXRlLXNlY3Rpb25cIikgJiZcclxuICAgICAgICBzZWN0aW9uLm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIDMwXHJcbiAgICAgICkge1xyXG4gICAgICAgIGFsbEJ1cmdlckJhcnMuZm9yRWFjaCgoYmFyKSA9PiBiYXIuY2xhc3NMaXN0LmFkZChcIndoaXRlLWJ1cmdlclwiKSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJ3aGl0ZS1zZWN0aW9uXCIpICYmXHJcbiAgICAgICAgc2VjdGlvbi5vZmZzZXRUb3AgPD0gY3VycmVudFNlY3Rpb24gKyAxMDBcclxuICAgICAgKSB7XHJcbiAgICAgICAgYWxsQnVyZ2VyQmFycy5mb3JFYWNoKChiYXIpID0+IGJhci5jbGFzc0xpc3QucmVtb3ZlKFwid2hpdGUtYnVyZ2VyXCIpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBoYW5kbGVBcnJvd1VwKCk7XHJcbiAgfTtcclxuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlT2JzZXJ2ZXIpO1xyXG4gIGJ1cmdlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlTmF2KTtcclxuXHJcbiAgLy8gZm9ybSB2YWxpZGF0b3JcclxuXHJcbiAgY29uc3QgY2hlY2tUZWxOdW0gPSAodGVsTnVtKSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZE51bSA9IC9eWzAtOVxcK117OCwxM30kLztcclxuXHJcbiAgICBpZiAodmFsaWROdW0udGVzdCh0ZWxOdW0udmFsdWUpKSB7XHJcbiAgICAgIGNsZWFyRXJyb3IoZXJyb3JNc2dUZWwpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2hvd0Vycm9yKGVycm9yTXNnVGVsLCBcIndwaXN6IHBvcHJhd255IG5yIHRlbC5cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2hlY2tNYWlsID0gKGVtYWlsKSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZE1haWwgPSAvXltcXHctXFwuXStAKFtcXHctXStcXC4pK1tcXHctXXsyLDR9JC87XHJcblxyXG4gICAgaWYgKHZhbGlkTWFpbC50ZXN0KGVtYWlsLnZhbHVlKSkge1xyXG4gICAgICBjbGVhckVycm9yKGVycm9yTXNnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dFcnJvcihlcnJvck1zZywgXCJ3cGlzeiBwb3ByYXdueSBhZHJlcyBlbWFpbC5cIik7XHJcbiAgICB9XHJcbiAgfTtcclxuICBjb25zdCBjbGVhckVycm9yID0gKGVsKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtQm94ID0gZWw7XHJcbiAgICBmb3JtQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvci1kaXNwbGF5XCIpO1xyXG4gICAgZm9ybUJveC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2hvd0Vycm9yID0gKGlucHV0LCBtc2cpID0+IHtcclxuICAgIGNvbnN0IGZvcm1Cb3ggPSBpbnB1dDtcclxuICAgIGZvcm1Cb3guY2xhc3NMaXN0LmFkZChcImVycm9yLWRpc3BsYXlcIik7XHJcbiAgICBmb3JtQm94LnRleHRDb250ZW50ID0gbXNnO1xyXG4gIH07XHJcblxyXG4gIC8vIGV2ZW50IGxpc3RlbmVyc1xyXG4gIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNoZWNrTWFpbChlbWFpbCk7XHJcbiAgICBjaGVja1RlbE51bSh0ZWxOdW0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tIEdBTExFUlkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgY29uc3QgY2Fyb3VzZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcm91c2VsXCIpO1xyXG4gIGNvbnN0IHdvcmtCdG5PbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1vbmVcIik7XHJcbiAgY29uc3Qgd29ya0J0blR3byA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLXR3b1wiKTtcclxuICBjb25zdCB3b3JrQnRuVGhyZWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi10aHJlZVwiKTtcclxuICBjb25zdCB3b3JrQnRuRm91ciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLWZvdXJcIik7XHJcbiAgY29uc3QgaGFpcmN1dEdhbGxlcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnktaGFpcmN1dFwiKTtcclxuICBjb25zdCBjb2xvckdhbGxlcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnktY29sb3JcIik7XHJcbiAgY29uc3QgaW1hZ2VzID0gY2Fyb3VzZWwucXVlcnlTZWxlY3RvckFsbChcIi5pbWdcIik7XHJcbiAgY29uc3QgYXJyb3dJY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYXJyb3dcIik7XHJcbiAgY29uc3QgdGh1bWJuYWlsc0Nhcm91c2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJvdXNlbC10aHVtYm5haWxzXCIpO1xyXG4gIGNvbnN0IHRodW1ibmFpbEltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGh1bWJuYWlsLWltZ1wiKTtcclxuXHJcbiAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlQXJyb3dBY3Rpb24oaWNvbikge1xyXG4gICAgaWYgKGljb24uaWQgPT09IFwibGVmdFwiICYmIGluZGV4ID49IDApIHtcclxuICAgICAgaW5kZXggPSBoYWlyY3V0R2FsbGVyeS5sZW5ndGggLSAxO1xyXG4gICAgfSBlbHNlIGlmIChpY29uLmlkID09PSBcImxlZnRcIiAmJiBpbmRleCA9PT0gMCkge1xyXG4gICAgICBpbmRleCA9IHRodW1ibmFpbEltYWdlcy5sZW5ndGggLSAxO1xyXG4gICAgICBpbmRleC0tO1xyXG4gICAgfSBlbHNlIGlmIChpY29uLmlkID09PSBcInJpZ2h0XCIgJiYgaW5kZXggPCB0aHVtYm5haWxJbWFnZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICBpbmRleCsrO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaW5kZXggPSAwO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlRGlzcGxheUltYWdlKGluZGV4KTtcclxuICAgIGNvbnNvbGUubG9nKGBpbmRleCBwb3N0OiAke2luZGV4fWApO1xyXG4gIH1cclxuXHJcbiAgLy8gZnVuY3Rpb24gaGFuZGxlU3dpcGVUaHVtYm5haWxzKGljb24sIGluZGV4KSB7XHJcbiAgLy8gICBsID0gMjtcclxuXHJcbiAgLy8gICBpZiAoKGljb24uaWQgPT09IFwibGVmdFwiKSA9PT0gbCkge1xyXG4gIC8vICAgICB0aHVtYm5haWxzQ2Fyb3VzZWwuc2Nyb2xsKHtcclxuICAvLyAgICAgICB0b3A6IDAsXHJcbiAgLy8gICAgICAgbGVmdDogLTc4Ljc1LFxyXG4gIC8vICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxyXG4gIC8vICAgICB9KTtcclxuICAvLyAgIH0gZWxzZSBpZiAoKGljb24uaWQgPT09IFwicmlnaHRcIiwgaW5kZXggPT09IGwpKSB7XHJcbiAgLy8gICAgIHRodW1ibmFpbHNDYXJvdXNlbC5zY3JvbGwoe1xyXG4gIC8vICAgICAgIHRvcDogMCxcclxuICAvLyAgICAgICBsZWZ0OiA3OC43NSxcclxuICAvLyAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcclxuICAvLyAgICAgfSk7XHJcbiAgLy8gICB9XHJcbiAgLy8gfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVEaXNwbGF5SW1hZ2UoY3VycmVudEluZGV4KSB7XHJcbiAgICBpbWFnZXMuZm9yRWFjaCgoaW1hZ2UsIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IGluZGV4KSB7XHJcbiAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LmFkZChcInNob3ctaW1hZ2VcIiksIGhhbmRsZUFjdGl2YXRlVGh1bWJuYWlsKGluZGV4KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpbWFnZS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1pbWFnZVwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVBY3RpdmF0ZVRodW1ibmFpbChjdXJyZW50SW5kZXgpIHtcclxuICAgIHRodW1ibmFpbEltYWdlcy5mb3JFYWNoKCh0aHVtYm5haWwsIGluZGV4KSA9PlxyXG4gICAgICBjdXJyZW50SW5kZXggPT09IGluZGV4XHJcbiAgICAgICAgPyB0aHVtYm5haWwuY2xhc3NMaXN0LnJlbW92ZShcInRodW1ibmFpbC1kaXNhYmxlZFwiKVxyXG4gICAgICAgIDogdGh1bWJuYWlsLmNsYXNzTGlzdC5hZGQoXCJ0aHVtYm5haWwtZGlzYWJsZWRcIilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBldmVudCBsaXN0ZW5lcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICB0aHVtYm5haWxJbWFnZXMuZm9yRWFjaCgodGh1bWJuYWlsLCB0aHVtYm5haWxJbmRleCkgPT5cclxuICAgIHRodW1ibmFpbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gKGluZGV4ID0gdGh1bWJuYWlsSW5kZXgpICYmIGhhbmRsZURpc3BsYXlJbWFnZShpbmRleCkpXHJcbiAgKTtcclxuXHJcbiAgYXJyb3dJY29ucy5mb3JFYWNoKChpY29uKSA9PiB7XHJcbiAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBoYW5kbGVBcnJvd0FjdGlvbihpY29uKSk7XHJcbiAgfSk7XHJcblxyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgaWYgKFxyXG4gICAgICAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZ2FsbGVyeVwiKSAmJiBib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImRpc2FibGUtc2Nyb2xsXCIpKSB8fFxyXG4gICAgICBib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImNhcm91c2VsXCIpXHJcbiAgICApIHtcclxuICAgICAgaGFpcmN1dEdhbGxlcnkuY2xhc3NMaXN0LnJlbW92ZShcImRpc3BsYXktZ2FsbGVyeVwiKTtcclxuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcbiAgICAgIG5hdkRlc2t0b3AuY2xhc3NMaXN0LnJlbW92ZShcIm5hdi10cmFuc2l0aW9uXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB3b3JrQnRuT25lLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICB7XHJcbiAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICBoYWlyY3V0R2FsbGVyeS5jbGFzc0xpc3QuYWRkKFwiZGlzcGxheS1nYWxsZXJ5XCIpO1xyXG4gICAgICBuYXZEZXNrdG9wLmNsYXNzTGlzdC5hZGQoXCJuYXYtdHJhbnNpdGlvblwiKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tZmFkZUlOIGFuaW0gLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5jb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcykgPT4ge1xyXG4gIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuY29uc3QgaGlkZGVuRWxlbWVudHNMZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oaWRkZW5cIik7XHJcbmNvbnN0IGhpZGRlbkVsZW1lbnRzUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhpZGRlbi1yaWdodFwiKTtcclxuY29uc3QgaGlkZGVuVmFuaXNoZWRFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGlkZGVuLXZhbmlzaGVkXCIpO1xyXG5oaWRkZW5FbGVtZW50c0xlZnQuZm9yRWFjaCgoZWwpID0+IG9ic2VydmVyLm9ic2VydmUoZWwpKTtcclxuaGlkZGVuRWxlbWVudHNSaWdodC5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xyXG5oaWRkZW5WYW5pc2hlZEVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiBvYnNlcnZlci5vYnNlcnZlKGVsKSk7XHJcbiJdfQ==
