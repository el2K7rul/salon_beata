window.onload=function(){function t(e){e.classList.remove("error-display"),e.textContent=""}function r(e,t){e.classList.add("error-display"),e.textContent=t}var n=document.querySelector(".body"),o=document.querySelector(".burger"),c=document.querySelectorAll(".burger__bars"),s=document.querySelector(".nav"),l=document.querySelector(".nav-desktop"),e=document.querySelectorAll(".nav-mobile__link"),i=document.querySelector(".arrowup"),a=document.querySelector(".footer__bottom--date"),d=document.querySelectorAll(".section"),u=document.querySelector(".error-msg"),m=document.querySelector(".error-msg-tel"),f=document.querySelector(".email"),v=document.querySelector(".telNum"),h=document.querySelector(".submit"),y=(new Date).getFullYear(),a=(a.textContent=y.toString(),window.addEventListener("scroll",function(){var t=window.scrollY;d.forEach(function(e){!e.classList.contains("white-section")&&e.offsetTop<=t+30?c.forEach(function(e){return e.classList.add("white-burger")}):e.classList.contains("white-section")&&e.offsetTop<=t+100&&c.forEach(function(e){return e.classList.remove("white-burger")})}),480<window.scrollY?i.classList.add("active"):i.classList.remove("active")}),o.addEventListener("click",function(){s.classList.toggle("active"),o.classList.toggle("active"),n.classList.toggle("disable-scroll"),e.forEach(function(e){e.addEventListener("click",function(){s.classList.remove("active"),o.classList.remove("active"),n.classList.remove("disable-scroll")})})}),h.addEventListener("click",function(e){e.preventDefault(),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(f.value)?t(u):r(u,"wpisz poprawny adres email."),/^[0-9\+]{8,13}$/.test(v.value)?t(m):r(m,"wpisz poprawny nr tel.")}),document.querySelector(".carousel")),y=document.querySelector(".btn-one"),L=(document.querySelector(".btn-two"),document.querySelector(".btn-three"),document.querySelector(".btn-four"),document.querySelector(".gallery-haircut")),g=(document.querySelector(".gallery-color"),a.querySelectorAll(".img")),h=document.querySelectorAll(".arrow"),b=(document.querySelector(".carousel-thumbnails"),document.querySelectorAll(".thumbnail-img")),S=0;function q(n){g.forEach(function(e,t){var r;n===t?(e.classList.add("show-image"),r=t,b.forEach(function(e,t){return r===t?e.classList.remove("thumbnail-disabled"):e.classList.add("thumbnail-disabled")})):e.classList.remove("show-image")})}b.forEach(function(e,t){return e.addEventListener("click",function(){q(S=t)})}),h.forEach(function(t){t.addEventListener("click",function(){var e;"left"===(e=t).id&&0===S?(S=b.length,S--):"left"===e.id&&0<S?S--:"right"===e.id&&S<b.length-1?S++:S=0,q(S),console.log("index post: ".concat(S))})}),document.addEventListener("click",function(e){(e.target.classList.contains("gallery")&&n.classList.contains("disable-scroll")||n.classList.contains("carousel"))&&(L.classList.remove("display-gallery"),n.classList.remove("disable-scroll"),l.classList.remove("nav-transition"))}),y.addEventListener("click",function(){n.classList.add("disable-scroll"),L.classList.add("display-gallery"),l.classList.add("nav-transition")})};var observer=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&e.target.classList.add("show")})}),hiddenElementsLeft=document.querySelectorAll(".hidden"),hiddenElementsRight=document.querySelectorAll(".hidden-right"),hiddenVanishedElements=document.querySelectorAll(".hidden-vanished");hiddenElementsLeft.forEach(function(e){return observer.observe(e)}),hiddenElementsRight.forEach(function(e){return observer.observe(e)}),hiddenVanishedElements.forEach(function(e){return observer.observe(e)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwiY2xlYXJFcnJvciIsImVsIiwic3VibWl0QnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNob3dFcnJvciIsImlucHV0IiwibXNnIiwiZm9ybUJveCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnVyZ2VyIiwiYm9keSIsImFsbEJ1cmdlckJhcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmF2TW9iaWxlIiwibmF2RGVza3RvcCIsImFycm93VXAiLCJmb290ZXJEYXRlIiwiYWxsU2VjdGlvbnMiLCJlcnJvck1zZyIsImVycm9yTXNnVGVsIiwiZW1haWwiLCJ0ZWxOdW0iLCJjdXJyZW50RGF0ZSIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImluZGV4IiwiY3VycmVudFllYXIiLCJ0b1N0cmluZyIsInZhbGlkTnVtIiwiZm9yRWFjaCIsInNjcm9sbFkiLCJzZWN0aW9uIiwib2Zmc2V0VG9wIiwiYmFyIiwiaGFuZGxlQXJyb3dVcCIsImNvbnRhaW5zIiwiY3VycmVudFNlY3Rpb24iLCJoYW5kbGVOYXYiLCJyZW1vdmUiLCJ0b2dnbGUiLCJhbGxOYXZMaW5rcyIsImxpbmsiLCJ3b3JrQnRuVGhyZWUiLCJ3b3JrQnRuRm91ciIsInRlc3QiLCJoYWlyY3V0R2FsbGVyeSIsInZhbHVlIiwiY29sb3JHYWxsZXJ5Iiwid29ya0J0bk9uZSIsImhhbmRsZUFycm93QWN0aW9uIiwiaWNvbiIsInRodW1ibmFpbEltYWdlcyIsImxlbmd0aCIsImltYWdlcyIsImhhbmRsZURpc3BsYXlJbWFnZSIsImN1cnJlbnRJbmRleCIsImltYWdlIiwidGh1bWJuYWlsIiwidGh1bWJuYWlsSW5kZXgiLCJhcnJvd0ljb25zIiwiaWQiLCJjb25zb2xlIiwibG9nIiwiY29uY2F0Iiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJlbnRyeSIsImhpZGRlblZhbmlzaGVkRWxlbWVudHMiLCJvYnNlcnZlIiwiaGlkZGVuRWxlbWVudHNSaWdodCIsImlzSW50ZXJzZWN0aW5nIiwidGFyZ2V0IiwiaGlkZGVuRWxlbWVudHNMZWZ0Il0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBT0MsT0FBUyxXQThGSyxTQUFiQyxFQUFjQyxHQWFwQkMsRUFBVUMsVUFBQUEsT0FBaUIsZUFBUyxFQUNsQ0MsRUFBRUMsWUFBZ0IsRUFWcEIsQ0FhRSxTQUFBQyxFQUFBQyxFQUFBQyxHQUVGQyxFQUFBQyxVQUFBQyxJQUFBLGVBQUEsRUFWRUYsRUFBUUcsWUFBY0osQ0FZeEIsQ0FuSEZWLElBQU9DLEVBQU1jLFNBQUdDLGNBQVksT0FBQSxFQUMxQkMsRUFBQUYsU0FBQUMsY0FBQSxTQUFBLEVBQ01FLEVBQWdCRixTQUFBQSxpQkFBc0IsZUFBQSxFQUN0Q0MsRUFBU0YsU0FBU0MsY0FBYyxNQUFVLEVBQzFDRyxFQUFhSixTQUFXQyxjQUFDSSxjQUFpQixFQUMxQ0MsRUFBWU4sU0FBU0MsaUJBQXFCLG1CQUFBLEVBQzFDTSxFQUFVUCxTQUFXQyxjQUFjLFVBQUMsRUFFcENPLEVBQVVSLFNBQVNDLGNBQWMsdUJBQVcsRUFFNUNRLEVBQWFULFNBQVNDLGlCQUFjLFVBQUEsRUFDcENTLEVBQVdWLFNBQVdDLGNBQUNJLFlBQWlCLEVBQ3hDTSxFQUFXWCxTQUFTQyxjQUFjLGdCQUFhLEVBQy9DVyxFQUFBQSxTQUFjWixjQUFTQyxRQUFjLEVBQ3JDWSxFQUFRYixTQUFTQyxjQUFjLFNBQVMsRUFDeENhLEVBQVNkLFNBQVNDLGNBQWMsU0FBVSxFQUkxQ2MsR0FETixJQUFBQyxNQUM4QkMsWUFBQSxFQTRHMUJDLEdBeEdGVCxFQUFXVixZQUFjb0IsRUFBWUMsU0FBUyxFQStDaERuQyxPQVFNb0MsaUJBQWNQLFNBdEJMakIsV0FKYixJQU9JTyxFQUFja0IsT0FBUUMsUUFMMUJiLEVBS3FFWSxRQUFBLFNBQUFFLEdBS2pFcEIsQ0FBQUEsRUFBQUEs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LFFBQVEsU0FBQ2xDLEdBQUUsT0FBS3FFLFNBQVNLLFFBQVExRSxDQUFFLENBQUMsQ0FBQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy9zZWxlY3RvcnNcclxuICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ib2R5XCIpO1xyXG4gIGNvbnN0IGJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyXCIpO1xyXG4gIGNvbnN0IGFsbEJ1cmdlckJhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ1cmdlcl9fYmFyc1wiKTtcclxuICBjb25zdCBuYXZNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdlwiKTtcclxuICBjb25zdCBuYXZEZXNrdG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXYtZGVza3RvcFwiKTtcclxuICBjb25zdCBhbGxOYXZMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2LW1vYmlsZV9fbGlua1wiKTtcclxuICBjb25zdCBhcnJvd1VwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnJvd3VwXCIpO1xyXG5cclxuICBjb25zdCBmb290ZXJEYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb290ZXJfX2JvdHRvbS0tZGF0ZVwiKTtcclxuICBjb25zdCBhbGxTZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2VjdGlvblwiKTtcclxuICBjb25zdCBlcnJvck1zZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3ItbXNnXCIpO1xyXG4gIGNvbnN0IGVycm9yTXNnVGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvci1tc2ctdGVsXCIpO1xyXG4gIGNvbnN0IGVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbWFpbFwiKTtcclxuICBjb25zdCB0ZWxOdW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRlbE51bVwiKTtcclxuICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdFwiKTtcclxuXHJcbiAgLy8gZm9vdGVyXHJcbiAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IGN1cnJlbnRZZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRm9vdGVyWWVhciA9ICgpID0+IHtcclxuICAgIGZvb3RlckRhdGUudGV4dENvbnRlbnQgPSBjdXJyZW50WWVhci50b1N0cmluZygpO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZUZvb3RlclllYXIoKTtcclxuICAvLyBOQVZcclxuXHJcbiAgY29uc3QgaGFuZGxlTmF2ID0gKCkgPT4ge1xyXG4gICAgbmF2TW9iaWxlLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICBidXJnZXIuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgIGJvZHkuY2xhc3NMaXN0LnRvZ2dsZShcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG5cclxuICAgIGFsbE5hdkxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcclxuICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIG5hdk1vYmlsZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIGJ1cmdlci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgY29uc3QgaGFuZGxlQXJyb3dVcCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRTZWN0aW9uID0gd2luZG93LnNjcm9sbFk7XHJcbiAgICBpZiAoY3VycmVudFNlY3Rpb24gPiA0ODApIHtcclxuICAgICAgYXJyb3dVcC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXJyb3dVcC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZU9ic2VydmVyID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudFNlY3Rpb24gPSB3aW5kb3cuc2Nyb2xsWTtcclxuXHJcbiAgICBhbGxTZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICAhc2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJ3aGl0ZS1zZWN0aW9uXCIpICYmXHJcbiAgICAgICAgc2VjdGlvbi5vZmZzZXRUb3AgPD0gY3VycmVudFNlY3Rpb24gKyAzMFxyXG4gICAgICApIHtcclxuICAgICAgICBhbGxCdXJnZXJCYXJzLmZvckVhY2goKGJhcikgPT4gYmFyLmNsYXNzTGlzdC5hZGQoXCJ3aGl0ZS1idXJnZXJcIikpO1xyXG4gICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKFwid2hpdGUtc2VjdGlvblwiKSAmJlxyXG4gICAgICAgIHNlY3Rpb24ub2Zmc2V0VG9wIDw9IGN1cnJlbnRTZWN0aW9uICsgMTAwXHJcbiAgICAgICkge1xyXG4gICAgICAgIGFsbEJ1cmdlckJhcnMuZm9yRWFjaCgoYmFyKSA9PiBiYXIuY2xhc3NMaXN0LnJlbW92ZShcIndoaXRlLWJ1cmdlclwiKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaGFuZGxlQXJyb3dVcCgpO1xyXG4gIH07XHJcblxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZU9ic2VydmVyKTtcclxuICBidXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU5hdik7XHJcblxyXG4gIC8vIGZvcm0gdmFsaWRhdG9yXHJcblxyXG4gIGNvbnN0IGNoZWNrVGVsTnVtID0gKHRlbE51bSkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWROdW0gPSAvXlswLTlcXCtdezgsMTN9JC87XHJcblxyXG4gICAgaWYgKHZhbGlkTnVtLnRlc3QodGVsTnVtLnZhbHVlKSkge1xyXG4gICAgICBjbGVhckVycm9yKGVycm9yTXNnVGVsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dFcnJvcihlcnJvck1zZ1RlbCwgXCJ3cGlzeiBwb3ByYXdueSBuciB0ZWwuXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNoZWNrTWFpbCA9IChlbWFpbCkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWRNYWlsID0gL15bXFx3LVxcLl0rQChbXFx3LV0rXFwuKStbXFx3LV17Miw0fSQvO1xyXG5cclxuICAgIGlmICh2YWxpZE1haWwudGVzdChlbWFpbC52YWx1ZSkpIHtcclxuICAgICAgY2xlYXJFcnJvcihlcnJvck1zZyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzaG93RXJyb3IoZXJyb3JNc2csIFwid3Bpc3ogcG9wcmF3bnkgYWRyZXMgZW1haWwuXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgY2xlYXJFcnJvciA9IChlbCkgPT4ge1xyXG4gICAgY29uc3QgZm9ybUJveCA9IGVsO1xyXG4gICAgZm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3ItZGlzcGxheVwiKTtcclxuICAgIGZvcm1Cb3gudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtQm94ID0gaW5wdXQ7XHJcbiAgICBmb3JtQm94LmNsYXNzTGlzdC5hZGQoXCJlcnJvci1kaXNwbGF5XCIpO1xyXG4gICAgZm9ybUJveC50ZXh0Q29udGVudCA9IG1zZztcclxuICB9O1xyXG5cclxuICAvLyBldmVudCBsaXN0ZW5lcnNcclxuICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjaGVja01haWwoZW1haWwpO1xyXG4gICAgY2hlY2tUZWxOdW0odGVsTnVtKTtcclxuICB9KTtcclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLSBHQUxMRVJZIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gIGNvbnN0IGNhcm91c2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJvdXNlbFwiKTtcclxuICBjb25zdCB3b3JrQnRuT25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tb25lXCIpO1xyXG4gIGNvbnN0IHdvcmtCdG5Ud28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi10d29cIik7XHJcbiAgY29uc3Qgd29ya0J0blRocmVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tdGhyZWVcIik7XHJcbiAgY29uc3Qgd29ya0J0bkZvdXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1mb3VyXCIpO1xyXG4gIGNvbnN0IGhhaXJjdXRHYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5LWhhaXJjdXRcIik7XHJcbiAgY29uc3QgY29sb3JHYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5LWNvbG9yXCIpO1xyXG4gIGNvbnN0IGltYWdlcyA9IGNhcm91c2VsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaW1nXCIpO1xyXG4gIGNvbnN0IGFycm93SWNvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFycm93XCIpO1xyXG4gIGNvbnN0IHRodW1ibmFpbHNDYXJvdXNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2Fyb3VzZWwtdGh1bWJuYWlsc1wiKTtcclxuICBjb25zdCB0aHVtYm5haWxJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRodW1ibmFpbC1pbWdcIik7XHJcblxyXG4gIGxldCBpbmRleCA9IDA7XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZUFycm93QWN0aW9uKGljb24pIHtcclxuICAgIGlmIChpY29uLmlkID09PSBcImxlZnRcIiAmJiBpbmRleCA9PT0gMCkge1xyXG4gICAgICBpbmRleCA9IHRodW1ibmFpbEltYWdlcy5sZW5ndGg7XHJcbiAgICAgIGluZGV4LS07XHJcbiAgICB9IGVsc2UgaWYgKGljb24uaWQgPT09IFwibGVmdFwiICYmIGluZGV4ID4gMCkge1xyXG4gICAgICBpbmRleC0tO1xyXG4gICAgfSBlbHNlIGlmIChpY29uLmlkID09PSBcInJpZ2h0XCIgJiYgaW5kZXggPCB0aHVtYm5haWxJbWFnZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICBpbmRleCsrO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaW5kZXggPSAwO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlRGlzcGxheUltYWdlKGluZGV4KTtcclxuICAgIGNvbnNvbGUubG9nKGBpbmRleCBwb3N0OiAke2luZGV4fWApO1xyXG4gIH1cclxuXHJcbiAgLy8gZnVuY3Rpb24gaGFuZGxlU3dpcGVUaHVtYm5haWxzKGljb24sIGluZGV4KSB7XHJcbiAgLy8gICBsID0gMjtcclxuXHJcbiAgLy8gICBpZiAoKGljb24uaWQgPT09IFwibGVmdFwiKSA9PT0gbCkge1xyXG4gIC8vICAgICB0aHVtYm5haWxzQ2Fyb3VzZWwuc2Nyb2xsKHtcclxuICAvLyAgICAgICB0b3A6IDAsXHJcbiAgLy8gICAgICAgbGVmdDogLTc4Ljc1LFxyXG4gIC8vICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxyXG4gIC8vICAgICB9KTtcclxuICAvLyAgIH0gZWxzZSBpZiAoKGljb24uaWQgPT09IFwicmlnaHRcIiwgaW5kZXggPT09IGwpKSB7XHJcbiAgLy8gICAgIHRodW1ibmFpbHNDYXJvdXNlbC5zY3JvbGwoe1xyXG4gIC8vICAgICAgIHRvcDogMCxcclxuICAvLyAgICAgICBsZWZ0OiA3OC43NSxcclxuICAvLyAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcclxuICAvLyAgICAgfSk7XHJcbiAgLy8gICB9XHJcbiAgLy8gfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVEaXNwbGF5SW1hZ2UoY3VycmVudEluZGV4KSB7XHJcbiAgICBpbWFnZXMuZm9yRWFjaCgoaW1hZ2UsIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IGluZGV4KSB7XHJcbiAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LmFkZChcInNob3ctaW1hZ2VcIiksIGhhbmRsZUFjdGl2YXRlVGh1bWJuYWlsKGluZGV4KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpbWFnZS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1pbWFnZVwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVBY3RpdmF0ZVRodW1ibmFpbChjdXJyZW50SW5kZXgpIHtcclxuICAgIHRodW1ibmFpbEltYWdlcy5mb3JFYWNoKCh0aHVtYm5haWwsIGluZGV4KSA9PlxyXG4gICAgICBjdXJyZW50SW5kZXggPT09IGluZGV4XHJcbiAgICAgICAgPyB0aHVtYm5haWwuY2xhc3NMaXN0LnJlbW92ZShcInRodW1ibmFpbC1kaXNhYmxlZFwiKVxyXG4gICAgICAgIDogdGh1bWJuYWlsLmNsYXNzTGlzdC5hZGQoXCJ0aHVtYm5haWwtZGlzYWJsZWRcIilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBldmVudCBsaXN0ZW5lcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICB0aHVtYm5haWxJbWFnZXMuZm9yRWFjaCgodGh1bWJuYWlsLCB0aHVtYm5haWxJbmRleCkgPT5cclxuICAgIHRodW1ibmFpbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAoaW5kZXggPSB0aHVtYm5haWxJbmRleCksIGhhbmRsZURpc3BsYXlJbWFnZShpbmRleCk7XHJcbiAgICB9KVxyXG4gICk7XHJcblxyXG4gIGFycm93SWNvbnMuZm9yRWFjaCgoaWNvbikgPT4ge1xyXG4gICAgaWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gaGFuZGxlQXJyb3dBY3Rpb24oaWNvbikpO1xyXG4gIH0pO1xyXG5cclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGlmIChcclxuICAgICAgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImdhbGxlcnlcIikgJiYgYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJkaXNhYmxlLXNjcm9sbFwiKSkgfHxcclxuICAgICAgYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJvdXNlbFwiKVxyXG4gICAgKSB7XHJcbiAgICAgIGhhaXJjdXRHYWxsZXJ5LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNwbGF5LWdhbGxlcnlcIik7XHJcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICBuYXZEZXNrdG9wLmNsYXNzTGlzdC5yZW1vdmUoXCJuYXYtdHJhbnNpdGlvblwiKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgd29ya0J0bk9uZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAge1xyXG4gICAgICBib2R5LmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlLXNjcm9sbFwiKTtcclxuICAgICAgaGFpcmN1dEdhbGxlcnkuY2xhc3NMaXN0LmFkZChcImRpc3BsYXktZ2FsbGVyeVwiKTtcclxuICAgICAgbmF2RGVza3RvcC5jbGFzc0xpc3QuYWRkKFwibmF2LXRyYW5zaXRpb25cIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWZhZGVJTiBhbmltIC0tLS0tLS0tLS0tLS0tLVxyXG5cclxuY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcclxuICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcbiAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcclxuICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuXHJcbmNvbnN0IGhpZGRlbkVsZW1lbnRzTGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGlkZGVuXCIpO1xyXG5jb25zdCBoaWRkZW5FbGVtZW50c1JpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oaWRkZW4tcmlnaHRcIik7XHJcbmNvbnN0IGhpZGRlblZhbmlzaGVkRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhpZGRlbi12YW5pc2hlZFwiKTtcclxuaGlkZGVuRWxlbWVudHNMZWZ0LmZvckVhY2goKGVsKSA9PiBvYnNlcnZlci5vYnNlcnZlKGVsKSk7XHJcbmhpZGRlbkVsZW1lbnRzUmlnaHQuZm9yRWFjaCgoZWwpID0+IG9ic2VydmVyLm9ic2VydmUoZWwpKTtcclxuaGlkZGVuVmFuaXNoZWRFbGVtZW50cy5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xyXG4iXX0=
