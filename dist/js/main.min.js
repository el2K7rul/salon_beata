window.onload=function(){function t(e){e.classList.remove("error-display"),e.textContent=""}function o(e,t){e.classList.add("error-display"),e.textContent=t}var r=document.querySelector(".body"),n=document.querySelector(".burger"),c=document.querySelectorAll(".burger__bars"),s=document.querySelector(".nav"),i=document.querySelector(".nav-desktop"),e=document.querySelectorAll(".nav-mobile__link"),a=document.querySelector(".arrowup"),d=document.querySelector(".footer__bottom--date"),u=document.querySelectorAll(".section"),m=document.querySelector(".error-msg"),f=document.querySelector(".error-msg-tel"),v=document.querySelector(".email"),h=document.querySelector(".telNum"),y=document.querySelector(".submit"),L=(new Date).getFullYear(),d=(d.textContent=L.toString(),window.addEventListener("scroll",function(){var t=window.scrollY;u.forEach(function(e){!e.classList.contains("white-section")&&e.offsetTop<=t+30?c.forEach(function(e){return e.classList.add("white-burger")}):e.classList.contains("white-section")&&e.offsetTop<=t+100&&c.forEach(function(e){return e.classList.remove("white-burger")})}),480<window.scrollY?a.classList.add("active"):a.classList.remove("active")}),n.addEventListener("click",function(){s.classList.toggle("active"),n.classList.toggle("active"),r.classList.toggle("disable-scroll"),e.forEach(function(e){e.addEventListener("click",function(){s.classList.remove("active"),n.classList.remove("active"),r.classList.remove("disable-scroll")})})}),y.addEventListener("click",function(e){e.preventDefault(),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(v.value)?t(m):o(m,"wpisz poprawny adres email."),/^[0-9\+]{8,13}$/.test(h.value)?t(f):o(f,"wpisz poprawny nr tel.")}),document.querySelector(".carousel")),L=document.querySelector(".btn-one"),b=(document.querySelector(".btn-two"),document.querySelector(".btn-three"),document.querySelector(".btn-four"),document.querySelector(".gallery-haircut")),g=(document.querySelector(".gallery-color"),d.querySelectorAll(".img")),y=document.querySelectorAll(".arrow"),S=document.querySelector(".carousel-thumbnails"),q=document.querySelectorAll(".thumbnail-img"),w=0;function E(e){var t;"left"===e.id&&0<=w?w=b.length-1:"left"===e.id&&0===w?(w=q.length-1,w--):"right"===e.id&&w<q.length-1?w++:w=0,t=w,l=2,"left"===(e=e).id===l?S.scroll({top:0,left:-78.75,behavior:"smooth"}):(e.id,t===l&&S.scroll({top:0,left:78.75,behavior:"smooth"})),p(w),console.log("index post: ".concat(w))}function p(r){g.forEach(function(e,t){var o;r===t?(e.classList.add("show-image"),o=t,q.forEach(function(e,t){return o===t?e.classList.remove("thumbnail-disabled"):e.classList.add("thumbnail-disabled")})):e.classList.remove("show-image")})}q.forEach(function(e,t){return e.addEventListener("click",function(){return(w=t)&&p(w)})}),y.forEach(function(e){e.addEventListener("click",function(){return E(e)})}),document.addEventListener("click",function(e){(e.target.classList.contains("gallery")&&r.classList.contains("disable-scroll")||r.classList.contains("carousel"))&&(b.classList.remove("display-gallery"),r.classList.remove("disable-scroll"),i.classList.remove("nav-transition"))}),L.addEventListener("click",function(){r.classList.add("disable-scroll"),b.classList.add("display-gallery"),i.classList.add("nav-transition")})};var observer=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&e.target.classList.add("show")})}),hiddenElementsLeft=document.querySelectorAll(".hidden"),hiddenElementsRight=document.querySelectorAll(".hidden-right"),hiddenVanishedElements=document.querySelectorAll(".hidden-vanished");hiddenElementsLeft.forEach(function(e){return observer.observe(e)}),hiddenElementsRight.forEach(function(e){return observer.observe(e)}),hiddenVanishedElements.forEach(function(e){return observer.observe(e)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwiY2xlYXJFcnJvciIsImVsIiwiZSIsInByZXZlbnREZWZhdWx0IiwicmVtb3ZlIiwiY2hlY2tNYWlsIiwic2hvd0Vycm9yIiwiaW5wdXQiLCJtc2ciLCJmb3JtQm94IiwiY2xhc3NMaXN0IiwiYWRkIiwiY2Fyb3VzZWwiLCJxdWVyeVNlbGVjdG9yIiwiZG9jdW1lbnQiLCJidXJnZXIiLCJib2R5IiwiYWxsQnVyZ2VyQmFycyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuYXZNb2JpbGUiLCJuYXZEZXNrdG9wIiwiYXJyb3dVcCIsImZvb3RlckRhdGUiLCJhbGxTZWN0aW9ucyIsImVycm9yTXNnIiwiZXJyb3JNc2dUZWwiLCJlbWFpbCIsInRlbE51bSIsImN1cnJlbnREYXRlIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwidGV4dENvbnRlbnQiLCJjdXJyZW50WWVhciIsInRvU3RyaW5nIiwiZm9yRWFjaCIsImN1cnJlbnRTZWN0aW9uIiwic2Nyb2xsWSIsInNlY3Rpb24iLCJiYXIiLCJvZmZzZXRUb3AiLCJjb250YWlucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVPYnNlcnZlciIsInRvZ2dsZSIsImFsbE5hdkxpbmtzIiwibGluayIsInN1Ym1pdEJ0biIsIndvcmtCdG5Gb3VyIiwiaGFpcmN1dEdhbGxlcnkiLCJ0ZXN0IiwiY29sb3JHYWxsZXJ5IiwidmFsdWUiLCJoYW5kbGVBcnJvd0FjdGlvbiIsIndvcmtCdG5PbmUiLCJpbmRleCIsImxlbmd0aCIsInRodW1ibmFpbEltYWdlcyIsImltYWdlcyIsImljb24iLCJ0aHVtYm5haWxzQ2Fyb3VzZWwiLCJoYW5kbGVTd2lwZVRodW1ibmFpbHMiLCJjdXJyZW50SW5kZXgiLCJpZCIsInNjcm9sbCIsImJlaGF2aW9yIiwibCIsImltYWdlIiwibGVmdCIsImhhbmRsZUFjdGl2YXRlVGh1bWJuYWlsIiwidG9wIiwiaGFuZGxlRGlzcGxheUltYWdlIiwiY29uc29sZSIsImxvZyIsImNvbmNhdCIsInRodW1ibmFpbCIsInRodW1ibmFpbEluZGV4IiwiYXJyb3dJY29ucyIsImVudHJpZXMiLCJlbnRyeSIsInRhcmdldCIsImhpZGRlbkVsZW1lbnRzTGVmdCIsImhpZGRlbkVsZW1lbnRzUmlnaHQiLCJvYnNlcnZlciIsIm9ic2VydmUiLCJoaWRkZW5WYW5pc2hlZEVsZW1lbnRzIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJpc0ludGVyc2VjdGluZyJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU9DLE9BQVMsV0EyR2QsU0FBQUMsRUFBQUMsR0FFRUMsRUFBRUMsVUFBZ0JDLE9BQUEsZUFBQSxFQUNsQkMsRUFBQUEsWUFBZ0IsRUFYbEIsQ0FFa0IsU0FBWkMsRUFBYUMsRUFBT0MsR0FFeEJDLEVBQVFDLFVBQVVDLElBQUksZUFBZSxFQWF2Q0YsRUFBTUcsWUFBb0JDLENBQzFCLENBckhGZixJQUFPQyxFQUFNZSxTQUFHRCxjQUFZLE9BQUEsRUFDMUJFLEVBQUFELFNBQUFELGNBQUEsU0FBQSxFQUNNRyxFQUFnQkgsU0FBQUEsaUJBQXNCLGVBQUEsRUFDdENFLEVBQVNELFNBQVNELGNBQWMsTUFBVSxFQUMxQ0ksRUFBYUgsU0FBV0QsY0FBQ0ssY0FBaUIsRUFDMUNDLEVBQVlMLFNBQVNELGlCQUFxQixtQkFBQSxFQUMxQ08sRUFBVU4sU0FBV0QsY0FBYyxVQUFDLEVBRXBDUSxFQUFVUCxTQUFTRCxjQUFjLHVCQUFXLEVBRTVDUyxFQUFhUixTQUFTRCxpQkFBYyxVQUFBLEVBQ3BDVSxFQUFXVCxTQUFXRCxjQUFDSyxZQUFpQixFQUN4Q00sRUFBV1YsU0FBU0QsY0FBYyxnQkFBYSxFQUMvQ1ksRUFBQUEsU0FBY1gsY0FBU0QsUUFBYyxFQUNyQ2EsRUFBUVosU0FBU0QsY0FBYyxTQUFTLEVBQ3hDYyxFQUFTYixTQUFTRCxjQUFjLFNBQVUsRUFJMUNlLEdBRE4sSUFBQUMsTUFDOEJDLFlBQUEsRUErRzlCbEIsR0EzR0VVLEVBQVdTLFlBQWNDLEVBQVlDLFNBQVMsRUFn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LFNBQVcsSUFBSUcscUJBQXFCLFNBQUNSLEdBQ3pDQSxFQUFRM0MsUUFBUSxTQUFDNEMsR0FDWEEsRUFBTVEsZ0JBQ1JSLEVBQU1DLE9BQU9yRSxVQUFVQyxJQUFJLE1BQU0sQ0FFckMsQ0FBQyxDQUNILENBQUMsRUFFS3FFLG1CQUFxQmxFLFNBQVNJLGlCQUFpQixTQUFTLEVBQ3hEK0Qsb0JBQXNCbkUsU0FBU0ksaUJBQWlCLGVBQWUsRUFDL0RrRSx1QkFBeUJ0RSxTQUFTSSxpQkFBaUIsa0JBQWtCLEVBQzNFOEQsbUJBQW1COUMsUUFBUSxTQUFDakMsR0FBRSxPQUFLaUYsU0FBU0MsUUFBUWxGLENBQUUsQ0FBQyxDQUFBLEVBQ3ZEZ0Ysb0JBQW9CL0MsUUFBUSxTQUFDakMsR0FBRSxPQUFLaUYsU0FBU0MsUUFBUWxGLENBQUUsQ0FBQyxDQUFBLEVBQ3hEbUYsdUJBQXVCbEQsUUFBUSxTQUFDakMsR0FBRSxPQUFLaUYsU0FBU0MsUUFBUWxGLENBQUUsQ0FBQyxDQUFBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAvL3NlbGVjdG9yc1xyXG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJvZHlcIik7XHJcbiAgY29uc3QgYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXJnZXJcIik7XHJcbiAgY29uc3QgYWxsQnVyZ2VyQmFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnVyZ2VyX19iYXJzXCIpO1xyXG4gIGNvbnN0IG5hdk1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2XCIpO1xyXG4gIGNvbnN0IG5hdkRlc2t0b3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdi1kZXNrdG9wXCIpO1xyXG4gIGNvbnN0IGFsbE5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXYtbW9iaWxlX19saW5rXCIpO1xyXG4gIGNvbnN0IGFycm93VXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFycm93dXBcIik7XHJcblxyXG4gIGNvbnN0IGZvb3RlckRhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9fYm90dG9tLS1kYXRlXCIpO1xyXG4gIGNvbnN0IGFsbFNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zZWN0aW9uXCIpO1xyXG4gIGNvbnN0IGVycm9yTXNnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvci1tc2dcIik7XHJcbiAgY29uc3QgZXJyb3JNc2dUZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yLW1zZy10ZWxcIik7XHJcbiAgY29uc3QgZW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVtYWlsXCIpO1xyXG4gIGNvbnN0IHRlbE51bSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGVsTnVtXCIpO1xyXG4gIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3VibWl0XCIpO1xyXG5cclxuICAvLyBmb290ZXJcclxuICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgY29uc3QgY3VycmVudFllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpO1xyXG5cclxuICBjb25zdCBoYW5kbGVGb290ZXJZZWFyID0gKCkgPT4ge1xyXG4gICAgZm9vdGVyRGF0ZS50ZXh0Q29udGVudCA9IGN1cnJlbnRZZWFyLnRvU3RyaW5nKCk7XHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlRm9vdGVyWWVhcigpO1xyXG4gIC8vIE5BVlxyXG5cclxuICBjb25zdCBoYW5kbGVOYXYgPSAoKSA9PiB7XHJcbiAgICBuYXZNb2JpbGUuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgIGJ1cmdlci5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcblxyXG4gICAgYWxsTmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xyXG4gICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgbmF2TW9iaWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgYnVyZ2VyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICBjb25zdCBoYW5kbGVBcnJvd1VwID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudFNlY3Rpb24gPSB3aW5kb3cuc2Nyb2xsWTtcclxuICAgIGlmIChjdXJyZW50U2VjdGlvbiA+IDQ4MCkge1xyXG4gICAgICBhcnJvd1VwLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcnJvd1VwLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgICBcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVPYnNlcnZlciA9ICgpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRTZWN0aW9uID0gd2luZG93LnNjcm9sbFk7XHJcblxyXG4gICAgYWxsU2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgIXNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKFwid2hpdGUtc2VjdGlvblwiKSAmJlxyXG4gICAgICAgIHNlY3Rpb24ub2Zmc2V0VG9wIDw9IGN1cnJlbnRTZWN0aW9uICsgMzBcclxuICAgICAgKSB7XHJcbiAgICAgICAgYWxsQnVyZ2VyQmFycy5mb3JFYWNoKChiYXIpID0+IGJhci5jbGFzc0xpc3QuYWRkKFwid2hpdGUtYnVyZ2VyXCIpKTtcclxuICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucyhcIndoaXRlLXNlY3Rpb25cIikgJiZcclxuICAgICAgICBzZWN0aW9uLm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIDEwMFxyXG4gICAgICApIHtcclxuICAgICAgICBhbGxCdXJnZXJCYXJzLmZvckVhY2goKGJhcikgPT4gYmFyLmNsYXNzTGlzdC5yZW1vdmUoXCJ3aGl0ZS1idXJnZXJcIikpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGhhbmRsZUFycm93VXAoKTtcclxuICB9O1xyXG5cclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLGhhbmRsZU9ic2VydmVyKTtcclxuICBidXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU5hdik7XHJcblxyXG4gIC8vIGZvcm0gdmFsaWRhdG9yXHJcblxyXG4gIGNvbnN0IGNoZWNrVGVsTnVtID0gKHRlbE51bSkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWROdW0gPSAvXlswLTlcXCtdezgsMTN9JC87XHJcblxyXG4gICAgaWYgKHZhbGlkTnVtLnRlc3QodGVsTnVtLnZhbHVlKSkge1xyXG4gICAgICBjbGVhckVycm9yKGVycm9yTXNnVGVsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dFcnJvcihlcnJvck1zZ1RlbCwgXCJ3cGlzeiBwb3ByYXdueSBuciB0ZWwuXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNoZWNrTWFpbCA9IChlbWFpbCkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWRNYWlsID0gL15bXFx3LVxcLl0rQChbXFx3LV0rXFwuKStbXFx3LV17Miw0fSQvO1xyXG5cclxuICAgIGlmICh2YWxpZE1haWwudGVzdChlbWFpbC52YWx1ZSkpIHtcclxuICAgICAgY2xlYXJFcnJvcihlcnJvck1zZyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzaG93RXJyb3IoZXJyb3JNc2csIFwid3Bpc3ogcG9wcmF3bnkgYWRyZXMgZW1haWwuXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgY2xlYXJFcnJvciA9IChlbCkgPT4ge1xyXG4gICAgY29uc3QgZm9ybUJveCA9IGVsO1xyXG4gICAgZm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3ItZGlzcGxheVwiKTtcclxuICAgIGZvcm1Cb3gudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtQm94ID0gaW5wdXQ7XHJcbiAgICBmb3JtQm94LmNsYXNzTGlzdC5hZGQoXCJlcnJvci1kaXNwbGF5XCIpO1xyXG4gICAgZm9ybUJveC50ZXh0Q29udGVudCA9IG1zZztcclxuICB9O1xyXG5cclxuICAvLyBldmVudCBsaXN0ZW5lcnNcclxuICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjaGVja01haWwoZW1haWwpO1xyXG4gICAgY2hlY2tUZWxOdW0odGVsTnVtKTtcclxuICB9KTtcclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLSBHQUxMRVJZIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gIGNvbnN0IGNhcm91c2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJvdXNlbFwiKTtcclxuICBjb25zdCB3b3JrQnRuT25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tb25lXCIpO1xyXG4gIGNvbnN0IHdvcmtCdG5Ud28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi10d29cIik7XHJcbiAgY29uc3Qgd29ya0J0blRocmVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tdGhyZWVcIik7XHJcbiAgY29uc3Qgd29ya0J0bkZvdXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1mb3VyXCIpO1xyXG4gIGNvbnN0IGhhaXJjdXRHYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5LWhhaXJjdXRcIik7XHJcbiAgY29uc3QgY29sb3JHYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5LWNvbG9yXCIpO1xyXG4gIGNvbnN0IGltYWdlcyA9IGNhcm91c2VsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaW1nXCIpO1xyXG4gIGNvbnN0IGFycm93SWNvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFycm93XCIpO1xyXG4gIGNvbnN0IHRodW1ibmFpbHNDYXJvdXNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2Fyb3VzZWwtdGh1bWJuYWlsc1wiKTtcclxuICBjb25zdCB0aHVtYm5haWxJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRodW1ibmFpbC1pbWdcIik7XHJcblxyXG4gIGxldCBpbmRleCA9IDA7XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZUFycm93QWN0aW9uKGljb24pIHtcclxuICAgIC8vIGhhbmRsZVN3aXBlVGh1bWJuYWlscyhpY29uLCBpbmRleCk7XHJcbiAgICBpZiAoaWNvbi5pZCA9PT0gXCJsZWZ0XCIgJiYgaW5kZXggPj0gMCkge1xyXG4gICAgICBpbmRleCA9IGhhaXJjdXRHYWxsZXJ5Lmxlbmd0aCAtIDE7XHJcbiAgICB9IGVsc2UgaWYgKGljb24uaWQgPT09IFwibGVmdFwiICYmIGluZGV4ID09PSAwKSB7XHJcbiAgICAgIGluZGV4ID0gdGh1bWJuYWlsSW1hZ2VzLmxlbmd0aCAtIDE7XHJcbiAgICAgIGluZGV4LS07XHJcbiAgICB9IGVsc2UgaWYgKGljb24uaWQgPT09IFwicmlnaHRcIiAmJiBpbmRleCA8IHRodW1ibmFpbEltYWdlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgIGluZGV4Kys7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpbmRleCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU3dpcGVUaHVtYm5haWxzKGljb24sIGluZGV4KTtcclxuICAgIGhhbmRsZURpc3BsYXlJbWFnZShpbmRleCk7XHJcbiAgICBjb25zb2xlLmxvZyhgaW5kZXggcG9zdDogJHtpbmRleH1gKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZVN3aXBlVGh1bWJuYWlscyhpY29uLCBpbmRleCkge1xyXG4gICAgbCA9IDI7XHJcblxyXG4gICAgaWYgKChpY29uLmlkID09PSBcImxlZnRcIikgPT09IGwpIHtcclxuICAgICAgdGh1bWJuYWlsc0Nhcm91c2VsLnNjcm9sbCh7XHJcbiAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgIGxlZnQ6IC03OC43NSxcclxuICAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2UgaWYgKChpY29uLmlkID09PSBcInJpZ2h0XCIsIGluZGV4ID09PSBsKSkge1xyXG4gICAgICB0aHVtYm5haWxzQ2Fyb3VzZWwuc2Nyb2xsKHtcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgbGVmdDogNzguNzUsXHJcbiAgICAgICAgYmVoYXZpb3I6IFwic21vb3RoXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlRGlzcGxheUltYWdlKGN1cnJlbnRJbmRleCkge1xyXG4gICAgaW1hZ2VzLmZvckVhY2goKGltYWdlLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoY3VycmVudEluZGV4ID09PSBpbmRleCkge1xyXG4gICAgICAgIGltYWdlLmNsYXNzTGlzdC5hZGQoXCJzaG93LWltYWdlXCIpLCBoYW5kbGVBY3RpdmF0ZVRodW1ibmFpbChpbmRleCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LnJlbW92ZShcInNob3ctaW1hZ2VcIik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlQWN0aXZhdGVUaHVtYm5haWwoY3VycmVudEluZGV4KSB7XHJcbiAgICB0aHVtYm5haWxJbWFnZXMuZm9yRWFjaCgodGh1bWJuYWlsLCBpbmRleCkgPT5cclxuICAgICAgY3VycmVudEluZGV4ID09PSBpbmRleFxyXG4gICAgICAgID8gdGh1bWJuYWlsLmNsYXNzTGlzdC5yZW1vdmUoXCJ0aHVtYm5haWwtZGlzYWJsZWRcIilcclxuICAgICAgICA6IHRodW1ibmFpbC5jbGFzc0xpc3QuYWRkKFwidGh1bWJuYWlsLWRpc2FibGVkXCIpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gZXZlbnQgbGlzdGVuZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgdGh1bWJuYWlsSW1hZ2VzLmZvckVhY2goKHRodW1ibmFpbCwgdGh1bWJuYWlsSW5kZXgpID0+XHJcbiAgICB0aHVtYm5haWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IChpbmRleCA9IHRodW1ibmFpbEluZGV4KSAmJiBoYW5kbGVEaXNwbGF5SW1hZ2UoaW5kZXgpKVxyXG4gICk7XHJcblxyXG4gIGFycm93SWNvbnMuZm9yRWFjaCgoaWNvbikgPT4ge1xyXG4gICAgaWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gaGFuZGxlQXJyb3dBY3Rpb24oaWNvbikpO1xyXG4gIH0pO1xyXG5cclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgIGlmIChcclxuICAgICAgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImdhbGxlcnlcIikgJiYgYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJkaXNhYmxlLXNjcm9sbFwiKSkgfHxcclxuICAgICAgYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJvdXNlbFwiKVxyXG4gICAgKSB7XHJcbiAgICAgIGhhaXJjdXRHYWxsZXJ5LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNwbGF5LWdhbGxlcnlcIik7XHJcbiAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICBuYXZEZXNrdG9wLmNsYXNzTGlzdC5yZW1vdmUoXCJuYXYtdHJhbnNpdGlvblwiKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgd29ya0J0bk9uZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAge1xyXG4gICAgICBib2R5LmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlLXNjcm9sbFwiKTtcclxuICAgICAgaGFpcmN1dEdhbGxlcnkuY2xhc3NMaXN0LmFkZChcImRpc3BsYXktZ2FsbGVyeVwiKTtcclxuICAgICAgbmF2RGVza3RvcC5jbGFzc0xpc3QuYWRkKFwibmF2LXRyYW5zaXRpb25cIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWZhZGVJTiBhbmltIC0tLS0tLS0tLS0tLS0tLVxyXG5cclxuY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcclxuICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcbiAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcclxuICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuXHJcbmNvbnN0IGhpZGRlbkVsZW1lbnRzTGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGlkZGVuXCIpO1xyXG5jb25zdCBoaWRkZW5FbGVtZW50c1JpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oaWRkZW4tcmlnaHRcIik7XHJcbmNvbnN0IGhpZGRlblZhbmlzaGVkRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhpZGRlbi12YW5pc2hlZFwiKTtcclxuaGlkZGVuRWxlbWVudHNMZWZ0LmZvckVhY2goKGVsKSA9PiBvYnNlcnZlci5vYnNlcnZlKGVsKSk7XHJcbmhpZGRlbkVsZW1lbnRzUmlnaHQuZm9yRWFjaCgoZWwpID0+IG9ic2VydmVyLm9ic2VydmUoZWwpKTtcclxuaGlkZGVuVmFuaXNoZWRFbGVtZW50cy5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xyXG4iXX0=
