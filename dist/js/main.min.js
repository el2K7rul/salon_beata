window.onload=function(){function t(e){e.classList.remove("error-display"),e.textContent=""}function o(e,t){e.classList.add("error-display"),e.textContent=t}var r=document.querySelector(".body"),n=document.querySelector(".burger"),c=document.querySelectorAll(".burger__bars"),s=document.querySelector(".nav"),i=document.querySelector(".nav-desktop"),e=document.querySelectorAll(".nav-mobile__link"),a=document.querySelector(".arrowup"),d=document.querySelector(".footer__bottom--date"),u=document.querySelectorAll(".section"),m=document.querySelector(".error-msg"),f=document.querySelector(".error-msg-tel"),v=document.querySelector(".email"),h=document.querySelector(".telNum"),y=document.querySelector(".submit"),L=(new Date).getFullYear(),d=(d.textContent=L.toString(),window.addEventListener("scroll",function(){var t=window.scrollY;u.forEach(function(e){!e.classList.contains("white-section")&&e.offsetTop<=t+30?c.forEach(function(e){return e.classList.add("white-burger")}):e.classList.contains("white-section")&&e.offsetTop<=t+30&&c.forEach(function(e){return e.classList.remove("white-burger")})}),480<window.scrollY?a.classList.add("active"):a.classList.remove("active")}),n.addEventListener("click",function(){s.classList.toggle("active"),n.classList.toggle("active"),r.classList.toggle("disable-scroll"),e.forEach(function(e){e.addEventListener("click",function(){s.classList.remove("active"),n.classList.remove("active"),r.classList.remove("disable-scroll")})})}),y.addEventListener("click",function(e){e.preventDefault(),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(v.value)?t(m):o(m,"wpisz poprawny adres email."),/^[0-9\+]{8,13}$/.test(h.value)?t(f):o(f,"wpisz poprawny nr tel.")}),document.querySelector(".carousel")),L=document.querySelector(".btn-one"),b=(document.querySelector(".btn-two"),document.querySelector(".btn-three"),document.querySelector(".btn-four"),document.querySelector(".gallery-haircut")),g=d.querySelectorAll(".img"),y=document.querySelectorAll(".arrow"),S=document.querySelector(".carousel-thumbnails"),q=document.querySelectorAll(".thumbnail-img"),w=0;function E(e){var t;"left"===e.id&&0<w?w--:"left"===e.id&&0===w?(w=q.length-1,w--):"right"===e.id&&w<q.length-1?w++:w=0,t=w,l=2,"left"===(e=e).id===l?S.scroll({top:0,left:-78.75,behavior:"smooth"}):(e.id,t===l&&S.scroll({top:0,left:78.75,behavior:"smooth"})),p(w),console.log("index post: ".concat(w))}function p(r){g.forEach(function(e,t){var o;r===t?(e.classList.add("show-image"),o=t,q.forEach(function(e,t){return o===t?e.classList.remove("thumbnail-disabled"):e.classList.add("thumbnail-disabled")})):e.classList.remove("show-image")})}q.forEach(function(e,t){return e.addEventListener("click",function(){return(w=t)&&p(w)})}),y.forEach(function(e){e.addEventListener("click",function(){return E(e)})}),document.addEventListener("click",function(e){(e.target.classList.contains("gallery")&&r.classList.contains("disable-scroll")||r.classList.contains("carousel"))&&(b.classList.remove("display-gallery"),r.classList.remove("disable-scroll"),i.classList.remove("nav-transition"))}),L.addEventListener("click",function(){r.classList.add("disable-scroll"),b.classList.add("display-gallery"),i.classList.add("nav-transition")})};var observer=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&e.target.classList.add("show")})}),hiddenElementsLeft=document.querySelectorAll(".hidden"),hiddenElementsRight=document.querySelectorAll(".hidden-right"),hiddenVanishedElements=document.querySelectorAll(".hidden-vanished");hiddenElementsLeft.forEach(function(e){return observer.observe(e)}),hiddenElementsRight.forEach(function(e){return observer.observe(e)}),hiddenVanishedElements.forEach(function(e){return observer.observe(e)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwiY2xlYXJFcnJvciIsImVsIiwiZSIsInByZXZlbnREZWZhdWx0IiwicmVtb3ZlIiwiY2hlY2tNYWlsIiwic2hvd0Vycm9yIiwiaW5wdXQiLCJtc2ciLCJmb3JtQm94IiwiY2xhc3NMaXN0IiwiYWRkIiwiY2Fyb3VzZWwiLCJxdWVyeVNlbGVjdG9yIiwiZG9jdW1lbnQiLCJidXJnZXIiLCJib2R5IiwiYWxsQnVyZ2VyQmFycyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuYXZNb2JpbGUiLCJuYXZEZXNrdG9wIiwiYXJyb3dVcCIsImZvb3RlckRhdGUiLCJhbGxTZWN0aW9ucyIsImVycm9yTXNnIiwiZXJyb3JNc2dUZWwiLCJlbWFpbCIsInRlbE51bSIsImN1cnJlbnREYXRlIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwidGV4dENvbnRlbnQiLCJjdXJyZW50WWVhciIsInRvU3RyaW5nIiwiZm9yRWFjaCIsImN1cnJlbnRTZWN0aW9uIiwic2Nyb2xsWSIsInNlY3Rpb24iLCJiYXIiLCJvZmZzZXRUb3AiLCJjb250YWlucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVPYnNlcnZlciIsInRvZ2dsZSIsImFsbE5hdkxpbmtzIiwibGluayIsInN1Ym1pdEJ0biIsIndvcmtCdG5Gb3VyIiwiaGFpcmN1dEdhbGxlcnkiLCJ0ZXN0IiwidmFsdWUiLCJpY29uIiwiaW5kZXgiLCJ0aHVtYm5haWxJbWFnZXMiLCJsZW5ndGgiLCJpbWFnZXMiLCJ0aHVtYm5haWxzQ2Fyb3VzZWwiLCJoYW5kbGVTd2lwZVRodW1ibmFpbHMiLCJoYW5kbGVBcnJvd0FjdGlvbiIsImN1cnJlbnRJbmRleCIsImlkIiwic2Nyb2xsIiwiYmVoYXZpb3IiLCJsIiwiaW1hZ2UiLCJsZWZ0IiwiaGFuZGxlQWN0aXZhdGVUaHVtYm5haWwiLCJ0b3AiLCJoYW5kbGVEaXNwbGF5SW1hZ2UiLCJjb25zb2xlIiwibG9nIiwiY29uY2F0IiwidGh1bWJuYWlsIiwidGh1bWJuYWlsSW5kZXgiLCJhcnJvd0ljb25zIiwiZW50cmllcyIsImVudHJ5IiwidGFyZ2V0IiwiaGlkZGVuRWxlbWVudHNMZWZ0IiwiaGlkZGVuRWxlbWVudHNSaWdodCIsIndvcmtCdG5PbmUiLCJvYnNlcnZlciIsIm9ic2VydmUiLCJoaWRkZW5WYW5pc2hlZEVsZW1lbnRzIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJpc0ludGVyc2VjdGluZyJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU9DLE9BQVMsV0EyR2QsU0FBQUMsRUFBQUMsR0FFRUMsRUFBRUMsVUFBZ0JDLE9BQUEsZUFBQSxFQUNsQkMsRUFBQUEsWUFBZ0IsRUFYbEIsQ0FFa0IsU0FBWkMsRUFBYUMsRUFBT0MsR0FFeEJDLEVBQVFDLFVBQVVDLElBQUksZUFBZSxFQWF2Q0YsRUFBTUcsWUFBb0JDLENBQzFCLENBckhGZixJQUFPQyxFQUFNZSxTQUFHRCxjQUFZLE9BQUEsRUFDMUJFLEVBQUFELFNBQUFELGNBQUEsU0FBQSxFQUNNRyxFQUFnQkgsU0FBQUEsaUJBQXNCLGVBQUEsRUFDdENFLEVBQVNELFNBQVNELGNBQWMsTUFBVSxFQUMxQ0ksRUFBYUgsU0FBV0QsY0FBQ0ssY0FBaUIsRUFDMUNDLEVBQVlMLFNBQVNELGlCQUFxQixtQkFBQSxFQUMxQ08sRUFBVU4sU0FBV0QsY0FBYyxVQUFDLEVBRXBDUSxFQUFVUCxTQUFTRCxjQUFjLHVCQUFXLEVBRTVDUyxFQUFhUixTQUFTRCxpQkFBYyxVQUFBLEVBQ3BDVSxFQUFXVCxTQUFXRCxjQUFDSyxZQUFpQixFQUN4Q00sRUFBV1YsU0FBU0QsY0FBYyxnQkFBYSxFQUMvQ1ksRUFBQUEsU0FBY1gsY0FBU0QsUUFBYyxFQUNyQ2EsRUFBUVosU0FBU0QsY0FBYyxTQUFTLEVBQ3hDYyxFQUFTYixTQUFTRCxjQUFjLFNBQVUsRUFJMUNlLEdBRE4sSUFBQUMsTUFDOEJDLFlBQUEsRUErRzVCbEIsR0EzR0FVLEVBQVdTLFlBQWNDLEVBQVlDLFNBQVMsRUFnRGhEbkMsT0FTSUUsaUJB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LEVBQU1TLGdCQUNSVCxFQUFNQyxPQUFPbkUsVUFBVUMsSUFBSSxNQUFNLENBRXJDLENBQUMsQ0FDSCxDQUFDLEVBRUttRSxtQkFBcUJoRSxTQUFTSSxpQkFBaUIsU0FBUyxFQUN4RDZELG9CQUFzQmpFLFNBQVNJLGlCQUFpQixlQUFlLEVBQy9EaUUsdUJBQXlCckUsU0FBU0ksaUJBQWlCLGtCQUFrQixFQUMzRTRELG1CQUFtQjVDLFFBQVEsU0FBQ2pDLEdBQUUsT0FBS2dGLFNBQVNDLFFBQVFqRixDQUFFLENBQUMsQ0FBQSxFQUN2RDhFLG9CQUFvQjdDLFFBQVEsU0FBQ2pDLEdBQUUsT0FBS2dGLFNBQVNDLFFBQVFqRixDQUFFLENBQUMsQ0FBQSxFQUN4RGtGLHVCQUF1QmpELFFBQVEsU0FBQ2pDLEdBQUUsT0FBS2dGLFNBQVNDLFFBQVFqRixDQUFFLENBQUMsQ0FBQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy9zZWxlY3RvcnNcclxuICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ib2R5XCIpO1xyXG4gIGNvbnN0IGJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyXCIpO1xyXG4gIGNvbnN0IGFsbEJ1cmdlckJhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ1cmdlcl9fYmFyc1wiKTtcclxuICBjb25zdCBuYXZNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdlwiKTtcclxuICBjb25zdCBuYXZEZXNrdG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXYtZGVza3RvcFwiKTtcclxuICBjb25zdCBhbGxOYXZMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2LW1vYmlsZV9fbGlua1wiKTtcclxuICBjb25zdCBhcnJvd1VwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnJvd3VwXCIpO1xyXG5cclxuICBjb25zdCBmb290ZXJEYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb290ZXJfX2JvdHRvbS0tZGF0ZVwiKTtcclxuICBjb25zdCBhbGxTZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2VjdGlvblwiKTtcclxuICBjb25zdCBlcnJvck1zZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3ItbXNnXCIpO1xyXG4gIGNvbnN0IGVycm9yTXNnVGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvci1tc2ctdGVsXCIpO1xyXG4gIGNvbnN0IGVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbWFpbFwiKTtcclxuICBjb25zdCB0ZWxOdW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRlbE51bVwiKTtcclxuICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdFwiKTtcclxuXHJcbiAgLy8gZm9vdGVyXHJcbiAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IGN1cnJlbnRZZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRm9vdGVyWWVhciA9ICgpID0+IHtcclxuICAgIGZvb3RlckRhdGUudGV4dENvbnRlbnQgPSBjdXJyZW50WWVhci50b1N0cmluZygpO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZUZvb3RlclllYXIoKTtcclxuICAvLyBOQVZcclxuXHJcbiAgY29uc3QgaGFuZGxlTmF2ID0gKCkgPT4ge1xyXG4gICAgbmF2TW9iaWxlLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICBidXJnZXIuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgIGJvZHkuY2xhc3NMaXN0LnRvZ2dsZShcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG5cclxuICAgIGFsbE5hdkxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcclxuICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIG5hdk1vYmlsZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIGJ1cmdlci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgY29uc3QgaGFuZGxlQXJyb3dVcCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRTZWN0aW9uID0gd2luZG93LnNjcm9sbFk7XHJcbiAgICBpZiAoY3VycmVudFNlY3Rpb24gPiA0ODApIHtcclxuICAgICAgYXJyb3dVcC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXJyb3dVcC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlT2JzZXJ2ZXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50U2VjdGlvbiA9IHdpbmRvdy5zY3JvbGxZO1xyXG5cclxuICAgIGFsbFNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgICFzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucyhcIndoaXRlLXNlY3Rpb25cIikgJiZcclxuICAgICAgICBzZWN0aW9uLm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIDMwXHJcbiAgICAgICkge1xyXG4gICAgICAgIGFsbEJ1cmdlckJhcnMuZm9yRWFjaCgoYmFyKSA9PiBiYXIuY2xhc3NMaXN0LmFkZChcIndoaXRlLWJ1cmdlclwiKSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJ3aGl0ZS1zZWN0aW9uXCIpICYmXHJcbiAgICAgICAgc2VjdGlvbi5vZmZzZXRUb3AgPD0gY3VycmVudFNlY3Rpb24gKyAzMFxyXG4gICAgICApIHtcclxuICAgICAgICBhbGxCdXJnZXJCYXJzLmZvckVhY2goKGJhcikgPT4gYmFyLmNsYXNzTGlzdC5yZW1vdmUoXCJ3aGl0ZS1idXJnZXJcIikpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGhhbmRsZUFycm93VXAoKTtcclxuICB9O1xyXG5cclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLGhhbmRsZU9ic2VydmVyKTtcclxuICBidXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU5hdik7XHJcblxyXG4gIC8vIGZvcm0gdmFsaWRhdG9yXHJcblxyXG4gIGNvbnN0IGNoZWNrVGVsTnVtID0gKHRlbE51bSkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWROdW0gPSAvXlswLTlcXCtdezgsMTN9JC87XHJcblxyXG4gICAgaWYgKHZhbGlkTnVtLnRlc3QodGVsTnVtLnZhbHVlKSkge1xyXG4gICAgICBjbGVhckVycm9yKGVycm9yTXNnVGVsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dFcnJvcihlcnJvck1zZ1RlbCwgXCJ3cGlzeiBwb3ByYXdueSBuciB0ZWwuXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNoZWNrTWFpbCA9IChlbWFpbCkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWRNYWlsID0gL15bXFx3LVxcLl0rQChbXFx3LV0rXFwuKStbXFx3LV17Miw0fSQvO1xyXG5cclxuICAgIGlmICh2YWxpZE1haWwudGVzdChlbWFpbC52YWx1ZSkpIHtcclxuICAgICAgY2xlYXJFcnJvcihlcnJvck1zZyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzaG93RXJyb3IoZXJyb3JNc2csIFwid3Bpc3ogcG9wcmF3bnkgYWRyZXMgZW1haWwuXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgY2xlYXJFcnJvciA9IChlbCkgPT4ge1xyXG4gICAgY29uc3QgZm9ybUJveCA9IGVsO1xyXG4gICAgZm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3ItZGlzcGxheVwiKTtcclxuICAgIGZvcm1Cb3gudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtQm94ID0gaW5wdXQ7XHJcbiAgICBmb3JtQm94LmNsYXNzTGlzdC5hZGQoXCJlcnJvci1kaXNwbGF5XCIpO1xyXG4gICAgZm9ybUJveC50ZXh0Q29udGVudCA9IG1zZztcclxuICB9O1xyXG5cclxuICAvLyBldmVudCBsaXN0ZW5lcnNcclxuICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjaGVja01haWwoZW1haWwpO1xyXG4gICAgY2hlY2tUZWxOdW0odGVsTnVtKTtcclxuICB9KTtcclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLSBHQUxMRVJZIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gIGNvbnN0IGNhcm91c2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJvdXNlbFwiKTtcclxuICBjb25zdCB3b3JrQnRuT25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tb25lXCIpO1xyXG4gIGNvbnN0IHdvcmtCdG5Ud28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi10d29cIik7XHJcbiAgY29uc3Qgd29ya0J0blRocmVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tdGhyZWVcIik7XHJcbiAgY29uc3Qgd29ya0J0bkZvdXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1mb3VyXCIpO1xyXG4gIGNvbnN0IGhhaXJjdXRHYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5LWhhaXJjdXRcIik7XHJcbiAgY29uc3QgaW1hZ2VzID0gY2Fyb3VzZWwucXVlcnlTZWxlY3RvckFsbChcIi5pbWdcIik7XHJcbiAgY29uc3QgYXJyb3dJY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYXJyb3dcIik7XHJcbiAgY29uc3QgdGh1bWJuYWlsc0Nhcm91c2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJvdXNlbC10aHVtYm5haWxzXCIpO1xyXG4gIGNvbnN0IHRodW1ibmFpbEltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGh1bWJuYWlsLWltZ1wiKTtcclxuXHJcbiAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlQXJyb3dBY3Rpb24oaWNvbikge1xyXG4gICAgLy8gaGFuZGxlU3dpcGVUaHVtYm5haWxzKGljb24sIGluZGV4KTtcclxuICAgIGlmIChpY29uLmlkID09PSBcImxlZnRcIiAmJiBpbmRleCA+IDApIHtcclxuICAgICAgaW5kZXgtLTtcclxuICAgIH0gZWxzZSBpZiAoaWNvbi5pZCA9PT0gXCJsZWZ0XCIgJiYgaW5kZXggPT09IDApIHtcclxuICAgICAgaW5kZXggPSB0aHVtYm5haWxJbWFnZXMubGVuZ3RoIC0gMTtcclxuICAgICAgaW5kZXgtLTtcclxuICAgIH0gZWxzZSBpZiAoaWNvbi5pZCA9PT0gXCJyaWdodFwiICYmIGluZGV4IDwgdGh1bWJuYWlsSW1hZ2VzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgaW5kZXgrKztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGluZGV4ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTd2lwZVRodW1ibmFpbHMoaWNvbiwgaW5kZXgpO1xyXG4gICAgaGFuZGxlRGlzcGxheUltYWdlKGluZGV4KTtcclxuICAgIGNvbnNvbGUubG9nKGBpbmRleCBwb3N0OiAke2luZGV4fWApO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlU3dpcGVUaHVtYm5haWxzKGljb24sIGluZGV4KSB7XHJcbiAgICBsID0gMjtcclxuXHJcbiAgICBpZiAoKGljb24uaWQgPT09IFwibGVmdFwiKSA9PT0gbCkge1xyXG4gICAgICB0aHVtYm5haWxzQ2Fyb3VzZWwuc2Nyb2xsKHtcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgbGVmdDogLTc4Ljc1LFxyXG4gICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoKGljb24uaWQgPT09IFwicmlnaHRcIiwgaW5kZXggPT09IGwpKSB7XHJcbiAgICAgIHRodW1ibmFpbHNDYXJvdXNlbC5zY3JvbGwoe1xyXG4gICAgICAgIHRvcDogMCxcclxuICAgICAgICBsZWZ0OiA3OC43NSxcclxuICAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVEaXNwbGF5SW1hZ2UoY3VycmVudEluZGV4KSB7XHJcbiAgICBpbWFnZXMuZm9yRWFjaCgoaW1hZ2UsIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IGluZGV4KSB7XHJcbiAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LmFkZChcInNob3ctaW1hZ2VcIiksIGhhbmRsZUFjdGl2YXRlVGh1bWJuYWlsKGluZGV4KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpbWFnZS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1pbWFnZVwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVBY3RpdmF0ZVRodW1ibmFpbChjdXJyZW50SW5kZXgpIHtcclxuICAgIHRodW1ibmFpbEltYWdlcy5mb3JFYWNoKCh0aHVtYm5haWwsIGluZGV4KSA9PlxyXG4gICAgICBjdXJyZW50SW5kZXggPT09IGluZGV4XHJcbiAgICAgICAgPyB0aHVtYm5haWwuY2xhc3NMaXN0LnJlbW92ZShcInRodW1ibmFpbC1kaXNhYmxlZFwiKVxyXG4gICAgICAgIDogdGh1bWJuYWlsLmNsYXNzTGlzdC5hZGQoXCJ0aHVtYm5haWwtZGlzYWJsZWRcIilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBldmVudCBsaXN0ZW5lcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICB0aHVtYm5haWxJbWFnZXMuZm9yRWFjaCgodGh1bWJuYWlsLCB0aHVtYm5haWxJbmRleCkgPT5cclxuICAgIHRodW1ibmFpbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gKGluZGV4ID0gdGh1bWJuYWlsSW5kZXgpICYmIGhhbmRsZURpc3BsYXlJbWFnZShpbmRleCkpXHJcbiAgKTtcclxuXHJcbiAgYXJyb3dJY29ucy5mb3JFYWNoKChpY29uKSA9PiB7XHJcbiAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBoYW5kbGVBcnJvd0FjdGlvbihpY29uKSk7XHJcbiAgfSk7XHJcblxyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgaWYgKFxyXG4gICAgICAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZ2FsbGVyeVwiKSAmJiBib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImRpc2FibGUtc2Nyb2xsXCIpKSB8fFxyXG4gICAgICBib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImNhcm91c2VsXCIpXHJcbiAgICApIHtcclxuICAgICAgaGFpcmN1dEdhbGxlcnkuY2xhc3NMaXN0LnJlbW92ZShcImRpc3BsYXktZ2FsbGVyeVwiKTtcclxuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcbiAgICAgIG5hdkRlc2t0b3AuY2xhc3NMaXN0LnJlbW92ZShcIm5hdi10cmFuc2l0aW9uXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB3b3JrQnRuT25lLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICB7XHJcbiAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICBoYWlyY3V0R2FsbGVyeS5jbGFzc0xpc3QuYWRkKFwiZGlzcGxheS1nYWxsZXJ5XCIpO1xyXG4gICAgICBuYXZEZXNrdG9wLmNsYXNzTGlzdC5hZGQoXCJuYXYtdHJhbnNpdGlvblwiKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tZmFkZUlOIGFuaW0gLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5jb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcykgPT4ge1xyXG4gIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuY29uc3QgaGlkZGVuRWxlbWVudHNMZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oaWRkZW5cIik7XHJcbmNvbnN0IGhpZGRlbkVsZW1lbnRzUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhpZGRlbi1yaWdodFwiKTtcclxuY29uc3QgaGlkZGVuVmFuaXNoZWRFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGlkZGVuLXZhbmlzaGVkXCIpO1xyXG5oaWRkZW5FbGVtZW50c0xlZnQuZm9yRWFjaCgoZWwpID0+IG9ic2VydmVyLm9ic2VydmUoZWwpKTtcclxuaGlkZGVuRWxlbWVudHNSaWdodC5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xyXG5oaWRkZW5WYW5pc2hlZEVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiBvYnNlcnZlci5vYnNlcnZlKGVsKSk7XHJcbiJdfQ==
