window.onload=function(){function t(e){e.classList.remove("error-display"),e.textContent=""}function o(e,t){e.classList.add("error-display"),e.textContent=t}var r=document.querySelector(".body"),n=document.querySelector(".burger"),c=document.querySelectorAll(".burger__bars"),s=document.querySelector(".nav"),i=document.querySelector(".nav-desktop"),e=document.querySelectorAll(".nav-mobile__link"),a=document.querySelector(".arrowup"),d=document.querySelector(".footer__bottom--date"),u=document.querySelectorAll(".section"),m=document.querySelector(".error-msg"),f=document.querySelector(".error-msg-tel"),v=document.querySelector(".email"),h=document.querySelector(".telNum"),y=document.querySelector(".submit"),L=(new Date).getFullYear(),d=(d.textContent=L.toString(),window.addEventListener("scroll",function(){var t=window.scrollY;u.forEach(function(e){!e.classList.contains("white-section")&&e.offsetTop<=t+30?c.forEach(function(e){return e.classList.add("white-burger")}):e.classList.contains("white-section")&&e.offsetTop<=t+30&&c.forEach(function(e){return e.classList.remove("white-burger")})}),480<window.scrollY?a.classList.add("active"):a.classList.remove("active")}),n.addEventListener("click",function(){s.classList.toggle("active"),n.classList.toggle("active"),r.classList.toggle("disable-scroll"),e.forEach(function(e){e.addEventListener("click",function(){s.classList.remove("active"),n.classList.remove("active"),r.classList.remove("disable-scroll")})})}),y.addEventListener("click",function(e){e.preventDefault(),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(v.value)?t(m):o(m,"wpisz poprawny adres email."),/^[0-9\+]{8,13}$/.test(h.value)?t(f):o(f,"wpisz poprawny nr tel.")}),document.querySelector(".carousel")),L=document.querySelector(".btn-one"),b=(document.querySelector(".btn-two"),document.querySelector(".btn-three"),document.querySelector(".btn-four"),document.querySelector(".gallery-haircut")),g=d.querySelectorAll(".img"),y=document.querySelectorAll(".arrow"),S=document.querySelector(".carousel-thumbnails"),q=document.querySelectorAll(".thumbnail-img"),w=0;function E(e){var t;"left"===e.id&&0<w?w--:"left"===e.id&&0===w?(w=q.length-1,w--):"right"===e.id&&w<q.length-1?w++:w=0,t=w,l=2,"left"===(e=e).id===l?S.scroll({top:0,left:-78.75,behavior:"smooth"}):(e.id,t===l&&S.scroll({top:0,left:78.75,behavior:"smooth"})),p(w),console.log("index post: ".concat(w))}function p(r){g.forEach(function(e,t){var o;r===t?(e.classList.add("show-image"),o=t,q.forEach(function(e,t){return o===t?e.classList.remove("thumbnail-disabled"):e.classList.add("thumbnail-disabled")})):e.classList.remove("show-image")})}q.forEach(function(e,t){return e.addEventListener("click",function(){return(w=t)&&p(w)})}),y.forEach(function(e){e.addEventListener("click",function(){return E(e)})}),document.addEventListener("click",function(e){(e.target.classList.contains("gallery")&&r.classList.contains("disable-scroll")||r.classList.contains("carousel"))&&(b.classList.remove("display-gallery"),r.classList.remove("disable-scroll"),i.classList.remove("nav-transition"))}),L.addEventListener("click",function(){r.classList.add("disable-scroll"),b.classList.add("display-gallery"),i.classList.add("nav-transition")})};var observer=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&e.target.classList.add("show")})}),hiddenElementsLeft=document.querySelectorAll(".hidden"),hiddenElementsRight=document.querySelectorAll(".hidden-right"),hiddenVanishedElements=document.querySelectorAll(".hidden-vanished");hiddenElementsLeft.forEach(function(e){return observer.observe(e)}),hiddenElementsRight.forEach(function(e){return observer.observe(e)}),hiddenVanishedElements.forEach(function(e){return observer.observe(e)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwiY2xlYXJFcnJvciIsImVsIiwic3VibWl0QnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNob3dFcnJvciIsImlucHV0IiwibXNnIiwiZm9ybUJveCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnVyZ2VyIiwiYm9keSIsImFsbEJ1cmdlckJhcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmF2TW9iaWxlIiwibmF2RGVza3RvcCIsImFycm93VXAiLCJmb290ZXJEYXRlIiwiYWxsU2VjdGlvbnMiLCJlcnJvck1zZyIsImVycm9yTXNnVGVsIiwiZW1haWwiLCJ0ZWxOdW0iLCJjdXJyZW50RGF0ZSIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImNhcm91c2VsIiwiY3VycmVudFllYXIiLCJ0b1N0cmluZyIsInZhbGlkTnVtIiwiZm9yRWFjaCIsInNjcm9sbFkiLCJzZWN0aW9uIiwib2Zmc2V0VG9wIiwiYmFyIiwiaGFuZGxlQXJyb3dVcCIsImNvbnRhaW5zIiwiY3VycmVudFNlY3Rpb24iLCJoYW5kbGVOYXYiLCJyZW1vdmUiLCJ0b2dnbGUiLCJhbGxOYXZMaW5rcyIsImxpbmsiLCJ3b3JrQnRuVGhyZWUiLCJ3b3JrQnRuRm91ciIsInRlc3QiLCJoYWlyY3V0R2FsbGVyeSIsInZhbHVlIiwiaGFuZGxlQXJyb3dBY3Rpb24iLCJ3b3JrQnRuT25lIiwiaW5kZXgiLCJ0aHVtYm5haWxJbWFnZXMiLCJsZW5ndGgiLCJhcnJvd0ljb25zIiwiaWQiLCJoYW5kbGVEaXNwbGF5SW1hZ2UiLCJpY29uIiwiaGFuZGxlU3dpcGVUaHVtYm5haWxzIiwidGh1bWJuYWlsc0Nhcm91c2VsIiwibGVmdCIsImwiLCJjdXJyZW50SW5kZXgiLCJ0b3AiLCJpbWFnZSIsImJlaGF2aW9yIiwiaGFuZGxlQWN0aXZhdGVUaHVtYm5haWwiLCJjb25zb2xlIiwiaW1hZ2VzIiwidGh1bWJuYWlsIiwidGh1bWJuYWlsSW5kZXgiLCJvYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsImhpZGRlbkVsZW1lbnRzTGVmdCIsImhpZGRlbkVsZW1lbnRzUmlnaHQiLCJvYnNlcnZlIiwiZW50cmllcyIsInRhcmdldCIsImhpZGRlblZhbmlzaGVkRWxlbWVudHMiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFPQyxPQUFTLFdBK0ZLLFNBQWJDLEVBQWNDLEdBYXBCQyxFQUFVQyxVQUFBQSxPQUFpQixlQUFTLEVBQ2xDQyxFQUFFQyxZQUFnQixFQVZwQixDQWFFLFNBQUFDLEVBQUFDLEVBQUFDLEdBRUZDLEVBQUFDLFVBQUFDLElBQUEsZUFBQSxFQVZFRixFQUFRRyxZQUFjSixDQVl4QixDQXBIRlYsSUFBT0MsRUFBTWMsU0FBR0MsY0FBWSxPQUFBLEVBQzFCQyxFQUFBRixTQUFBQyxjQUFBLFNBQUEsRUFDTUUsRUFBZ0JGLFNBQUFBLGlCQUFzQixlQUFBLEVBQ3RDQyxFQUFTRixTQUFTQyxjQUFjLE1BQVUsRUFDMUNHLEVBQWFKLFNBQVdDLGNBQUNJLGNBQWlCLEVBQzFDQyxFQUFZTixTQUFTQyxpQkFBcUIsbUJBQUEsRUFDMUNNLEVBQVVQLFNBQVdDLGNBQWMsVUFBQyxFQUVwQ08sRUFBVVIsU0FBU0MsY0FBYyx1QkFBVyxFQUU1Q1EsRUFBYVQsU0FBU0MsaUJBQWMsVUFBQSxFQUNwQ1MsRUFBV1YsU0FBV0MsY0FBQ0ksWUFBaUIsRUFDeENNLEVBQVdYLFNBQVNDLGNBQWMsZ0JBQWEsRUFDL0NXLEVBQUFBLFNBQWNaLGNBQVNDLFFBQWMsRUFDckNZLEVBQVFiLFNBQVNDLGNBQWMsU0FBUyxFQUN4Q2EsRUFBU2QsU0FBU0MsY0FBYyxTQUFVLEVBSTFDYyxHQUROLElBQUFDLE1BQzhCQyxZQUFBLEVBOEc5QkMsR0ExR0VULEVBQVdWLFlBQWNvQixFQUFZQyxTQUFTLEVBZ0RoRG5DLE9BUU1vQyxpQkFB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QyxHQUNYQSxFQUFNQyxnQkFDUkQsRUFBTU0sT0FBT3pFLFVBQVVDLElBQUksTUFBTSxDQUVyQyxDQUFDLENBQ0gsQ0FBQyxFQUVLb0UsbUJBQXFCbEUsU0FBU0ssaUJBQWlCLFNBQVMsRUFDeEQ4RCxvQkFBc0JuRSxTQUFTSyxpQkFBaUIsZUFBZSxFQUMvRGtFLHVCQUF5QnZFLFNBQVNLLGlCQUFpQixrQkFBa0IsRUFDM0U2RCxtQkFBbUI1QyxRQUFRLFNBQUNsQyxHQUFFLE9BQUswRSxTQUFTTSxRQUFRaEYsQ0FBRSxDQUFDLENBQUEsRUFDdkQrRSxvQkFBb0I3QyxRQUFRLFNBQUNsQyxHQUFFLE9BQUswRSxTQUFTTSxRQUFRaEYsQ0FBRSxDQUFDLENBQUEsRUFDeERtRix1QkFBdUJqRCxRQUFRLFNBQUNsQyxHQUFFLE9BQUswRSxTQUFTTSxRQUFRaEYsQ0FBRSxDQUFDLENBQUEiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gIC8vc2VsZWN0b3JzXHJcbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYm9keVwiKTtcclxuICBjb25zdCBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlclwiKTtcclxuICBjb25zdCBhbGxCdXJnZXJCYXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5idXJnZXJfX2JhcnNcIik7XHJcbiAgY29uc3QgbmF2TW9iaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZcIik7XHJcbiAgY29uc3QgbmF2RGVza3RvcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2LWRlc2t0b3BcIik7XHJcbiAgY29uc3QgYWxsTmF2TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdi1tb2JpbGVfX2xpbmtcIik7XHJcbiAgY29uc3QgYXJyb3dVcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXJyb3d1cFwiKTtcclxuXHJcbiAgY29uc3QgZm9vdGVyRGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9vdGVyX19ib3R0b20tLWRhdGVcIik7XHJcbiAgY29uc3QgYWxsU2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNlY3Rpb25cIik7XHJcbiAgY29uc3QgZXJyb3JNc2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVycm9yLW1zZ1wiKTtcclxuICBjb25zdCBlcnJvck1zZ1RlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3ItbXNnLXRlbFwiKTtcclxuICBjb25zdCBlbWFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZW1haWxcIik7XHJcbiAgY29uc3QgdGVsTnVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50ZWxOdW1cIik7XHJcbiAgY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zdWJtaXRcIik7XHJcblxyXG4gIC8vIGZvb3RlclxyXG4gIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuICBjb25zdCBjdXJyZW50WWVhciA9IGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUZvb3RlclllYXIgPSAoKSA9PiB7XHJcbiAgICBmb290ZXJEYXRlLnRleHRDb250ZW50ID0gY3VycmVudFllYXIudG9TdHJpbmcoKTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVGb290ZXJZZWFyKCk7XHJcbiAgLy8gTkFWXHJcblxyXG4gIGNvbnN0IGhhbmRsZU5hdiA9ICgpID0+IHtcclxuICAgIG5hdk1vYmlsZS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgYnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICBib2R5LmNsYXNzTGlzdC50b2dnbGUoXCJkaXNhYmxlLXNjcm9sbFwiKTtcclxuXHJcbiAgICBhbGxOYXZMaW5rcy5mb3JFYWNoKChsaW5rKSA9PiB7XHJcbiAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBuYXZNb2JpbGUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICBidXJnZXIuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlLXNjcm9sbFwiKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIGNvbnN0IGhhbmRsZUFycm93VXAgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50U2VjdGlvbiA9IHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgaWYgKGN1cnJlbnRTZWN0aW9uID4gNDgwKSB7XHJcbiAgICAgIGFycm93VXAuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFycm93VXAuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKHdpbmRvdy5zY3JvbGxZKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVPYnNlcnZlciA9ICgpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRTZWN0aW9uID0gd2luZG93LnNjcm9sbFk7XHJcblxyXG4gICAgYWxsU2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgIXNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKFwid2hpdGUtc2VjdGlvblwiKSAmJlxyXG4gICAgICAgIHNlY3Rpb24ub2Zmc2V0VG9wIDw9IGN1cnJlbnRTZWN0aW9uICsgMzBcclxuICAgICAgKSB7XHJcbiAgICAgICAgYWxsQnVyZ2VyQmFycy5mb3JFYWNoKChiYXIpID0+IGJhci5jbGFzc0xpc3QuYWRkKFwid2hpdGUtYnVyZ2VyXCIpKTtcclxuICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICBzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucyhcIndoaXRlLXNlY3Rpb25cIikgJiZcclxuICAgICAgICBzZWN0aW9uLm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIDMwXHJcbiAgICAgICkge1xyXG4gICAgICAgIGFsbEJ1cmdlckJhcnMuZm9yRWFjaCgoYmFyKSA9PiBiYXIuY2xhc3NMaXN0LnJlbW92ZShcIndoaXRlLWJ1cmdlclwiKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaGFuZGxlQXJyb3dVcCgpO1xyXG4gIH07XHJcblxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZU9ic2VydmVyKTtcclxuICBidXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU5hdik7XHJcblxyXG4gIC8vIGZvcm0gdmFsaWRhdG9yXHJcblxyXG4gIGNvbnN0IGNoZWNrVGVsTnVtID0gKHRlbE51bSkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWROdW0gPSAvXlswLTlcXCtdezgsMTN9JC87XHJcblxyXG4gICAgaWYgKHZhbGlkTnVtLnRlc3QodGVsTnVtLnZhbHVlKSkge1xyXG4gICAgICBjbGVhckVycm9yKGVycm9yTXNnVGVsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dFcnJvcihlcnJvck1zZ1RlbCwgXCJ3cGlzeiBwb3ByYXdueSBuciB0ZWwuXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNoZWNrTWFpbCA9IChlbWFpbCkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWRNYWlsID0gL15bXFx3LVxcLl0rQChbXFx3LV0rXFwuKStbXFx3LV17Miw0fSQvO1xyXG5cclxuICAgIGlmICh2YWxpZE1haWwudGVzdChlbWFpbC52YWx1ZSkpIHtcclxuICAgICAgY2xlYXJFcnJvcihlcnJvck1zZyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzaG93RXJyb3IoZXJyb3JNc2csIFwid3Bpc3ogcG9wcmF3bnkgYWRyZXMgZW1haWwuXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgY2xlYXJFcnJvciA9IChlbCkgPT4ge1xyXG4gICAgY29uc3QgZm9ybUJveCA9IGVsO1xyXG4gICAgZm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3ItZGlzcGxheVwiKTtcclxuICAgIGZvcm1Cb3gudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtQm94ID0gaW5wdXQ7XHJcbiAgICBmb3JtQm94LmNsYXNzTGlzdC5hZGQoXCJlcnJvci1kaXNwbGF5XCIpO1xyXG4gICAgZm9ybUJveC50ZXh0Q29udGVudCA9IG1zZztcclxuICB9O1xyXG5cclxuICAvLyBldmVudCBsaXN0ZW5lcnNcclxuICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjaGVja01haWwoZW1haWwpO1xyXG4gICAgY2hlY2tUZWxOdW0odGVsTnVtKTtcclxuICB9KTtcclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLSBHQUxMRVJZIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gIGNvbnN0IGNhcm91c2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJvdXNlbFwiKTtcclxuICBjb25zdCB3b3JrQnRuT25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tb25lXCIpO1xyXG4gIGNvbnN0IHdvcmtCdG5Ud28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi10d29cIik7XHJcbiAgY29uc3Qgd29ya0J0blRocmVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tdGhyZWVcIik7XHJcbiAgY29uc3Qgd29ya0J0bkZvdXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1mb3VyXCIpO1xyXG4gIGNvbnN0IGhhaXJjdXRHYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5LWhhaXJjdXRcIik7XHJcbiAgY29uc3QgaW1hZ2VzID0gY2Fyb3VzZWwucXVlcnlTZWxlY3RvckFsbChcIi5pbWdcIik7XHJcbiAgY29uc3QgYXJyb3dJY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYXJyb3dcIik7XHJcbiAgY29uc3QgdGh1bWJuYWlsc0Nhcm91c2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJvdXNlbC10aHVtYm5haWxzXCIpO1xyXG4gIGNvbnN0IHRodW1ibmFpbEltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGh1bWJuYWlsLWltZ1wiKTtcclxuXHJcbiAgbGV0IGluZGV4ID0gMDtcclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlQXJyb3dBY3Rpb24oaWNvbikge1xyXG4gICAgLy8gaGFuZGxlU3dpcGVUaHVtYm5haWxzKGljb24sIGluZGV4KTtcclxuICAgIGlmIChpY29uLmlkID09PSBcImxlZnRcIiAmJiBpbmRleCA+IDApIHtcclxuICAgICAgaW5kZXgtLTtcclxuICAgIH0gZWxzZSBpZiAoaWNvbi5pZCA9PT0gXCJsZWZ0XCIgJiYgaW5kZXggPT09IDApIHtcclxuICAgICAgaW5kZXggPSB0aHVtYm5haWxJbWFnZXMubGVuZ3RoIC0gMTtcclxuICAgICAgaW5kZXgtLTtcclxuICAgIH0gZWxzZSBpZiAoaWNvbi5pZCA9PT0gXCJyaWdodFwiICYmIGluZGV4IDwgdGh1bWJuYWlsSW1hZ2VzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgaW5kZXgrKztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGluZGV4ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTd2lwZVRodW1ibmFpbHMoaWNvbiwgaW5kZXgpO1xyXG4gICAgaGFuZGxlRGlzcGxheUltYWdlKGluZGV4KTtcclxuICAgIGNvbnNvbGUubG9nKGBpbmRleCBwb3N0OiAke2luZGV4fWApO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlU3dpcGVUaHVtYm5haWxzKGljb24sIGluZGV4KSB7XHJcbiAgICBsID0gMjtcclxuXHJcbiAgICBpZiAoKGljb24uaWQgPT09IFwibGVmdFwiKSA9PT0gbCkge1xyXG4gICAgICB0aHVtYm5haWxzQ2Fyb3VzZWwuc2Nyb2xsKHtcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgbGVmdDogLTc4Ljc1LFxyXG4gICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoKGljb24uaWQgPT09IFwicmlnaHRcIiwgaW5kZXggPT09IGwpKSB7XHJcbiAgICAgIHRodW1ibmFpbHNDYXJvdXNlbC5zY3JvbGwoe1xyXG4gICAgICAgIHRvcDogMCxcclxuICAgICAgICBsZWZ0OiA3OC43NSxcclxuICAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVEaXNwbGF5SW1hZ2UoY3VycmVudEluZGV4KSB7XHJcbiAgICBpbWFnZXMuZm9yRWFjaCgoaW1hZ2UsIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IGluZGV4KSB7XHJcbiAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LmFkZChcInNob3ctaW1hZ2VcIiksIGhhbmRsZUFjdGl2YXRlVGh1bWJuYWlsKGluZGV4KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpbWFnZS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1pbWFnZVwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVBY3RpdmF0ZVRodW1ibmFpbChjdXJyZW50SW5kZXgpIHtcclxuICAgIHRodW1ibmFpbEltYWdlcy5mb3JFYWNoKCh0aHVtYm5haWwsIGluZGV4KSA9PlxyXG4gICAgICBjdXJyZW50SW5kZXggPT09IGluZGV4XHJcbiAgICAgICAgPyB0aHVtYm5haWwuY2xhc3NMaXN0LnJlbW92ZShcInRodW1ibmFpbC1kaXNhYmxlZFwiKVxyXG4gICAgICAgIDogdGh1bWJuYWlsLmNsYXNzTGlzdC5hZGQoXCJ0aHVtYm5haWwtZGlzYWJsZWRcIilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBldmVudCBsaXN0ZW5lcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICB0aHVtYm5haWxJbWFnZXMuZm9yRWFjaCgodGh1bWJuYWlsLCB0aHVtYm5haWxJbmRleCkgPT5cclxuICAgIHRodW1ibmFpbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gKGluZGV4ID0gdGh1bWJuYWlsSW5kZXgpICYmIGhhbmRsZURpc3BsYXlJbWFnZShpbmRleCkpXHJcbiAgKTtcclxuXHJcbiAgYXJyb3dJY29ucy5mb3JFYWNoKChpY29uKSA9PiB7XHJcbiAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBoYW5kbGVBcnJvd0FjdGlvbihpY29uKSk7XHJcbiAgfSk7XHJcblxyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgaWYgKFxyXG4gICAgICAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZ2FsbGVyeVwiKSAmJiBib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImRpc2FibGUtc2Nyb2xsXCIpKSB8fFxyXG4gICAgICBib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImNhcm91c2VsXCIpXHJcbiAgICApIHtcclxuICAgICAgaGFpcmN1dEdhbGxlcnkuY2xhc3NMaXN0LnJlbW92ZShcImRpc3BsYXktZ2FsbGVyeVwiKTtcclxuICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcbiAgICAgIG5hdkRlc2t0b3AuY2xhc3NMaXN0LnJlbW92ZShcIm5hdi10cmFuc2l0aW9uXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB3b3JrQnRuT25lLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICB7XHJcbiAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICBoYWlyY3V0R2FsbGVyeS5jbGFzc0xpc3QuYWRkKFwiZGlzcGxheS1nYWxsZXJ5XCIpO1xyXG4gICAgICBuYXZEZXNrdG9wLmNsYXNzTGlzdC5hZGQoXCJuYXYtdHJhbnNpdGlvblwiKTtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tZmFkZUlOIGFuaW0gLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5jb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcykgPT4ge1xyXG4gIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICBlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuY29uc3QgaGlkZGVuRWxlbWVudHNMZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oaWRkZW5cIik7XHJcbmNvbnN0IGhpZGRlbkVsZW1lbnRzUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhpZGRlbi1yaWdodFwiKTtcclxuY29uc3QgaGlkZGVuVmFuaXNoZWRFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGlkZGVuLXZhbmlzaGVkXCIpO1xyXG5oaWRkZW5FbGVtZW50c0xlZnQuZm9yRWFjaCgoZWwpID0+IG9ic2VydmVyLm9ic2VydmUoZWwpKTtcclxuaGlkZGVuRWxlbWVudHNSaWdodC5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xyXG5oaWRkZW5WYW5pc2hlZEVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiBvYnNlcnZlci5vYnNlcnZlKGVsKSk7XHJcbiJdfQ==
