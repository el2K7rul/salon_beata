window.onload=function(){function t(e){e.classList.remove("error-display"),e.textContent=""}function o(e,t){e.classList.add("error-display"),e.textContent=t}var c=document.querySelector(".body"),n=document.querySelector(".burger"),r=document.querySelectorAll(".burger__bars"),s=document.querySelector(".nav"),l=document.querySelector(".nav-desktop"),e=document.querySelectorAll(".nav-mobile__link"),i=document.querySelector(".arrowup"),a=document.querySelector(".footer__bottom--date"),d=document.querySelectorAll(".section"),u=document.querySelector(".error-msg"),m=document.querySelector(".error-msg-tel"),f=document.querySelector(".email"),v=document.querySelector(".telNum"),L=document.querySelector(".submit"),y=(new Date).getFullYear(),a=(a.textContent=y.toString(),window.addEventListener("scroll",function(){var t=window.scrollY;d.forEach(function(e){!e.classList.contains("white-section")&&e.offsetTop<=t+30?r.forEach(function(e){return e.classList.add("white-burger")}):e.classList.contains("white-section")&&e.offsetTop<=t+100&&r.forEach(function(e){return e.classList.remove("white-burger")})}),480<window.scrollY?i.classList.add("active"):i.classList.remove("active")}),n.addEventListener("click",function(){s.classList.toggle("active"),n.classList.toggle("active"),c.classList.toggle("disable-scroll"),e.forEach(function(e){e.addEventListener("click",function(){s.classList.remove("active"),n.classList.remove("active"),c.classList.remove("disable-scroll")})})}),L.addEventListener("click",function(e){e.preventDefault(),/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(f.value)?t(u):o(u,"wpisz poprawny adres email."),/^[0-9\+]{8,13}$/.test(v.value)?t(m):o(m,"wpisz poprawny nr tel.")}),document.querySelector(".carousel")),y=document.querySelectorAll(".work-btn"),L=document.querySelectorAll(".arrow"),g=document.getElementById("haircut"),h=document.getElementById("color"),w=a.querySelectorAll(".img"),b=document.querySelectorAll(".thumbnail-img"),E=0;function S(c){w.forEach(function(e,t){var o;c===t?(e.classList.add("show-image"),o=t,b.forEach(function(e,t){return o===t?e.classList.remove("thumbnail-disabled"):e.classList.add("thumbnail-disabled")})):e.classList.remove("show-image")})}y.forEach(function(t){return t.addEventListener("click",function(){var e;"btn-one"===(e=t).id?(console.log("clicked one"),c.classList.add("disable-scroll"),g.classList.add("display-gallery"),l.classList.add("nav-transition")):"btn-two"===e.id?(console.log("clicked two"),c.classList.add("disable-scroll"),h.classList.add("display-gallery"),l.classList.add("nav-transition")):"btn-three"===e.id?console.log("clicked three"):console.log("clicked four")})}),b.forEach(function(e,t){return e.addEventListener("click",function(){S(E=t)})}),L.forEach(function(t){t.addEventListener("click",function(){var e;"left"===(e=t).id&&0===E?(E=4,E--):"left"===e.id&&0<E?E--:"right"===e.id&&E<3?E++:E=0,S(E),console.log("index post: ".concat(E))})}),document.addEventListener("click",function(e){(e.target.classList.contains("gallery")&&c.classList.contains("disable-scroll")||c.classList.contains("carousel"))&&(g.classList.remove("display-gallery"),c.classList.remove("disable-scroll"),l.classList.remove("nav-transition"))});var q=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&e.target.classList.add("show")})}),a=document.querySelectorAll(".hidden"),y=document.querySelectorAll(".hidden-right"),L=document.querySelectorAll(".hidden-vanished");a.forEach(function(e){return q.observe(e)}),y.forEach(function(e){return q.observe(e)}),L.forEach(function(e){return q.observe(e)})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwiY2xlYXJFcnJvciIsImVsIiwic3VibWl0QnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNob3dFcnJvciIsImlucHV0IiwibXNnIiwiZm9ybUJveCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnVyZ2VyIiwiYm9keSIsImFsbEJ1cmdlckJhcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmF2TW9iaWxlIiwibmF2RGVza3RvcCIsImFycm93VXAiLCJmb290ZXJEYXRlIiwiYWxsU2VjdGlvbnMiLCJlcnJvck1zZyIsImVycm9yTXNnVGVsIiwiZW1haWwiLCJ0ZWxOdW0iLCJjdXJyZW50RGF0ZSIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImluZGV4IiwiY3VycmVudFllYXIiLCJ0b1N0cmluZyIsInZhbGlkTnVtIiwiZm9yRWFjaCIsInNjcm9sbFkiLCJzZWN0aW9uIiwib2Zmc2V0VG9wIiwiYmFyIiwiaGFuZGxlQXJyb3dVcCIsImNvbnRhaW5zIiwiY3VycmVudFNlY3Rpb24iLCJoYW5kbGVOYXYiLCJyZW1vdmUiLCJ0b2dnbGUiLCJhbGxOYXZMaW5rcyIsImxpbmsiLCJoYWlyY3V0R2FsbGVyeSIsImdldEVsZW1lbnRCeUlkIiwiY29sb3JHYWxsZXJ5IiwidGVzdCIsInZhbHVlIiwidGh1bWJuYWlsSW1hZ2VzIiwid29ya0J0bnMiLCJhcnJvd0ljb25zIiwiaWQiLCJoYW5kbGVEaXNwbGF5SW1hZ2UiLCJjb25zb2xlIiwiY29uY2F0IiwiaGFuZGxlV29ya0J0biIsImJ0biIsImltYWdlcyIsImN1cnJlbnRJbmRleCIsImltYWdlIiwiaGFuZGxlQXJyb3dBY3Rpb24iLCJ0aHVtYm5haWwiLCJsb2ciLCJ0aHVtYm5haWxJbmRleCIsIm9ic2VydmVyIiwiaWNvbiIsImhpZGRlbkVsZW1lbnRzTGVmdCIsImhpZGRlblZhbmlzaGVkRWxlbWVudHMiLCJoaWRkZW5FbGVtZW50c1JpZ2h0IiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsInRhcmdldCIsIm9ic2VydmUiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFPQyxPQUFTLFdBOEZLLFNBQWJDLEVBQWNDLEdBYXBCQyxFQUFVQyxVQUFBQSxPQUFpQixlQUFTLEVBQ2xDQyxFQUFFQyxZQUFnQixFQVZwQixDQWFFLFNBQUFDLEVBQUFDLEVBQUFDLEdBRUZDLEVBQUFDLFVBQUFDLElBQUEsZUFBQSxFQVZFRixFQUFRRyxZQUFjSixDQVl4QixDQW5IRlYsSUFBT0MsRUFBTWMsU0FBR0MsY0FBWSxPQUFBLEVBQzFCQyxFQUFBRixTQUFBQyxjQUFBLFNBQUEsRUFDTUUsRUFBZ0JGLFNBQUFBLGlCQUFzQixlQUFBLEVBQ3RDQyxFQUFTRixTQUFTQyxjQUFjLE1BQVUsRUFDMUNHLEVBQWFKLFNBQVdDLGNBQUNJLGNBQWlCLEVBQzFDQyxFQUFZTixTQUFTQyxpQkFBcUIsbUJBQUEsRUFDMUNNLEVBQVVQLFNBQVdDLGNBQWMsVUFBQyxFQUVwQ08sRUFBVVIsU0FBU0MsY0FBYyx1QkFBVyxFQUU1Q1EsRUFBYVQsU0FBU0MsaUJBQWMsVUFBQSxFQUNwQ1MsRUFBV1YsU0FBV0MsY0FBQ0ksWUFBaUIsRUFDeENNLEVBQVdYLFNBQVNDLGNBQWMsZ0JBQWEsRUFDL0NXLEVBQUFBLFNBQWNaLGNBQVNDLFFBQWMsRUFDckNZLEVBQVFiLFNBQVNDLGNBQWMsU0FBUyxFQUN4Q2EsRUFBU2QsU0FBU0MsY0FBYyxTQUFVLEVBSTFDYyxHQUROLElBQUFDLE1BQzhCQyxZQUFBLEVBZ0gxQkMsR0E1R0ZULEVBQVdWLFlBQWNvQixFQUFZQyxTQUFTLEVBK0NoRG5DLE9BUU1vQyxpQkFBY1AsU0F0QkxqQixXQUpiLElBT0lPLEVBQWNrQixPQUFRQyxRQUwxQmIsRUFLcUVZLFFBQUEsU0FBQUUsR0FLakVwQixDQUFBQSxFQUFBQSxV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QUFTLEVBQ3hEdUQsRUFBc0I1RCxTQUFTSyxpQkFBaUIsZUFBZSxFQUMvRHNELEVBQXlCM0QsU0FBU0ssaUJBQWlCLGtCQUFrQixFQUMzRXFELEVBQW1CcEMsUUFBUSxTQUFDbEMsR0FBRSxPQUFLb0UsRUFBU1UsUUFBUTlFLENBQUUsQ0FBQyxDQUFBLEVBQ3ZEd0UsRUFBb0J0QyxRQUFRLFNBQUNsQyxHQUFFLE9BQUtvRSxFQUFTVSxRQUFROUUsQ0FBRSxDQUFDLENBQUEsRUFDeER1RSxFQUF1QnJDLFFBQVEsU0FBQ2xDLEdBQUUsT0FBS29FLEVBQVNVLFFBQVE5RSxDQUFFLENBQUMsQ0FBQSxDQUM3RCIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy9zZWxlY3RvcnNcclxuICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ib2R5XCIpO1xyXG4gIGNvbnN0IGJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyXCIpO1xyXG4gIGNvbnN0IGFsbEJ1cmdlckJhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ1cmdlcl9fYmFyc1wiKTtcclxuICBjb25zdCBuYXZNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdlwiKTtcclxuICBjb25zdCBuYXZEZXNrdG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXYtZGVza3RvcFwiKTtcclxuICBjb25zdCBhbGxOYXZMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2LW1vYmlsZV9fbGlua1wiKTtcclxuICBjb25zdCBhcnJvd1VwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnJvd3VwXCIpO1xyXG5cclxuICBjb25zdCBmb290ZXJEYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb290ZXJfX2JvdHRvbS0tZGF0ZVwiKTtcclxuICBjb25zdCBhbGxTZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2VjdGlvblwiKTtcclxuICBjb25zdCBlcnJvck1zZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZXJyb3ItbXNnXCIpO1xyXG4gIGNvbnN0IGVycm9yTXNnVGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvci1tc2ctdGVsXCIpO1xyXG4gIGNvbnN0IGVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbWFpbFwiKTtcclxuICBjb25zdCB0ZWxOdW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRlbE51bVwiKTtcclxuICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN1Ym1pdFwiKTtcclxuXHJcbiAgLy8gZm9vdGVyXHJcbiAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IGN1cnJlbnRZZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRm9vdGVyWWVhciA9ICgpID0+IHtcclxuICAgIGZvb3RlckRhdGUudGV4dENvbnRlbnQgPSBjdXJyZW50WWVhci50b1N0cmluZygpO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZUZvb3RlclllYXIoKTtcclxuICAvLyBOQVZcclxuXHJcbiAgY29uc3QgaGFuZGxlTmF2ID0gKCkgPT4ge1xyXG4gICAgbmF2TW9iaWxlLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICBidXJnZXIuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgIGJvZHkuY2xhc3NMaXN0LnRvZ2dsZShcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG5cclxuICAgIGFsbE5hdkxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcclxuICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIG5hdk1vYmlsZS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIGJ1cmdlci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgY29uc3QgaGFuZGxlQXJyb3dVcCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRTZWN0aW9uID0gd2luZG93LnNjcm9sbFk7XHJcbiAgICBpZiAoY3VycmVudFNlY3Rpb24gPiA0ODApIHtcclxuICAgICAgYXJyb3dVcC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXJyb3dVcC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZU9ic2VydmVyID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY3VycmVudFNlY3Rpb24gPSB3aW5kb3cuc2Nyb2xsWTtcclxuXHJcbiAgICBhbGxTZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICAhc2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJ3aGl0ZS1zZWN0aW9uXCIpICYmXHJcbiAgICAgICAgc2VjdGlvbi5vZmZzZXRUb3AgPD0gY3VycmVudFNlY3Rpb24gKyAzMFxyXG4gICAgICApIHtcclxuICAgICAgICBhbGxCdXJnZXJCYXJzLmZvckVhY2goKGJhcikgPT4gYmFyLmNsYXNzTGlzdC5hZGQoXCJ3aGl0ZS1idXJnZXJcIikpO1xyXG4gICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKFwid2hpdGUtc2VjdGlvblwiKSAmJlxyXG4gICAgICAgIHNlY3Rpb24ub2Zmc2V0VG9wIDw9IGN1cnJlbnRTZWN0aW9uICsgMTAwXHJcbiAgICAgICkge1xyXG4gICAgICAgIGFsbEJ1cmdlckJhcnMuZm9yRWFjaCgoYmFyKSA9PiBiYXIuY2xhc3NMaXN0LnJlbW92ZShcIndoaXRlLWJ1cmdlclwiKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaGFuZGxlQXJyb3dVcCgpO1xyXG4gIH07XHJcblxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZU9ic2VydmVyKTtcclxuICBidXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU5hdik7XHJcblxyXG4gIC8vIGZvcm0gdmFsaWRhdG9yXHJcblxyXG4gIGNvbnN0IGNoZWNrVGVsTnVtID0gKHRlbE51bSkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWROdW0gPSAvXlswLTlcXCtdezgsMTN9JC87XHJcblxyXG4gICAgaWYgKHZhbGlkTnVtLnRlc3QodGVsTnVtLnZhbHVlKSkge1xyXG4gICAgICBjbGVhckVycm9yKGVycm9yTXNnVGVsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNob3dFcnJvcihlcnJvck1zZ1RlbCwgXCJ3cGlzeiBwb3ByYXdueSBuciB0ZWwuXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNoZWNrTWFpbCA9IChlbWFpbCkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWRNYWlsID0gL15bXFx3LVxcLl0rQChbXFx3LV0rXFwuKStbXFx3LV17Miw0fSQvO1xyXG5cclxuICAgIGlmICh2YWxpZE1haWwudGVzdChlbWFpbC52YWx1ZSkpIHtcclxuICAgICAgY2xlYXJFcnJvcihlcnJvck1zZyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzaG93RXJyb3IoZXJyb3JNc2csIFwid3Bpc3ogcG9wcmF3bnkgYWRyZXMgZW1haWwuXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgY2xlYXJFcnJvciA9IChlbCkgPT4ge1xyXG4gICAgY29uc3QgZm9ybUJveCA9IGVsO1xyXG4gICAgZm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3ItZGlzcGxheVwiKTtcclxuICAgIGZvcm1Cb3gudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcbiAgICBjb25zdCBmb3JtQm94ID0gaW5wdXQ7XHJcbiAgICBmb3JtQm94LmNsYXNzTGlzdC5hZGQoXCJlcnJvci1kaXNwbGF5XCIpO1xyXG4gICAgZm9ybUJveC50ZXh0Q29udGVudCA9IG1zZztcclxuICB9O1xyXG5cclxuICAvLyBldmVudCBsaXN0ZW5lcnNcclxuICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjaGVja01haWwoZW1haWwpO1xyXG4gICAgY2hlY2tUZWxOdW0odGVsTnVtKTtcclxuICB9KTtcclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLSBHQUxMRVJZIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gIGNvbnN0IGNhcm91c2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJvdXNlbFwiKTtcclxuICBjb25zdCB3b3JrQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIud29yay1idG5cIik7XHJcblxyXG4gIGNvbnN0IGFycm93SWNvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFycm93XCIpO1xyXG5cclxuICBjb25zdCBoYWlyY3V0R2FsbGVyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGFpcmN1dFwiKTtcclxuICBjb25zdCBjb2xvckdhbGxlcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbG9yXCIpO1xyXG5cclxuICBjb25zdCBpbWFnZXMgPSBjYXJvdXNlbC5xdWVyeVNlbGVjdG9yQWxsKFwiLmltZ1wiKTtcclxuICBjb25zdCB0aHVtYm5haWxJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRodW1ibmFpbC1pbWdcIik7XHJcblxyXG4gIGxldCBpbmRleCA9IDA7XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZUFycm93QWN0aW9uKGljb24pIHtcclxuICAgIGlmIChpY29uLmlkID09PSBcImxlZnRcIiAmJiBpbmRleCA9PT0gMCkge1xyXG4gICAgICBpbmRleCA9IDQ7XHJcbiAgICAgIGluZGV4LS07XHJcbiAgICB9IGVsc2UgaWYgKGljb24uaWQgPT09IFwibGVmdFwiICYmIGluZGV4ID4gMCkge1xyXG4gICAgICBpbmRleC0tO1xyXG4gICAgfSBlbHNlIGlmIChpY29uLmlkID09PSBcInJpZ2h0XCIgJiYgaW5kZXggPCAzKSB7XHJcbiAgICAgIGluZGV4Kys7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpbmRleCA9IDA7XHJcbiAgICB9XHJcbiAgICBoYW5kbGVEaXNwbGF5SW1hZ2UoaW5kZXgpO1xyXG4gICAgY29uc29sZS5sb2coYGluZGV4IHBvc3Q6ICR7aW5kZXh9YCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVXb3JrQnRuKGJ0bikge1xyXG4gICAgaWYgKGJ0bi5pZCA9PT0gXCJidG4tb25lXCIpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJjbGlja2VkIG9uZVwiKTtcclxuICAgICAge1xyXG4gICAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChcImRpc2FibGUtc2Nyb2xsXCIpO1xyXG4gICAgICAgIGhhaXJjdXRHYWxsZXJ5LmNsYXNzTGlzdC5hZGQoXCJkaXNwbGF5LWdhbGxlcnlcIik7XHJcbiAgICAgICAgbmF2RGVza3RvcC5jbGFzc0xpc3QuYWRkKFwibmF2LXRyYW5zaXRpb25cIik7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoYnRuLmlkID09PSBcImJ0bi10d29cIikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImNsaWNrZWQgdHdvXCIpO1xyXG4gICAgICB7XHJcbiAgICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZS1zY3JvbGxcIik7XHJcbiAgICAgICAgY29sb3JHYWxsZXJ5LmNsYXNzTGlzdC5hZGQoXCJkaXNwbGF5LWdhbGxlcnlcIik7XHJcbiAgICAgICAgbmF2RGVza3RvcC5jbGFzc0xpc3QuYWRkKFwibmF2LXRyYW5zaXRpb25cIik7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoYnRuLmlkID09PSBcImJ0bi10aHJlZVwiKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiY2xpY2tlZCB0aHJlZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiY2xpY2tlZCBmb3VyXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gZnVuY3Rpb24gaGFuZGxlU3dpcGVUaHVtYm5haWxzKGljb24sIGluZGV4KSB7XHJcbiAgLy8gICBsID0gMjtcclxuXHJcbiAgLy8gICBpZiAoKGljb24uaWQgPT09IFwibGVmdFwiKSA9PT0gbCkge1xyXG4gIC8vICAgICB0aHVtYm5haWxzQ2Fyb3VzZWwuc2Nyb2xsKHtcclxuICAvLyAgICAgICB0b3A6IDAsXHJcbiAgLy8gICAgICAgbGVmdDogLTc4Ljc1LFxyXG4gIC8vICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxyXG4gIC8vICAgICB9KTtcclxuICAvLyAgIH0gZWxzZSBpZiAoKGljb24uaWQgPT09IFwicmlnaHRcIiwgaW5kZXggPT09IGwpKSB7XHJcbiAgLy8gICAgIHRodW1ibmFpbHNDYXJvdXNlbC5zY3JvbGwoe1xyXG4gIC8vICAgICAgIHRvcDogMCxcclxuICAvLyAgICAgICBsZWZ0OiA3OC43NSxcclxuICAvLyAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcclxuICAvLyAgICAgfSk7XHJcbiAgLy8gICB9XHJcbiAgLy8gfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVEaXNwbGF5SW1hZ2UoY3VycmVudEluZGV4KSB7XHJcbiAgICBpbWFnZXMuZm9yRWFjaCgoaW1hZ2UsIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IGluZGV4KSB7XHJcbiAgICAgICAgaW1hZ2UuY2xhc3NMaXN0LmFkZChcInNob3ctaW1hZ2VcIiksIGhhbmRsZUFjdGl2YXRlVGh1bWJuYWlsKGluZGV4KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpbWFnZS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1pbWFnZVwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYW5kbGVBY3RpdmF0ZVRodW1ibmFpbChjdXJyZW50SW5kZXgpIHtcclxuICAgIHRodW1ibmFpbEltYWdlcy5mb3JFYWNoKCh0aHVtYm5haWwsIGluZGV4KSA9PlxyXG4gICAgICBjdXJyZW50SW5kZXggPT09IGluZGV4XHJcbiAgICAgICAgPyB0aHVtYm5haWwuY2xhc3NMaXN0LnJlbW92ZShcInRodW1ibmFpbC1kaXNhYmxlZFwiKVxyXG4gICAgICAgIDogdGh1bWJuYWlsLmNsYXNzTGlzdC5hZGQoXCJ0aHVtYm5haWwtZGlzYWJsZWRcIilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBldmVudCBsaXN0ZW5lcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIHdvcmtCdG5zLmZvckVhY2goKGJ0bikgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBoYW5kbGVXb3JrQnRuKGJ0bikpKTtcclxuXHJcbiAgdGh1bWJuYWlsSW1hZ2VzLmZvckVhY2goKHRodW1ibmFpbCwgdGh1bWJuYWlsSW5kZXgpID0+XHJcbiAgICB0aHVtYm5haWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgKGluZGV4ID0gdGh1bWJuYWlsSW5kZXgpLCBoYW5kbGVEaXNwbGF5SW1hZ2UoaW5kZXgpO1xyXG4gICAgfSlcclxuICApO1xyXG5cclxuICBhcnJvd0ljb25zLmZvckVhY2goKGljb24pID0+IHtcclxuICAgIGljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGhhbmRsZUFycm93QWN0aW9uKGljb24pKTtcclxuICB9KTtcclxuXHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBpZiAoXHJcbiAgICAgIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJnYWxsZXJ5XCIpICYmIGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGlzYWJsZS1zY3JvbGxcIikpIHx8XHJcbiAgICAgIGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2Fyb3VzZWxcIilcclxuICAgICkge1xyXG4gICAgICBoYWlyY3V0R2FsbGVyeS5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzcGxheS1nYWxsZXJ5XCIpO1xyXG4gICAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlLXNjcm9sbFwiKTtcclxuICAgICAgbmF2RGVza3RvcC5jbGFzc0xpc3QucmVtb3ZlKFwibmF2LXRyYW5zaXRpb25cIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tZmFkZUlOIGFuaW0gLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzKSA9PiB7XHJcbiAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XHJcbiAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGhpZGRlbkVsZW1lbnRzTGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGlkZGVuXCIpO1xyXG4gIGNvbnN0IGhpZGRlbkVsZW1lbnRzUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhpZGRlbi1yaWdodFwiKTtcclxuICBjb25zdCBoaWRkZW5WYW5pc2hlZEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oaWRkZW4tdmFuaXNoZWRcIik7XHJcbiAgaGlkZGVuRWxlbWVudHNMZWZ0LmZvckVhY2goKGVsKSA9PiBvYnNlcnZlci5vYnNlcnZlKGVsKSk7XHJcbiAgaGlkZGVuRWxlbWVudHNSaWdodC5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xyXG4gIGhpZGRlblZhbmlzaGVkRWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IG9ic2VydmVyLm9ic2VydmUoZWwpKTtcclxufTtcclxuIl19
